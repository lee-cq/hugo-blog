[{"content":"Windows-æŸ¥æ‰¾å¤§æ–‡ä»¶ ä½¿ç”¨å‘½ä»¤ï¼š\n1 forfiles /p E:\\ /s /m *.* /c \u0026#34;cmd /c if @fsize geq 104857600 (echo @path @fsize)\u0026#34; \u0026gt; E:\\big_files.txt Excelæ•°æ®å¤§å°æ˜“äºé˜…è¯»å…¬å¼\n1 2 3 4 5 6 7 8 9 10 11 12 13 =IF( A1\u0026gt;=1024^3, ROUND(A1/1024^3, 2)\u0026amp;\u0026#34; GB\u0026#34;, IF( A1\u0026gt;=1024^2, ROUND(A1/1024^2, 2)\u0026amp;\u0026#34; MB\u0026#34;, IF( A1\u0026gt;=1024, ROUND(A1/1024, 2)\u0026amp;\u0026#34; KB\u0026#34;, A1\u0026amp;\u0026#34; B\u0026#34; ) ) ) å°†ç»“æœå¯¼å…¥Excelè¿›è¡Œæ’åºå’Œåˆ†æ\n","date":"2025-09-13T14:33:55+08:00","permalink":"https://blog-g.leecq.cn/p/windows-%E6%9F%A5%E6%89%BE%E5%A4%A7%E6%96%87%E4%BB%B6/","title":"Windows-æŸ¥æ‰¾å¤§æ–‡ä»¶"},{"content":"UVï¼šè®©Pythonå¼€å‘é£èµ·æ¥çš„ç¥å™¨ï¼âœ¨ ğŸ”¥ ä¸ºä»€ä¹ˆæ¯ä¸ªPythonå¼€å‘è€…éƒ½åœ¨ç–¯ç‹‚å®‰åˆ©UVï¼Ÿ ğŸ’¨ é€Ÿåº¦å¿«åˆ°ä½ æ€€ç–‘äººç”Ÿï¼\næ¯”pipå¿«10-100å€ï¼å®‰è£…ä¾èµ–ä»æ³¡å’–å•¡æ—¶é—´ç¼©çŸ­åˆ°çœ¨çœ¼åŠŸå¤« å®æµ‹UVçº¦æ¯”pipå¿«è‡³å°‘10å€ä»¥ä¸Šï¼Œå¤æ‚é¡¹ç›®æå‡æ›´æ˜æ˜¾âš¡ï¸ å‘Šåˆ«æ¼«é•¿ç­‰å¾…ï¼Œå¼€å‘æ•ˆç‡ç¬é—´èµ·é£ï¼ ä¸€ä¸ªå·¥å…·æå®šæ‰€æœ‰äº‹æƒ…ï¼ å†ä¹Ÿä¸ç”¨åœ¨pipã€pipenvã€poetryä¹‹é—´çº ç»“äº†ï¼š ä¸€ä¸ªUV = æ•´ä¸ªå·¥å…·é“¾ï¼ ç”µè„‘å†…å­˜å’Œå¿ƒæ™ºè´Ÿæ‹…éƒ½å‡è½»äº†ï½\nâœ… åŒ…ç®¡ç† âœ… è™šæ‹Ÿç¯å¢ƒ âœ… é¡¹ç›®åˆå§‹åŒ– âœ… Pythonç‰ˆæœ¬ç®¡ç† âœ… ä¾èµ–é”å®š ğŸ›¡ï¸ ä¾èµ–å†²çªï¼Ÿä¸å­˜åœ¨çš„ï¼\næ™ºèƒ½ä¾èµ–è§£æï¼Œè‡ªåŠ¨é¿å…ç‰ˆæœ¬å†²çª é”æ–‡ä»¶ç¡®ä¿å›¢é˜Ÿç¯å¢ƒ100%ä¸€è‡´ å†ä¹Ÿä¸ä¼šå‡ºç°\u0026quot;åœ¨æˆ‘ç”µè„‘ä¸Šèƒ½è·‘\u0026quot;çš„å°´å°¬ ğŸš€ ç°ä»£åŒ–ä½“éªŒï¼Œå‘Šåˆ«çŸ³å™¨æ—¶ä»£\né›¶é…ç½®å¼€ç®±å³ç”¨ å‘½ä»¤ç®€æ´æ˜“è®° é”™è¯¯æç¤ºè¶…çº§å‹å¥½ è·¨å¹³å°æ— ç¼ä½¿ç”¨ ğŸ“– ä¸Šæ‰‹æŒ‡å— Step 1ï¸âƒ£ï¼šä¸€é”®å®‰è£… macOS/Linux ç”¨æˆ·\ncurl -LsSf https://astral.sh/uv/install.sh | sh\nWindows ç”¨æˆ·\npowershell -c \u0026quot;irm https://astral.sh/uv/install.ps1 | iex\u0026quot;\nä¹Ÿå¯ä»¥ç”¨åŒ…ç®¡ç†å™¨\nbrew install uv # macOS\nscoop install uv # Windows\nStep 2ï¸âƒ£ï¼šåˆ›å»ºé¡¹ç›®ï¼ˆ3ç§’æå®šï¼ï¼‰ 1 2 3 4 5 6 7 8 # åˆå§‹åŒ–æ–°é¡¹ç›® uv init my-awesome-project cd my-awesome-project # è‡ªåŠ¨ç”Ÿæˆæ ‡å‡†é¡¹ç›®ç»“æ„ ğŸ“ # â”œâ”€â”€ README.md # â”œâ”€â”€ pyproject.toml # â””â”€â”€ src/my_awesome_project/ Step 3ï¸âƒ£ï¼šç®¡ç†ä¾èµ–ï¼ˆæ¯”ç‚¹å¤–å–è¿˜ç®€å•ï¼ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 # æ·»åŠ å¸¸ç”¨åŒ… uv add requests pandas numpy matplotlib # æ·»åŠ å¼€å‘å·¥å…· uv add pytest black ruff --dev # ä¸€é”®å®‰è£…æ‰€æœ‰ä¾èµ– uv sync # è¿è¡Œä»£ç ï¼ˆè‡ªåŠ¨æ¿€æ´»ç¯å¢ƒï¼‰ uv run python main.py ğŸª æ—¥å¸¸ä½¿ç”¨æŠ€å·§å¤§å…¬å¼€ ğŸ› ï¸ é¡¹ç›®ç®¡ç†ç¯‡ å¿«é€Ÿæ·»åŠ ä¾èµ–\n1 2 3 4 5 6 7 8 # åŸºç¡€ç”¨æ³• uv add requests # æ·»åŠ æœ€æ–°ç‰ˆæœ¬ uv add \u0026#34;django\u0026gt;=4.0\u0026#34; # æŒ‡å®šç‰ˆæœ¬èŒƒå›´ uv add pytest --dev # å¼€å‘ä¾èµ– # é«˜çº§ç”¨æ³• uv add jupyter --group notebook # åˆ†ç»„ç®¡ç† uv add mysql-connector-python --optional database # å¯é€‰ä¾èµ– ç¯å¢ƒåŒæ­¥\n1 2 3 4 5 6 7 8 # å®Œæ•´åŒæ­¥ï¼ˆåŒ…æ‹¬å¼€å‘ä¾èµ–ï¼‰ uv sync # åªè¦ç”Ÿäº§ä¾èµ– uv sync --no-dev # åŒæ­¥ç‰¹å®šç»„ uv sync --group docs --group test ğŸ Pythonç‰ˆæœ¬ç®¡ç†ç¯‡ 1 2 3 4 5 6 7 8 9 10 11 12 # æŸ¥çœ‹å¯ç”¨ç‰ˆæœ¬ uv python list # å®‰è£…å¤šä¸ªPythonç‰ˆæœ¬ uv python install 3.10 3.11 3.12 # ä¸ºé¡¹ç›®æŒ‡å®šPythonç‰ˆæœ¬ uv python pin 3.11 # ç”¨ä¸åŒç‰ˆæœ¬æµ‹è¯• uv run --python 3.10 pytest uv run --python 3.12 pytest ğŸ”§ å·¥å…·å®‰è£…ç¯‡ 1 2 3 4 5 6 7 8 9 10 # å®‰è£…å…¨å±€å·¥å…· uv tool install black ruff jupyter # ç›´æ¥è¿è¡Œå·¥å…·ï¼ˆæ— éœ€å®‰è£…ï¼‰ uv tool run black . uv tool run ruff check # ç®¡ç†å·²å®‰è£…å·¥å…· uv tool list uv tool upgrade black ğŸ¯ å®æˆ˜åœºæ™¯ ğŸ†• æ–°é¡¹ç›®å¿«é€Ÿå¯åŠ¨ 1 2 3 4 5 6 7 8 9 10 11 12 # 1. åˆ›å»ºé¡¹ç›® uv init web-scraper cd web-scraper # 2. æ·»åŠ ä¾èµ– uv add requests beautifulsoup4 pandas # 3. æ·»åŠ å¼€å‘å·¥å…· uv add pytest black ruff --dev # 4. å¼€å§‹ç¼–ç  uv run python src/web_scraper/main.py ğŸ‘¥ å›¢é˜Ÿåä½œ 1 2 3 4 5 6 7 8 9 # é˜Ÿå‹æ‹‰å–ä»£ç åä¸€é”®å®‰è£… git clone project-repo cd project-repo uv sync # æ ¹æ®uv.lockå®Œå…¨å¤ç°ç¯å¢ƒ # æ›´æ–°ä¾èµ–åé€šçŸ¥é˜Ÿå‹ uv add new-package git add uv.lock pyproject.toml git commit -m \u0026#34;Add new-package dependency\u0026#34; ğŸš¢ éƒ¨ç½²å‡†å¤‡ 1 2 3 4 5 6 7 8 9 # ç”Ÿæˆrequirements.txtç»™Dockerç”¨ uv export --format requirements-txt \u0026gt; requirements.txt # æ„å»ºå‘å¸ƒåŒ… uv build # å‘å¸ƒåˆ°PyPI uv publish ğŸ†˜ é‡åˆ°é—®é¢˜ï¼Ÿç§’é€Ÿè§£å†³ï¼ å¸¸è§é—®é¢˜é€ŸæŸ¥ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # ğŸ”§ æ¸…ç†ç¼“å­˜ uv cache clean # ğŸ”„ é‡å»ºç¯å¢ƒ rm -rf .venv \u0026amp;\u0026amp; uv sync # ğŸ” æŸ¥çœ‹ä¾èµ–æ ‘ uv tree # ğŸ› è¯¦ç»†æ—¥å¿—è°ƒè¯• uv sync --verbose # âœ… æ£€æŸ¥é…ç½® uv --version æ•‘å‘½æŠ€å·§ 1 2 3 4 5 6 7 8 # ä¾èµ–å†²çªè§£å†³ uv lock --resolution lowest-direct # éªŒè¯ç¯å¢ƒä¸€è‡´æ€§ uv lock --check # å¼ºåˆ¶é‡æ–°è§£æ uv lock --upgrade ","date":"2025-09-04T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/uv%E8%AE%A9python%E5%BC%80%E5%8F%91%E9%A3%9E%E8%B5%B7%E6%9D%A5%E7%9A%84%E7%A5%9E%E5%99%A8/","title":"UVï¼šè®©Pythonå¼€å‘é£èµ·æ¥çš„ç¥å™¨"},{"content":" ä½¿ç”¨Pythonåˆ›å»ºçš„ä¸€ä¸ªå…·æœ‰å›ºå®šé¡¹ç›®çš„å€’è®¡æ—¶å·¥å…·ã€‚\nå›ºå®šé¡¹ç›®æœ‰ï¼š ç¬¬ä¸€åˆ—ï¼šå»ºä¸€ã€å»ºäºŒã€ç›¾å…µã€çŸ›å…µã€å°„æ‰‹ã€ç§‘æŠ€ã€æçŒ®, ä»“åº“ ç¬¬äºŒåˆ—ï¼šè¡Œå†›ä¸€ã€è¡Œå†›äºŒã€è¡Œå†›ä¸‰ã€è¡Œå†›å››ã€è¡Œå†›äº” æµ®çª—1ï¼šè¿™äº›é¡¹ç›®æ˜¾ç¤ºåœ¨æµ®çª—ä¸­ï¼Œå¤§å°éœ€è¦ä¿è¯99æ—¶59åˆ†59ç§’çš„é•¿åº¦èƒ½å¤Ÿæ­£ç¡®æ˜¾ç¤ºï¼Œæµ®çª—é€æ˜ï¼Œå€’è®¡æ—¶æœªåˆ°æœŸçš„é¡¹ç›®è¡Œæ˜¾ç¤ºç»¿è‰²ï¼›å‰©ä½™2åˆ†é’Ÿå†…æ˜¾ç¤ºé»„è‰²ï¼›åˆ°æœŸåé¡¹ç›®è¡Œæ˜¾ç¤ºçº¢è‰²å¹¶å¼€å§‹æ­£è®¡æ—¶ï¼Œæµ®åŠ¨åœ¨æ‰€æœ‰çª—å£çš„å‰é¢ï¼› æµ®çª—2ï¼š ä¸€ä¸ª30*30çš„æ­£æ–¹å½¢åŠé€æ˜æµ®çª—ï¼Œæ‰€æœ‰é˜Ÿåˆ—å¤§äº2minæ—¶æ˜¾ç¤ºç»¿ç­‰ï¼Œå­˜åœ¨å°ä¸2åˆ†é’Ÿçš„é˜Ÿåˆ—æ—¶é»„ç¯ï¼Œå­˜åœ¨è¶…æœŸçš„é¡¹ç›®æ˜¾ç¤ºçº¢ç¯ï¼› å°†é…ç½®ä¿å­˜åœ¨é›¶æ—¶ç›®å½•ä¸­ï¼Œå¯åŠ¨åå…ˆä»é›¶æ—¶ç›®å½•åŠ è½½ä¹‹å‰çš„é…ç½®,åœ¨æ¯æ¬¡ç‚¹å‡»åº”ç”¨åä¿å­˜ï¼Œè¿‡ç¨‹æ•°æ®æ— éœ€ä¿å­˜ï¼› ç¨‹åºé€šè¿‡æ‰˜ç›˜è¿è¡Œåœ¨åå°ï¼Œé€šè¿‡æ‰˜ç›˜å›¾æ ‡å¯ä»¥æ‰“å¼€é…ç½®å‰©ä½™æ—¶é—´çš„ç•Œé¢ï¼Œä¹Ÿå¯ä»¥åŒå‡»æµ®çª—æ‰“å¼€è®¾è®¡ç•Œé¢ï¼› è®¾ç½®æ—¶é—´çš„ç•Œé¢æ¯ä¸ªé¡¹ç›®åé¢åˆ†åˆ«å…è®¸è¾“å…¥æ—¶ï¼Œåˆ†ï¼Œç§’ï¼Œå¹¶é€šè¿‡åº”ç”¨æŒ‰é’®åº”ç”¨å¹¶æ›´æ–°è¯¥é¡¹ç›®çš„å€’è®¡æ—¶ï¼Œæ›´æ–°åçš„é…ç½®æ—¶é—´æ˜¾ç¤ºåœ¨å¯¹åº”çš„è¾“å…¥æ¡†ä¸­ã€‚ ä½¿ç”¨å…¨å±€å¿«æ·é”® Ctrl+Shift+Q æ§åˆ¶åœ¨2ä¸ªæµ®çª—å’Œéšè—3ä¸ªçŠ¶æ€ä¸­åˆ‡æ¢ï¼Œå…è®¸åœ¨è®¾ç½®ä¸­æ›´æ”¹å¿«æ·é”®ï¼Œæ•´åˆåœ¨å€’è®¡æ—¶é…ç½®ç•Œé¢ï¼› ä½¿ç”¨å…¨å±€å¿«æ·é”® Ctrl+Shift+S å¿«é€Ÿæ‰“å¼€è®¾ç½®çª—å£ï¼Œå…è®¸åœ¨è®¾ç½®ä¸­æ›´æ”¹å¿«æ·é”®ï¼Œæ•´åˆåœ¨å€’è®¡æ—¶é…ç½®ç•Œé¢ï¼› åœ¨ä»»åŠ¡åˆ°æœŸåå‘å‡ºä¸€ä¸ªé€šçŸ¥ï¼Œå¹¶åœ¨è®¾ç½®ç•Œé¢ä¸­æ·»åŠ ä¸€ä¸ªé€‰é¡¹ï¼Œæ˜¯å¦å¯ç”¨é€šçŸ¥; åœ¨æ§åˆ¶å°ä¸Šæ‰“å°å…³é”®å…³é”®ä½ç½®çš„æ—¥å¿—ï¼Œä¾¿äºæ’æŸ¥å’Œç†è§£ç¨‹åºè¿è¡ŒçŠ¶æ€ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 495 496 497 498 499 500 501 502 503 504 505 506 507 508 509 510 511 512 513 514 515 516 517 518 519 520 521 522 523 524 525 526 527 528 529 530 531 532 533 534 535 536 537 538 539 540 541 542 543 544 545 546 547 548 549 550 551 552 553 554 555 556 557 558 559 560 561 562 563 564 565 566 567 568 569 570 571 572 573 574 575 576 577 578 579 580 581 582 583 584 585 586 587 588 589 590 591 592 593 594 595 596 597 598 599 600 601 602 603 604 605 606 607 608 609 610 611 612 613 614 615 616 617 618 619 620 621 622 623 624 625 626 627 628 629 630 631 632 633 634 635 636 637 638 639 640 641 642 643 644 645 646 647 648 649 650 651 652 653 654 655 656 657 658 659 660 661 662 663 664 665 666 667 668 669 670 671 672 673 674 675 676 677 678 679 680 681 682 683 684 685 686 687 688 689 690 691 692 693 694 695 696 697 698 699 700 701 702 703 704 705 706 707 708 709 710 711 712 713 714 715 716 717 718 719 720 721 722 723 724 725 726 727 728 729 730 731 732 733 734 735 736 737 738 739 740 741 742 743 744 745 746 747 748 749 750 751 752 753 754 755 756 757 758 759 760 761 762 763 764 765 766 767 768 769 770 771 772 773 774 775 776 777 778 779 780 781 782 783 784 785 786 787 788 789 790 791 792 793 794 795 796 797 798 \u0026#34;\u0026#34;\u0026#34; ä½¿ç”¨Pythonåˆ›å»ºä¸€ä¸ªå…·æœ‰å›ºå®šé¡¹ç›®çš„å€’è®¡æ—¶å·¥å…·ã€‚ 1. å›ºå®šé¡¹ç›®æœ‰ï¼š ç¬¬ä¸€åˆ—ï¼šå»ºä¸€ã€å»ºäºŒã€ç›¾å…µã€çŸ›å…µã€å°„æ‰‹ã€ç§‘æŠ€ã€æçŒ®, ä»“åº“ ç¬¬äºŒåˆ—ï¼šè¡Œå†›ä¸€ã€è¡Œå†›äºŒã€è¡Œå†›ä¸‰ã€è¡Œå†›å››ã€è¡Œå†›äº” 2.1 æµ®çª—1ï¼šè¿™äº›é¡¹ç›®æ˜¾ç¤ºåœ¨æµ®çª—ä¸­ï¼Œå¤§å°éœ€è¦ä¿è¯99æ—¶59åˆ†59ç§’çš„é•¿åº¦èƒ½å¤Ÿæ­£ç¡®æ˜¾ç¤ºï¼Œæµ®çª—é€æ˜ï¼Œå€’è®¡æ—¶æœªåˆ°æœŸçš„é¡¹ç›®è¡Œæ˜¾ç¤ºç»¿è‰²ï¼›å‰©ä½™2åˆ†é’Ÿå†…æ˜¾ç¤ºé»„è‰²ï¼›åˆ°æœŸåé¡¹ç›®è¡Œæ˜¾ç¤ºçº¢è‰²å¹¶å¼€å§‹æ­£è®¡æ—¶ï¼Œæµ®åŠ¨åœ¨æ‰€æœ‰çª—å£çš„å‰é¢ï¼› 2.2 æµ®çª—2ï¼š ä¸€ä¸ª30*30çš„æ­£æ–¹å½¢åŠé€æ˜æµ®çª—ï¼Œæ‰€æœ‰é˜Ÿåˆ—å¤§äº2minæ—¶æ˜¾ç¤ºç»¿ç­‰ï¼Œå­˜åœ¨å°ä¸2åˆ†é’Ÿçš„é˜Ÿåˆ—æ—¶é»„ç¯ï¼Œå­˜åœ¨è¶…æœŸçš„é¡¹ç›®æ˜¾ç¤ºçº¢ç¯ï¼› 3. å°†é…ç½®ä¿å­˜åœ¨é›¶æ—¶ç›®å½•ä¸­ï¼Œå¯åŠ¨åå…ˆä»é›¶æ—¶ç›®å½•åŠ è½½ä¹‹å‰çš„é…ç½®,åœ¨æ¯æ¬¡ç‚¹å‡»åº”ç”¨åä¿å­˜ï¼Œè¿‡ç¨‹æ•°æ®æ— éœ€ä¿å­˜ï¼› 4. ç¨‹åºé€šè¿‡æ‰˜ç›˜è¿è¡Œåœ¨åå°ï¼Œé€šè¿‡æ‰˜ç›˜å›¾æ ‡å¯ä»¥æ‰“å¼€é…ç½®å‰©ä½™æ—¶é—´çš„ç•Œé¢ï¼Œä¹Ÿå¯ä»¥åŒå‡»æµ®çª—æ‰“å¼€è®¾è®¡ç•Œé¢ï¼› 5. è®¾ç½®æ—¶é—´çš„ç•Œé¢æ¯ä¸ªé¡¹ç›®åé¢åˆ†åˆ«å…è®¸è¾“å…¥æ—¶ï¼Œåˆ†ï¼Œç§’ï¼Œå¹¶é€šè¿‡åº”ç”¨æŒ‰é’®åº”ç”¨å¹¶æ›´æ–°è¯¥é¡¹ç›®çš„å€’è®¡æ—¶ï¼Œæ›´æ–°åçš„é…ç½®æ—¶é—´æ˜¾ç¤ºåœ¨å¯¹åº”çš„è¾“å…¥æ¡†ä¸­ã€‚ 6. ä½¿ç”¨å…¨å±€å¿«æ·é”® Ctrl+Shift+Q æ§åˆ¶åœ¨2ä¸ªæµ®çª—å’Œéšè—3ä¸ªçŠ¶æ€ä¸­åˆ‡æ¢ï¼Œå…è®¸åœ¨è®¾ç½®ä¸­æ›´æ”¹å¿«æ·é”®ï¼Œæ•´åˆåœ¨å€’è®¡æ—¶é…ç½®ç•Œé¢ï¼› 7. ä½¿ç”¨å…¨å±€å¿«æ·é”® Ctrl+Shift+S å¿«é€Ÿæ‰“å¼€è®¾ç½®çª—å£ï¼Œå…è®¸åœ¨è®¾ç½®ä¸­æ›´æ”¹å¿«æ·é”®ï¼Œæ•´åˆåœ¨å€’è®¡æ—¶é…ç½®ç•Œé¢ï¼› 8. åœ¨ä»»åŠ¡åˆ°æœŸåå‘å‡ºä¸€ä¸ªé€šçŸ¥ï¼Œå¹¶åœ¨è®¾ç½®ç•Œé¢ä¸­æ·»åŠ ä¸€ä¸ªé€‰é¡¹ï¼Œæ˜¯å¦å¯ç”¨é€šçŸ¥; 9. åœ¨æ§åˆ¶å°ä¸Šæ‰“å°å…³é”®å…³é”®ä½ç½®çš„æ—¥å¿—ï¼Œä¾¿äºæ’æŸ¥å’Œç†è§£ç¨‹åºè¿è¡ŒçŠ¶æ€ã€‚ pip install pystray pillow \u0026#34;\u0026#34;\u0026#34; import tkinter as tk from tkinter import ttk, messagebox import pystray from pystray import MenuItem as item from PIL import Image, ImageDraw import datetime import time import threading import re import tempfile import os import json import logging from plyer import notification import keyboard # é…ç½®æ—¥å¿—è¾“å‡º logging.basicConfig( level=logging.INFO, format=\u0026#39;%(asctime)s - %(levelname)s - %(message)s\u0026#39;, handlers=[ logging.StreamHandler() ] ) class ProjectCountdownApp: def __init__(self): logging.info(\u0026#34;å¯åŠ¨é¡¹ç›®å€’è®¡æ—¶å·¥å…·\u0026#34;) # å›ºå®šé¡¹ç›®åˆ—è¡¨ self.projects = { \u0026#34;å»ºä¸€\u0026#34;: None, \u0026#34;å»ºäºŒ\u0026#34;: None, \u0026#34;ç›¾å…µ\u0026#34;: None, \u0026#34;çŸ›å…µ\u0026#34;: None, \u0026#34;å°„æ‰‹\u0026#34;: None, \u0026#34;ç§‘æŠ€\u0026#34;: None, \u0026#34;æçŒ®\u0026#34;: None, \u0026#34;ä»“åº“\u0026#34;: None, \u0026#34;è¡Œå†›ä¸€\u0026#34;: None, \u0026#34;è¡Œå†›äºŒ\u0026#34;: None, \u0026#34;è¡Œå†›ä¸‰\u0026#34;: None, \u0026#34;è¡Œå†›å››\u0026#34;: None, \u0026#34;è¡Œå†›äº”\u0026#34;: None } # å­˜å‚¨è®¾ç½®çš„åŸå§‹æ—¶é—´ï¼ˆå°æ—¶ã€åˆ†é’Ÿã€ç§’ï¼‰ self.original_times = {project: (0, 0, 0) for project in self.projects.keys()} # å­˜å‚¨å·²åˆ°æœŸé¡¹ç›®çš„æ­£è®¡æ—¶å¼€å§‹æ—¶é—´ self.elapsed_start = {project: None for project in self.projects.keys()} # è®°å½•é¡¹ç›®æ˜¯å¦å·²å‘é€è¿‡é€šçŸ¥ self.notification_sent = {project: False for project in self.projects.keys()} # å¿«æ·é”®é…ç½® self.hotkeys = { \u0026#39;toggle_windows\u0026#39;: \u0026#39;ctrl+shift+q\u0026#39;, # åˆ‡æ¢æµ®çª—çŠ¶æ€ \u0026#39;open_settings\u0026#39;: \u0026#39;ctrl+shift+s\u0026#39; # æ‰“å¼€è®¾ç½®çª—å£ } # å­˜å‚¨å¿«æ·é”®ID self.hotkey_ids = {} # é€šçŸ¥è®¾ç½® self.notification_enabled = True # æµ®çª—çŠ¶æ€ï¼š0-æ˜¾ç¤ºæµ®çª—1ï¼Œ1-æ˜¾ç¤ºæµ®çª—2ï¼Œ2-éƒ½éšè— self.window_state = 0 # ä¸´æ—¶æ–‡ä»¶è·¯å¾„ self.temp_file = os.path.join(tempfile.gettempdir(), \u0026#34;project_countdown_config.json\u0026#34;) logging.info(f\u0026#34;é…ç½®æ–‡ä»¶è·¯å¾„: {self.temp_file}\u0026#34;) # å°è¯•åŠ è½½é…ç½® self.load_config() # åˆ›å»ºä¸»çª—å£ï¼ˆéšè—ï¼‰ self.root = tk.Tk() self.root.withdraw() # åˆ›å»ºä¸¤ä¸ªæµ®çª— self.create_overlay1() # æµ®çª—1ï¼šè¯¦ç»†å€’è®¡æ—¶ self.create_overlay2() # æµ®çª—2ï¼šçŠ¶æ€æŒ‡ç¤º # åˆå§‹åŒ–æµ®çª—çŠ¶æ€ self.update_window_state() # åˆ›å»ºç³»ç»Ÿæ‰˜ç›˜ self.create_system_tray() # ç»‘å®šå…¨å±€å¿«æ·é”® self.bind_global_hotkeys() # å¯åŠ¨å€’è®¡æ—¶æ›´æ–°çº¿ç¨‹ self.update_thread = threading.Thread(target=self.update_countdowns, daemon=True) self.update_thread.start() logging.info(\u0026#34;å€’è®¡æ—¶æ›´æ–°çº¿ç¨‹å·²å¯åŠ¨\u0026#34;) # å¯åŠ¨é…ç½®ä¿å­˜çº¿ç¨‹ self.save_thread = threading.Thread(target=self.periodic_save, daemon=True) self.save_thread.start() logging.info(\u0026#34;é…ç½®ä¿å­˜çº¿ç¨‹å·²å¯åŠ¨\u0026#34;) def bind_global_hotkeys(self): \u0026#34;\u0026#34;\u0026#34;ç»‘å®šå…¨å±€å¿«æ·é”®\u0026#34;\u0026#34;\u0026#34; try: self.unbind_all_hotkeys() # ç»‘å®šåˆ‡æ¢æµ®çª—çŠ¶æ€å¿«æ·é”® if self.is_valid_hotkey(self.hotkeys[\u0026#39;toggle_windows\u0026#39;]): hotkey_id = keyboard.add_hotkey( self.hotkeys[\u0026#39;toggle_windows\u0026#39;], self.cycle_window_state ) self.hotkey_ids[\u0026#39;toggle_windows\u0026#39;] = hotkey_id logging.info(f\u0026#34;å·²ç»‘å®šåˆ‡æ¢æµ®çª—å¿«æ·é”®: {self.hotkeys[\u0026#39;toggle_windows\u0026#39;]}\u0026#34;) else: logging.error(f\u0026#34;æ— æ•ˆçš„å¿«æ·é”®æ ¼å¼: {self.hotkeys[\u0026#39;toggle_windows\u0026#39;]}ï¼Œä½¿ç”¨é»˜è®¤å€¼\u0026#34;) self.hotkeys[\u0026#39;toggle_windows\u0026#39;] = \u0026#39;ctrl+shift+q\u0026#39; self.bind_global_hotkeys() # ç»‘å®šæ‰“å¼€è®¾ç½®çª—å£å¿«æ·é”® if self.is_valid_hotkey(self.hotkeys[\u0026#39;open_settings\u0026#39;]): hotkey_id = keyboard.add_hotkey( self.hotkeys[\u0026#39;open_settings\u0026#39;], self.open_config_window ) self.hotkey_ids[\u0026#39;open_settings\u0026#39;] = hotkey_id logging.info(f\u0026#34;å·²ç»‘å®šæ‰“å¼€è®¾ç½®çª—å£å¿«æ·é”®: {self.hotkeys[\u0026#39;open_settings\u0026#39;]}\u0026#34;) else: logging.error(f\u0026#34;æ— æ•ˆçš„å¿«æ·é”®æ ¼å¼: {self.hotkeys[\u0026#39;open_settings\u0026#39;]}ï¼Œä½¿ç”¨é»˜è®¤å€¼\u0026#34;) self.hotkeys[\u0026#39;open_settings\u0026#39;] = \u0026#39;ctrl+shift+s\u0026#39; self.bind_global_hotkeys() except Exception as e: logging.error(f\u0026#34;ç»‘å®šå¿«æ·é”®å¤±è´¥: {str(e)}\u0026#34;) def is_valid_hotkey(self, hotkey): \u0026#34;\u0026#34;\u0026#34;éªŒè¯å¿«æ·é”®æ ¼å¼æ˜¯å¦æœ‰æ•ˆ\u0026#34;\u0026#34;\u0026#34; try: keyboard.parse_hotkey(hotkey) return True except: return False def unbind_all_hotkeys(self): \u0026#34;\u0026#34;\u0026#34;è§£é™¤æ‰€æœ‰å¿«æ·é”®ç»‘å®š\u0026#34;\u0026#34;\u0026#34; try: for action, hotkey_id in self.hotkey_ids.items(): if hotkey_id: keyboard.remove_hotkey(hotkey_id) self.hotkey_ids.clear() except Exception as e: logging.warning(f\u0026#34;è§£é™¤å¿«æ·é”®ç»‘å®šæ—¶å‡ºé”™: {str(e)}\u0026#34;) try: keyboard.unhook_all_hotkeys() except: pass def cycle_window_state(self): \u0026#34;\u0026#34;\u0026#34;å¾ªç¯åˆ‡æ¢æµ®çª—çŠ¶æ€ï¼šæµ®çª—1â†’æµ®çª—2â†’éšè—â†’æµ®çª—1...\u0026#34;\u0026#34;\u0026#34; self.window_state = (self.window_state + 1) % 3 self.update_window_state() state_names = [\u0026#34;æ˜¾ç¤ºæµ®çª—1\u0026#34;, \u0026#34;æ˜¾ç¤ºæµ®çª—2\u0026#34;, \u0026#34;éšè—æ‰€æœ‰æµ®çª—\u0026#34;] logging.info(f\u0026#34;æµ®çª—çŠ¶æ€åˆ‡æ¢ä¸º: {state_names[self.window_state]}\u0026#34;) def update_window_state(self): \u0026#34;\u0026#34;\u0026#34;æ ¹æ®å½“å‰çŠ¶æ€æ›´æ–°æµ®çª—æ˜¾ç¤º\u0026#34;\u0026#34;\u0026#34; if self.window_state == 0: # æ˜¾ç¤ºæµ®çª—1 self.overlay1.deiconify() self.overlay2.withdraw() elif self.window_state == 1: # æ˜¾ç¤ºæµ®çª—2 self.overlay1.withdraw() self.overlay2.deiconify() else: # éƒ½éšè— self.overlay1.withdraw() self.overlay2.withdraw() def create_overlay1(self): \u0026#34;\u0026#34;\u0026#34;åˆ›å»ºæµ®çª—1ï¼ˆæ˜¾ç¤ºæ‰€æœ‰é¡¹ç›®è¯¦ç»†å€’è®¡æ—¶ï¼‰\u0026#34;\u0026#34;\u0026#34; self.overlay1 = tk.Toplevel(self.root) self.overlay1.overrideredirect(True) # æ— è¾¹æ¡† self.overlay1.attributes(\u0026#39;-alpha\u0026#39;, 0.8) # é€æ˜åº¦ self.overlay1.attributes(\u0026#39;-topmost\u0026#39;, True) # å§‹ç»ˆåœ¨æœ€å‰é¢ self.overlay1.configure(bg=\u0026#39;black\u0026#39;) # åŒå‡»æµ®çª—æ‰“å¼€é…ç½®ç•Œé¢ self.overlay1.bind(\u0026#34;\u0026lt;Double-Button-1\u0026gt;\u0026#34;, lambda e: self.open_config_window()) # åˆ›å»ºä¸¤åˆ—å¸ƒå±€ frame1 = tk.Frame(self.overlay1, bg=\u0026#39;black\u0026#39;) frame1.pack(side=tk.LEFT, padx=5, pady=5) frame2 = tk.Frame(self.overlay1, bg=\u0026#39;black\u0026#39;) frame2.pack(side=tk.LEFT, padx=5, pady=5) # é¡¹ç›®æ ‡ç­¾å­—å…¸ self.labels = {} # ç¬¬ä¸€åˆ—é¡¹ç›® column1 = [\u0026#34;å»ºä¸€\u0026#34;, \u0026#34;å»ºäºŒ\u0026#34;, \u0026#34;ç›¾å…µ\u0026#34;, \u0026#34;çŸ›å…µ\u0026#34;, \u0026#34;å°„æ‰‹\u0026#34;, \u0026#34;ç§‘æŠ€\u0026#34;, \u0026#34;æçŒ®\u0026#34;, \u0026#34;ä»“åº“\u0026#34;] for i, project in enumerate(column1): frame = tk.Frame(frame1, bg=\u0026#39;black\u0026#39;) frame.grid(row=i, column=0, sticky=\u0026#39;w\u0026#39;, pady=2) label = tk.Label(frame, text=f\u0026#34;{project}: \u0026#34;, bg=\u0026#39;black\u0026#39;, fg=\u0026#39;white\u0026#39;, font=(\u0026#39;SimHei\u0026#39;, 10, \u0026#39;bold\u0026#39;)) label.pack(side=tk.LEFT) # ç¡®ä¿èƒ½æ˜¾ç¤º\u0026#34;99æ—¶59åˆ†59ç§’\u0026#34; time_label = tk.Label(frame, text=\u0026#34;æœªè®¾ç½®\u0026#34;, bg=\u0026#39;black\u0026#39;, fg=\u0026#39;gray\u0026#39;, font=(\u0026#39;SimHei\u0026#39;, 10), width=12) time_label.pack(side=tk.LEFT) self.labels[project] = frame, time_label # ç¬¬äºŒåˆ—é¡¹ç›® column2 = [\u0026#34;è¡Œå†›ä¸€\u0026#34;, \u0026#34;è¡Œå†›äºŒ\u0026#34;, \u0026#34;è¡Œå†›ä¸‰\u0026#34;, \u0026#34;è¡Œå†›å››\u0026#34;, \u0026#34;è¡Œå†›äº”\u0026#34;] for i, project in enumerate(column2): frame = tk.Frame(frame2, bg=\u0026#39;black\u0026#39;) frame.grid(row=i, column=0, sticky=\u0026#39;w\u0026#39;, pady=2) label = tk.Label(frame, text=f\u0026#34;{project}: \u0026#34;, bg=\u0026#39;black\u0026#39;, fg=\u0026#39;white\u0026#39;, font=(\u0026#39;SimHei\u0026#39;, 10, \u0026#39;bold\u0026#39;)) label.pack(side=tk.LEFT) time_label = tk.Label(frame, text=\u0026#34;æœªè®¾ç½®\u0026#34;, bg=\u0026#39;black\u0026#39;, fg=\u0026#39;gray\u0026#39;, font=(\u0026#39;SimHei\u0026#39;, 10), width=12) time_label.pack(side=tk.LEFT) self.labels[project] = frame, time_label # è°ƒæ•´çª—å£å¤§å° self.overlay1.update_idletasks() width = self.overlay1.winfo_width() height = self.overlay1.winfo_height() self.overlay1.geometry(f\u0026#34;{width}x{height}+100+100\u0026#34;) # å…è®¸æ‹–åŠ¨çª—å£ self.overlay1.bind(\u0026#34;\u0026lt;Button-1\u0026gt;\u0026#34;, self.start_drag_overlay1) self.overlay1.bind(\u0026#34;\u0026lt;B1-Motion\u0026gt;\u0026#34;, self.on_drag_overlay1) logging.info(\u0026#34;æµ®çª—1åˆ›å»ºå®Œæˆ\u0026#34;) def create_overlay2(self): \u0026#34;\u0026#34;\u0026#34;åˆ›å»ºæµ®çª—2ï¼ˆ20*20æ­£æ–¹å½¢åŠé€æ˜çŠ¶æ€æŒ‡ç¤ºï¼‰\u0026#34;\u0026#34;\u0026#34; self.overlay2 = tk.Toplevel(self.root) self.overlay2.overrideredirect(True) # æ— è¾¹æ¡† self.overlay2.attributes(\u0026#39;-alpha\u0026#39;, 0.9) # åŠé€æ˜ self.overlay2.attributes(\u0026#39;-topmost\u0026#39;, True) # å§‹ç»ˆåœ¨æœ€å‰é¢ self.overlay2.geometry(\u0026#34;30x30+300+200\u0026#34;) # 20*20å¤§å°ï¼Œä½ç½®é”™å¼€ # çŠ¶æ€æŒ‡ç¤ºæ ‡ç­¾ self.indicator = tk.Label(self.overlay2, bg=\u0026#39;gray\u0026#39;) self.indicator.pack(fill=tk.BOTH, expand=True) # åŒå‡»æµ®çª—æ‰“å¼€é…ç½®ç•Œé¢ self.overlay2.bind(\u0026#34;\u0026lt;Double-Button-1\u0026gt;\u0026#34;, lambda e: self.open_config_window()) # å…è®¸æ‹–åŠ¨çª—å£ self.overlay2.bind(\u0026#34;\u0026lt;Button-1\u0026gt;\u0026#34;, self.start_drag_overlay2) self.overlay2.bind(\u0026#34;\u0026lt;B1-Motion\u0026gt;\u0026#34;, self.on_drag_overlay2) logging.info(\u0026#34;æµ®çª—2åˆ›å»ºå®Œæˆ\u0026#34;) def start_drag_overlay1(self, event): \u0026#34;\u0026#34;\u0026#34;å¼€å§‹æ‹–åŠ¨æµ®çª—1\u0026#34;\u0026#34;\u0026#34; self.x1 = event.x self.y1 = event.y def on_drag_overlay1(self, event): \u0026#34;\u0026#34;\u0026#34;æ‹–åŠ¨æµ®çª—1æ—¶æ›´æ–°ä½ç½®\u0026#34;\u0026#34;\u0026#34; x = self.overlay1.winfo_x() + event.x - self.x1 y = self.overlay1.winfo_y() + event.y - self.y1 self.overlay1.geometry(f\u0026#34;+{x}+{y}\u0026#34;) logging.debug(f\u0026#34;æµ®çª—1ä½ç½®æ›´æ–°: x={x}, y={y}\u0026#34;) def start_drag_overlay2(self, event): \u0026#34;\u0026#34;\u0026#34;å¼€å§‹æ‹–åŠ¨æµ®çª—2\u0026#34;\u0026#34;\u0026#34; self.x2 = event.x self.y2 = event.y def on_drag_overlay2(self, event): \u0026#34;\u0026#34;\u0026#34;æ‹–åŠ¨æµ®çª—2æ—¶æ›´æ–°ä½ç½®\u0026#34;\u0026#34;\u0026#34; x = self.overlay2.winfo_x() + event.x - self.x2 y = self.overlay2.winfo_y() + event.y - self.y2 self.overlay2.geometry(f\u0026#34;+{x}+{y}\u0026#34;) logging.debug(f\u0026#34;æµ®çª—2ä½ç½®æ›´æ–°: x={x}, y={y}\u0026#34;) def create_system_tray(self): \u0026#34;\u0026#34;\u0026#34;åˆ›å»ºç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡å’Œèœå•\u0026#34;\u0026#34;\u0026#34; try: # åˆ›å»ºç®€å•å›¾æ ‡ image = Image.new(\u0026#39;RGB\u0026#39;, (64, 64), color=\u0026#39;blue\u0026#39;) draw = ImageDraw.Draw(image) draw.text((10, 20), \u0026#34;å€’\u0026#34;, font_size=20, fill=\u0026#39;white\u0026#39;) # åˆ›å»ºèœå• menu = ( item(\u0026#39;æ˜¾ç¤ºæµ®çª—1\u0026#39;, lambda icon, item: self.set_window_state(0)), item(\u0026#39;æ˜¾ç¤ºæµ®çª—2\u0026#39;, lambda icon, item: self.set_window_state(1)), item(\u0026#39;éšè—æ‰€æœ‰\u0026#39;, lambda icon, item: self.set_window_state(2)), item(\u0026#39;è®¾ç½®å€’è®¡æ—¶\u0026#39;, lambda icon, item: self.open_config_window()), item(\u0026#39;é€€å‡º\u0026#39;, lambda icon, item: self.exit_app()) ) # åˆ›å»ºæ‰˜ç›˜å›¾æ ‡ self.tray = pystray.Icon(\u0026#34;project_countdown\u0026#34;, image, \u0026#34;é¡¹ç›®å€’è®¡æ—¶\u0026#34;, menu) logging.info(\u0026#34;ç³»ç»Ÿæ‰˜ç›˜åˆ›å»ºå®Œæˆ\u0026#34;) # åœ¨å•ç‹¬çº¿ç¨‹ä¸­è¿è¡Œæ‰˜ç›˜ threading.Thread(target=self.tray.run, daemon=True).start() except Exception as e: logging.error(f\u0026#34;åˆ›å»ºç³»ç»Ÿæ‰˜ç›˜å¤±è´¥: {str(e)}\u0026#34;) def set_window_state(self, state): \u0026#34;\u0026#34;\u0026#34;è®¾ç½®æµ®çª—çŠ¶æ€\u0026#34;\u0026#34;\u0026#34; self.window_state = state self.update_window_state() def open_config_window(self, *args): \u0026#34;\u0026#34;\u0026#34;æ‰“å¼€é…ç½®çª—å£\u0026#34;\u0026#34;\u0026#34; logging.info(\u0026#34;æ‰“å¼€é…ç½®çª—å£\u0026#34;) # ç¡®ä¿æµ®çª—1å¯è§ self.set_window_state(0) # å¦‚æœçª—å£å·²å­˜åœ¨åˆ™æ¿€æ´»å®ƒ if hasattr(self, \u0026#39;config_window\u0026#39;) and isinstance(self.config_window, tk.Toplevel) and self.config_window.winfo_exists(): self.config_window.lift() return # åˆ›å»ºé…ç½®çª—å£ self.config_window = tk.Toplevel(self.overlay1) self.config_window.title(\u0026#34;è®¾ç½®å€’è®¡æ—¶ä¸å¿«æ·é”®\u0026#34;) self.config_window.geometry(\u0026#34;700x650\u0026#34;) self.config_window.attributes(\u0026#39;-topmost\u0026#39;, True) # åˆ›å»ºå¸¦æ»šåŠ¨æ¡çš„ä¸»æ¡†æ¶ main_frame = ttk.Frame(self.config_window) main_frame.pack(fill=tk.BOTH, expand=True, padx=10, pady=10) # åˆ›å»ºç¬”è®°æœ¬æ§ä»¶ï¼ˆæ ‡ç­¾é¡µï¼‰ notebook = ttk.Notebook(main_frame) notebook.pack(fill=tk.BOTH, expand=True) # å€’è®¡æ—¶è®¾ç½®æ ‡ç­¾é¡µ countdown_frame = ttk.Frame(notebook) notebook.add(countdown_frame, text=\u0026#34;å€’è®¡æ—¶è®¾ç½®\u0026#34;) # å¿«æ·é”®è®¾ç½®æ ‡ç­¾é¡µ hotkey_frame = ttk.Frame(notebook) notebook.add(hotkey_frame, text=\u0026#34;å¿«æ·é”®è®¾ç½®\u0026#34;) # é€šçŸ¥è®¾ç½®æ ‡ç­¾é¡µ notify_frame = ttk.Frame(notebook) notebook.add(notify_frame, text=\u0026#34;é€šçŸ¥è®¾ç½®\u0026#34;) # ============== å€’è®¡æ—¶è®¾ç½®æ ‡ç­¾é¡µå†…å®¹ ============== canvas = tk.Canvas(countdown_frame) scrollbar = ttk.Scrollbar(countdown_frame, orient=\u0026#34;vertical\u0026#34;, command=canvas.yview) scrollable_frame = ttk.Frame(canvas) scrollable_frame.bind( \u0026#34;\u0026lt;Configure\u0026gt;\u0026#34;, lambda e: canvas.configure(scrollregion=canvas.bbox(\u0026#34;all\u0026#34;)) ) canvas.create_window((0, 0), window=scrollable_frame, anchor=\u0026#34;nw\u0026#34;) canvas.configure(yscrollcommand=scrollbar.set) canvas.pack(side=tk.LEFT, fill=tk.BOTH, expand=True) scrollbar.pack(side=tk.RIGHT, fill=tk.Y) # å­˜å‚¨è¾“å…¥æ¡†å¼•ç”¨ self.time_entries = {} # æ·»åŠ æ‰€æœ‰é¡¹ç›®çš„è¾“å…¥æ¡† for i, project in enumerate(self.projects.keys()): row_frame = ttk.Frame(scrollable_frame) row_frame.grid(row=i, column=0, padx=5, pady=5, sticky=\u0026#34;ew\u0026#34;) ttk.Label(row_frame, text=project, width=10).grid(row=0, column=0, padx=5) hour_entry = ttk.Entry(row_frame, width=5) hour_entry.grid(row=0, column=1, padx=2) ttk.Label(row_frame, text=\u0026#34;æ—¶\u0026#34;).grid(row=0, column=2) min_entry = ttk.Entry(row_frame, width=5) min_entry.grid(row=0, column=3, padx=2) ttk.Label(row_frame, text=\u0026#34;åˆ†\u0026#34;).grid(row=0, column=4) sec_entry = ttk.Entry(row_frame, width=5) sec_entry.grid(row=0, column=5, padx=2) ttk.Label(row_frame, text=\u0026#34;ç§’\u0026#34;).grid(row=0, column=6) apply_btn = ttk.Button(row_frame, text=\u0026#34;åº”ç”¨\u0026#34;, command=lambda p=project, h=hour_entry, m=min_entry, s=sec_entry: self.apply_time(p, h, m, s)) apply_btn.grid(row=0, column=7, padx=10) clear_btn = ttk.Button(row_frame, text=\u0026#34;æ¸…é™¤\u0026#34;, command=lambda p=project, h=hour_entry, m=min_entry, s=sec_entry: self.clear_time(p, h, m, s)) clear_btn.grid(row=0, column=8, padx=5) self.time_entries[project] = (hour_entry, min_entry, sec_entry) # å¡«å……å·²è®¾ç½®çš„æ—¶é—´ hours, mins, secs = self.original_times[project] if hours \u0026gt; 0: hour_entry.insert(0, str(hours)) if mins \u0026gt; 0: min_entry.insert(0, str(mins)) if secs \u0026gt; 0: sec_entry.insert(0, str(secs)) # ============== å¿«æ·é”®è®¾ç½®æ ‡ç­¾é¡µå†…å®¹ ============== ttk.Label(hotkey_frame, text=\u0026#34;è¯·ä½¿ç”¨ä»¥ä¸‹æ ¼å¼: ctrl+shift+q æˆ– alt+s\u0026#34;, font=(\u0026#39;SimHei\u0026#39;, 10, \u0026#39;bold\u0026#39;)).pack(pady=20) frame1 = ttk.Frame(hotkey_frame) frame1.pack(fill=tk.X, padx=20, pady=10) ttk.Label(frame1, text=\u0026#34;åˆ‡æ¢æµ®çª—çŠ¶æ€:\u0026#34;, width=20).pack(side=tk.LEFT) self.toggle_hotkey_var = tk.StringVar(value=self.hotkeys[\u0026#39;toggle_windows\u0026#39;]) ttk.Entry(frame1, textvariable=self.toggle_hotkey_var).pack(side=tk.LEFT, fill=tk.X, expand=True, padx=5) ttk.Button(frame1, text=\u0026#34;åº”ç”¨\u0026#34;, command=lambda: self.update_hotkey(\u0026#39;toggle_windows\u0026#39;, self.toggle_hotkey_var.get())).pack(side=tk.LEFT, padx=5) frame2 = ttk.Frame(hotkey_frame) frame2.pack(fill=tk.X, padx=20, pady=10) ttk.Label(frame2, text=\u0026#34;æ‰“å¼€è®¾ç½®çª—å£:\u0026#34;, width=20).pack(side=tk.LEFT) self.settings_hotkey_var = tk.StringVar(value=self.hotkeys[\u0026#39;open_settings\u0026#39;]) ttk.Entry(frame2, textvariable=self.settings_hotkey_var).pack(side=tk.LEFT, fill=tk.X, expand=True, padx=5) ttk.Button(frame2, text=\u0026#34;åº”ç”¨\u0026#34;, command=lambda: self.update_hotkey(\u0026#39;open_settings\u0026#39;, self.settings_hotkey_var.get())).pack(side=tk.LEFT, padx=5) ttk.Label(hotkey_frame, text=\u0026#34;æ”¯æŒçš„ä¿®é¥°é”®: ctrl, shift, altï¼›ä½¿ç”¨+è¿æ¥ï¼›å­—æ¯ä¸ºå°å†™\u0026#34;, foreground=\u0026#34;gray\u0026#34;).pack(pady=20) # ============== é€šçŸ¥è®¾ç½®æ ‡ç­¾é¡µå†…å®¹ ============== ttk.Label(notify_frame, text=\u0026#34;é€šçŸ¥è®¾ç½®\u0026#34;, font=(\u0026#39;SimHei\u0026#39;, 12, \u0026#39;bold\u0026#39;)).pack(pady=20) self.notify_var = tk.BooleanVar(value=self.notification_enabled) notify_check = ttk.Checkbutton( notify_frame, text=\u0026#34;ä»»åŠ¡åˆ°æœŸæ—¶å¯ç”¨é€šçŸ¥\u0026#34;, variable=self.notify_var, command=self.update_notification_setting ) notify_check.pack(anchor=tk.W, padx=20, pady=10) def update_notification_setting(self): \u0026#34;\u0026#34;\u0026#34;æ›´æ–°é€šçŸ¥è®¾ç½®\u0026#34;\u0026#34;\u0026#34; self.notification_enabled = self.notify_var.get() logging.info(f\u0026#34;é€šçŸ¥è®¾ç½®å·²æ›´æ–°: {\u0026#39;å¯ç”¨\u0026#39; if self.notification_enabled else \u0026#39;ç¦ç”¨\u0026#39;}\u0026#34;) def update_hotkey(self, action, new_hotkey): \u0026#34;\u0026#34;\u0026#34;æ›´æ–°å¿«æ·é”®è®¾ç½®\u0026#34;\u0026#34;\u0026#34; try: if not re.match(r\u0026#39;^((ctrl|shift|alt)\\+)*[a-z]$\u0026#39;, new_hotkey, re.IGNORECASE): messagebox.showerror(\u0026#34;è¾“å…¥é”™è¯¯\u0026#34;, \u0026#34;è¯·è¾“å…¥æœ‰æ•ˆçš„å¿«æ·é”®æ ¼å¼ï¼Œä¾‹å¦‚: ctrl+shift+q\u0026#34;) return new_hotkey = new_hotkey.lower() if not self.is_valid_hotkey(new_hotkey): messagebox.showerror(\u0026#34;è¾“å…¥é”™è¯¯\u0026#34;, f\u0026#34;å¿«æ·é”® \u0026#39;{new_hotkey}\u0026#39; æ— æ•ˆï¼Œè¯·å°è¯•å…¶ä»–ç»„åˆ\u0026#34;) return self.hotkeys[action] = new_hotkey self.bind_global_hotkeys() logging.info(f\u0026#34;å¿«æ·é”®å·²æ›´æ–°: {action} -\u0026gt; {self.hotkeys[action]}\u0026#34;) messagebox.showinfo(\u0026#34;æˆåŠŸ\u0026#34;, f\u0026#34;å¿«æ·é”®å·²æ›´æ–°ä¸º: {self.hotkeys[action]}\u0026#34;) except Exception as e: logging.error(f\u0026#34;æ›´æ–°å¿«æ·é”®å¤±è´¥: {str(e)}\u0026#34;) messagebox.showerror(\u0026#34;é”™è¯¯\u0026#34;, f\u0026#34;æ›´æ–°å¿«æ·é”®å¤±è´¥: {str(e)}\u0026#34;) def apply_time(self, project, hour_entry, min_entry, sec_entry): \u0026#34;\u0026#34;\u0026#34;åº”ç”¨è®¾ç½®çš„æ—¶é—´\u0026#34;\u0026#34;\u0026#34; try: hours = int(hour_entry.get() or 0) mins = int(min_entry.get() or 0) secs = int(sec_entry.get() or 0) if hours \u0026lt; 0 or hours \u0026gt; 99 or mins \u0026lt; 0 or mins \u0026gt;= 60 or secs \u0026lt; 0 or secs \u0026gt;= 60: messagebox.showerror(\u0026#34;è¾“å…¥é”™è¯¯\u0026#34;, \u0026#34;è¯·è¾“å…¥æœ‰æ•ˆçš„æ—¶é—´å€¼ï¼\\nå°æ—¶0-99ï¼Œåˆ†é’Ÿå’Œç§’0-59\u0026#34;) return total_seconds = hours * 3600 + mins * 60 + secs if total_seconds \u0026lt;= 0: messagebox.showinfo(\u0026#34;æç¤º\u0026#34;, \u0026#34;æ—¶é—´å¿…é¡»å¤§äº0\u0026#34;) return end_time = datetime.datetime.now() + datetime.timedelta(seconds=total_seconds) self.projects[project] = end_time self.elapsed_start[project] = None self.notification_sent[project] = False # é‡ç½®é€šçŸ¥çŠ¶æ€ self.original_times[project] = (hours, mins, secs) # æ›´æ–°è¾“å…¥æ¡†æ˜¾ç¤º hour_entry.delete(0, tk.END) min_entry.delete(0, tk.END) sec_entry.delete(0, tk.END) hour_entry.insert(0, str(hours)) min_entry.insert(0, str(mins)) sec_entry.insert(0, str(secs)) logging.info(f\u0026#34;é¡¹ç›® [{project}] å€’è®¡æ—¶å·²è®¾ç½®: {hours}æ—¶{mins}åˆ†{secs}ç§’\u0026#34;) except ValueError: messagebox.showerror(\u0026#34;è¾“å…¥é”™è¯¯\u0026#34;, \u0026#34;è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—\u0026#34;) except Exception as e: logging.error(f\u0026#34;åº”ç”¨æ—¶é—´è®¾ç½®å¤±è´¥: {str(e)}\u0026#34;) def clear_time(self, project, hour_entry, min_entry, sec_entry): \u0026#34;\u0026#34;\u0026#34;æ¸…é™¤é¡¹ç›®çš„å€’è®¡æ—¶\u0026#34;\u0026#34;\u0026#34; self.projects[project] = None self.original_times[project] = (0, 0, 0) self.elapsed_start[project] = None self.notification_sent[project] = False # æ¸…é™¤è¾“å…¥æ¡† hour_entry.delete(0, tk.END) min_entry.delete(0, tk.END) sec_entry.delete(0, tk.END) logging.info(f\u0026#34;é¡¹ç›® [{project}] å€’è®¡æ—¶å·²æ¸…é™¤\u0026#34;) def calculate_time_status(self, project): \u0026#34;\u0026#34;\u0026#34;è®¡ç®—é¡¹ç›®çš„æ—¶é—´çŠ¶æ€ï¼šå‰©ä½™æ—¶é—´æˆ–å·²è¿‡æ—¶é—´\u0026#34;\u0026#34;\u0026#34; end_time = self.projects.get(project) if end_time is None: return (\u0026#34;æœªè®¾ç½®\u0026#34;, None) now = datetime.datetime.now() if end_time \u0026lt; now: # å¦‚æœæ˜¯åˆšåˆ°æœŸï¼Œè®°å½•æ­£è®¡æ—¶å¼€å§‹æ—¶é—´ if self.elapsed_start[project] is None: self.elapsed_start[project] = now logging.info(f\u0026#34;é¡¹ç›® [{project}] å·²åˆ°æœŸ\u0026#34;) # è®¡ç®—å·²è¿‡æ—¶é—´ elapsed = now - self.elapsed_start[project] return (\u0026#34;elapsed\u0026#34;, int(elapsed.total_seconds())) else: # è®¡ç®—å‰©ä½™æ—¶é—´ remaining = end_time - now return (\u0026#34;remaining\u0026#34;, int(remaining.total_seconds())) def check_for_expired_projects(self): \u0026#34;\u0026#34;\u0026#34;æ£€æŸ¥æ˜¯å¦æœ‰è¶…æœŸé¡¹ç›®\u0026#34;\u0026#34;\u0026#34; for project in self.projects: status, _ = self.calculate_time_status(project) if status == \u0026#34;elapsed\u0026#34;: return True return False def get_min_remaining_time(self): \u0026#34;\u0026#34;\u0026#34;è·å–æ‰€æœ‰é¡¹ç›®ä¸­æœ€å°çš„å‰©ä½™æ—¶é—´ï¼ˆç§’ï¼‰\u0026#34;\u0026#34;\u0026#34; min_remaining = None for project in self.projects: status, seconds = self.calculate_time_status(project) if status == \u0026#34;remaining\u0026#34; and seconds is not None: if min_remaining is None or seconds \u0026lt; min_remaining: min_remaining = seconds return min_remaining def update_overlay2_color(self): \u0026#34;\u0026#34;\u0026#34;æ ¹æ®é¡¹ç›®çŠ¶æ€æ›´æ–°æµ®çª—2é¢œè‰²\u0026#34;\u0026#34;\u0026#34; # æµ®çª—2é¢œè‰²é€»è¾‘ï¼š # 1. å­˜åœ¨è¶…æœŸé¡¹ç›® â†’ çº¢è‰² # 2. æ— è¶…æœŸä½†å­˜åœ¨â‰¤2åˆ†é’Ÿçš„é¡¹ç›® â†’ é»„è‰² # 3. æ‰€æœ‰é¡¹ç›®\u0026gt;2åˆ†é’Ÿ â†’ ç»¿è‰² # 4. æ— æœ‰æ•ˆé¡¹ç›® â†’ ç°è‰² if self.check_for_expired_projects(): self.indicator.configure(bg=\u0026#39;red\u0026#39;) else: min_remaining = self.get_min_remaining_time() if min_remaining is None: self.indicator.configure(bg=\u0026#39;gray\u0026#39;) elif min_remaining \u0026gt; 120: # \u0026gt;2åˆ†é’Ÿ self.indicator.configure(bg=\u0026#39;green\u0026#39;) elif 0 \u0026lt; min_remaining \u0026lt;= 120: # â‰¤2åˆ†é’Ÿ self.indicator.configure(bg=\u0026#39;yellow\u0026#39;) else: # â‰¤2åˆ†é’Ÿä½†\u0026gt;0 self.indicator.configure(bg=\u0026#39;yellow\u0026#39;) def send_notification(self, project): \u0026#34;\u0026#34;\u0026#34;å‘é€ç³»ç»Ÿé€šçŸ¥\u0026#34;\u0026#34;\u0026#34; if not self.notification_enabled or self.notification_sent[project]: return try: notification.notify( title=\u0026#34;é¡¹ç›®å€’è®¡æ—¶\u0026#34;, message=f\u0026#34;é¡¹ç›® \u0026#39;{project}\u0026#39; å·²åˆ°æœŸï¼\u0026#34;, timeout=10 ) self.notification_sent[project] = True logging.info(f\u0026#34;å·²å‘é€é¡¹ç›® [{project}] åˆ°æœŸé€šçŸ¥\u0026#34;) except Exception as e: logging.error(f\u0026#34;å‘é€é€šçŸ¥å¤±è´¥: {str(e)}\u0026#34;) def format_time(self, status, seconds): \u0026#34;\u0026#34;\u0026#34;æ ¼å¼åŒ–æ—¶é—´æ˜¾ç¤º\u0026#34;\u0026#34;\u0026#34; if status != \u0026#34;remaining\u0026#34; and status != \u0026#34;elapsed\u0026#34;: return \u0026#34;æœªè®¾ç½®\u0026#34; days = seconds // 86400 seconds %= 86400 hours = seconds // 3600 seconds %= 3600 mins = seconds // 60 secs = seconds % 60 if days \u0026gt; 0: return f\u0026#34;{days}å¤©{hours}æ—¶{mins}åˆ†{secs}ç§’\u0026#34; else: return f\u0026#34;{hours:02d}æ—¶{mins:02d}åˆ†{secs:02d}ç§’\u0026#34; def update_countdowns(self): \u0026#34;\u0026#34;\u0026#34;æ›´æ–°æ‰€æœ‰é¡¹ç›®çš„å€’è®¡æ—¶æ˜¾ç¤ºï¼Œæ¯ç§’æ›´æ–°ä¸€æ¬¡\u0026#34;\u0026#34;\u0026#34; while True: try: # æ›´æ–°æµ®çª—1é¡¹ç›®çŠ¶æ€ for project, (row_frame, time_label) in self.labels.items(): status, seconds = self.calculate_time_status(project) # å¦‚æœé¡¹ç›®åˆšåˆ°æœŸä¸”éœ€è¦é€šçŸ¥ï¼Œå‘é€é€šçŸ¥ if status == \u0026#34;elapsed\u0026#34; and seconds \u0026lt;= 1 and not self.notification_sent[project]: self.send_notification(project) time_str = self.format_time(status, seconds) # è®¾ç½®é¢œè‰² if status == \u0026#34;remaining\u0026#34;: if seconds \u0026gt; 120: # \u0026gt;2åˆ†é’Ÿ color = \u0026#34;green\u0026#34; else: # â‰¤2åˆ†é’Ÿ color = \u0026#34;yellow\u0026#34; elif status == \u0026#34;elapsed\u0026#34;: color = \u0026#34;red\u0026#34; else: color = \u0026#34;gray\u0026#34; # æ›´æ–°UI self.overlay1.after(0, lambda rf=row_frame: rf.configure(bg=\u0026#39;black\u0026#39;)) self.overlay1.after(0, lambda tl=time_label, t=time_str, c=color: tl.config(text=t, fg=c)) # æ›´æ–°æµ®çª—2é¢œè‰² self.root.after(0, self.update_overlay2_color) time.sleep(1) except Exception as e: logging.error(f\u0026#34;æ›´æ–°å€’è®¡æ—¶æ—¶å‡ºé”™: {str(e)}\u0026#34;) time.sleep(1) def save_config(self): \u0026#34;\u0026#34;\u0026#34;ä¿å­˜é…ç½®åˆ°ä¸´æ—¶æ–‡ä»¶\u0026#34;\u0026#34;\u0026#34; try: data = { \u0026#34;projects\u0026#34;: {}, \u0026#34;original_times\u0026#34;: {}, \u0026#34;hotkeys\u0026#34;: self.hotkeys, \u0026#34;notification_enabled\u0026#34;: self.notification_enabled } # ä¿å­˜é¡¹ç›®ç»“æŸæ—¶é—´ for project, end_time in self.projects.items(): if end_time is not None and end_time \u0026gt; datetime.datetime.now(): data[\u0026#34;projects\u0026#34;][project] = end_time.isoformat() # ä¿å­˜åŸå§‹æ—¶é—´è®¾ç½® for project, (h, m, s) in self.original_times.items(): if h \u0026gt; 0 or m \u0026gt; 0 or s \u0026gt; 0: data[\u0026#34;original_times\u0026#34;][project] = (h, m, s) # å†™å…¥ä¸´æ—¶æ–‡ä»¶ with open(self.temp_file, \u0026#34;w\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;) as f: json.dump(data, f, ensure_ascii=False, indent=2) logging.debug(\u0026#34;é…ç½®å·²ä¿å­˜\u0026#34;) except Exception as e: logging.error(f\u0026#34;ä¿å­˜é…ç½®å¤±è´¥: {str(e)}\u0026#34;) def load_config(self): \u0026#34;\u0026#34;\u0026#34;ä»ä¸´æ—¶æ–‡ä»¶åŠ è½½é…ç½®\u0026#34;\u0026#34;\u0026#34; if not os.path.exists(self.temp_file): logging.info(\u0026#34;æ²¡æœ‰æ‰¾åˆ°é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨é»˜è®¤é…ç½®\u0026#34;) return try: with open(self.temp_file, \u0026#34;r\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;) as f: data = json.load(f) # åŠ è½½é¡¹ç›®ç»“æŸæ—¶é—´ if \u0026#34;projects\u0026#34; in data: for project, time_str in data[\u0026#34;projects\u0026#34;].items(): if project in self.projects: end_time = datetime.datetime.fromisoformat(time_str) # åªåŠ è½½æœªæ¥çš„æ—¶é—´ if end_time \u0026gt; datetime.datetime.now(): self.projects[project] = end_time logging.debug(f\u0026#34;å·²åŠ è½½é¡¹ç›® [{project}] çš„å€’è®¡æ—¶é…ç½®\u0026#34;) # åŠ è½½åŸå§‹æ—¶é—´è®¾ç½® if \u0026#34;original_times\u0026#34; in data: for project, (h, m, s) in data[\u0026#34;original_times\u0026#34;].items(): if project in self.original_times: self.original_times[project] = (h, m, s) # åŠ è½½å¿«æ·é”®è®¾ç½® if \u0026#34;hotkeys\u0026#34; in data: for action, hotkey in data[\u0026#34;hotkeys\u0026#34;].items(): if action in self.hotkeys and self.is_valid_hotkey(hotkey): self.hotkeys[action] = hotkey # åŠ è½½é€šçŸ¥è®¾ç½® if \u0026#34;notification_enabled\u0026#34; in data: self.notification_enabled = data[\u0026#34;notification_enabled\u0026#34;] logging.info(\u0026#34;é…ç½®åŠ è½½å®Œæˆ\u0026#34;) except Exception as e: logging.error(f\u0026#34;åŠ è½½é…ç½®å¤±è´¥: {str(e)}\u0026#34;) try: os.remove(self.temp_file) logging.info(\u0026#34;å·²åˆ é™¤æŸåçš„é…ç½®æ–‡ä»¶\u0026#34;) except: pass def periodic_save(self): \u0026#34;\u0026#34;\u0026#34;å®šæœŸä¿å­˜é…ç½®ï¼Œæ¯30ç§’ä¸€æ¬¡\u0026#34;\u0026#34;\u0026#34; while True: self.save_config() time.sleep(30) def exit_app(self): \u0026#34;\u0026#34;\u0026#34;é€€å‡ºåº”ç”¨ç¨‹åº\u0026#34;\u0026#34;\u0026#34; logging.info(\u0026#34;å‡†å¤‡é€€å‡ºç¨‹åº\u0026#34;) # é€€å‡ºå‰ä¿å­˜ä¸€æ¬¡é…ç½® self.save_config() # åœæ­¢æ‰˜ç›˜ self.tray.stop() # å…³é—­é…ç½®çª—å£ if hasattr(self, \u0026#39;config_window\u0026#39;) and isinstance(self.config_window, tk.Toplevel) and self.config_window.winfo_exists(): self.config_window.destroy() # å…³é—­æµ®çª—å’Œä¸»çª—å£ self.overlay1.destroy() self.overlay2.destroy() self.root.destroy() # åœæ­¢å…¨å±€å¿«æ·é”®ç›‘å¬ try: keyboard.unhook_all() except: pass logging.info(\u0026#34;ç¨‹åºå·²é€€å‡º\u0026#34;) os._exit(0) if __name__ == \u0026#34;__main__\u0026#34;: try: app = ProjectCountdownApp() app.root.mainloop() except Exception as e: logging.critical(f\u0026#34;ç¨‹åºè¿è¡Œå‡ºé”™: {str(e)}\u0026#34;, exc_info=True) os._exit(1) ","date":"2025-08-20T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/%E6%97%A0%E5%B0%BD%E5%86%AC%E6%97%A5%E8%AE%A1%E6%97%B6%E5%99%A8%E5%B7%A5%E5%85%B7/","title":"æ— å°½å†¬æ—¥è®¡æ—¶å™¨å·¥å…·"},{"content":" èµ„æºè®¡ç®—å™¨ é«˜æ•ˆè®¡ç®—å’Œç®¡ç†å„ç±»èµ„æº\nè®¡æ—¶å™¨","date":"2025-08-20T00:33:55+08:00","permalink":"https://blog-g.leecq.cn/p/%E5%B0%8F%E5%B7%A5%E5%85%B7/","title":"å°å·¥å…·"},{"content":"Aliyunå¿«é€Ÿåˆ›å»ºECSå®ä¾‹ - Clash è®¾ç½®åˆé€‚çš„å®‰å…¨ç»„ åœ¨æ§åˆ¶å°ä¸­è®¾ç½®å®‰å…¨ç»„å¹¶è®°å½•ç»„IDï¼šå¼€æ”¾22, 80, 443, 3389ç«¯å£ã€‚\nç¼–å†™å¯åŠ¨è„šæœ¬ å…‹éš†é¡¹ç›®ï¼Œæˆ–ä»OSSä¸‹è½½å¯åŠ¨æ–‡ä»¶, ã€‚ ä»è“å¥äº‘ä¸Šä¸‹è½½æ•°æ®ï¼Œå¹¶éƒ¨ç½²\n1 è‡ªå®šä¹‰ è¿è¡Œå®ä¾‹ ä½¿ç”¨æ¨¡æ¿æˆ–è€…ä½¿ç”¨è‡ªå®šä¹‰å‚æ•°ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 { \u0026#34;RegionId\u0026#34;: \u0026#34;cn-shenzhen\u0026#34;, # åŒºåŸŸ \u0026#34;InstanceType\u0026#34;: \u0026#34;ecs.e-c1m1.large\u0026#34;, \u0026#34;ImageId\u0026#34;: \u0026#34;ubuntu_24_04_x64_20G_alibase_20250113.vhd\u0026#34;, \u0026#34;SystemDisk.Size\u0026#34;: 20, # ç³»ç»Ÿç›˜å¤§å° \u0026#34;SystemDisk.Category\u0026#34;: \u0026#34;cloud_essd_entry\u0026#34;, # ç³»ç»Ÿç›˜ç±»å‹ \u0026#34;SecurityEnhancementStrategy\u0026#34;: \u0026#34;Active\u0026#34;, # å®‰å…¨åŠ å›ºActiveï¼šå¯ç”¨å®‰å…¨åŠ å›ºï¼ŒDeactiveï¼šä¸å¯ç”¨å®‰å…¨åŠ å›º \u0026#34;InstanceChargeType\u0026#34;: \u0026#34;PostPaid\u0026#34;, # å®ä¾‹è®¡è´¹ç±»å‹ - åä»˜è´¹ \u0026#34;SpotStrategy\u0026#34;: \u0026#34;SpotAsPriceGo\u0026#34;, # æŒ‰é‡ä»˜è´¹å®ä¾‹çš„ç«ä»·ç­–ç•¥ã€‚SpotAsPriceGo - ç³»ç»Ÿè‡ªåŠ¨å‡ºä»·ï¼Œè·Ÿéšå½“å‰å¸‚åœºå®é™…ä»·æ ¼ \u0026#34;SpotInterruptionBehavior\u0026#34;: \u0026#34;Terminate\u0026#34;, # æŠ¢å å®ä¾‹ä¸­æ–­æ¨¡å¼ã€‚ Terminateï¼šç›´æ¥é‡Šæ”¾å®ä¾‹ã€‚ \u0026#34;InternetChargeType\u0026#34;: \u0026#34;PayByTraffic\u0026#34;, # ç½‘ç»œè®¡è´¹ç±»å‹ï¼ŒæŒ‰æµé‡ \u0026#34;AutoRenew\u0026#34;: false, # è‡ªåŠ¨ç»­è´¹ \u0026#34;InternetMaxBandwidthIn\u0026#34;: 100, \u0026#34;InternetMaxBandwidthOut\u0026#34;: 10, # å‡ºå¸¦å®½å¤§äº0 è‡ªåŠ¨åˆ†é…å…¬ç½‘IP \u0026#34;VSwitchId\u0026#34;: \u0026#34;vsw-wz9q3hnkysu1p4sc*****\u0026#34;, # ç»‘å®šäº¤æ¢æœº \u0026#34;SecurityGroupId\u0026#34;: \u0026#34;sg-wz9etfd2xhsxa1p*****\u0026#34;, # ç»‘å®šå®‰å…¨ç»„ \u0026#34;ResourceGroupId\u0026#34;: \u0026#34;rg-acfmvpl4ra*****\u0026#34;, # èµ„æºç»„ \u0026#34;InstanceName\u0026#34;: \u0026#34;api-test\u0026#34;, # å®ä¾‹åå­— \u0026#34;HostName\u0026#34;: \u0026#34;api-test\u0026#34;, # ä¸»æœºå \u0026#34;Password\u0026#34;: \u0026#34;****\u0026#34;, # å¯†ç  \u0026#34;UserData\u0026#34;: \u0026#34;Iy9iaW4vYmFzaAplY2hvICJzdGFydCBFQ1MiID4gdGVzdC50eHQ=\u0026#34;, # ç”¨æˆ·è„šæœ¬ \u0026#34;DryRun\u0026#34;: false, # æµ‹è¯•è¿è¡Œ } Aliyun CLI å‚æ•°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 user_data=\u0026#34;Iy9iaW4vYmFzaAplY2hvICJzdGFydCBFQ1MiID4gdGVzdC50eHQ\u0026#34; ecs_password=\u0026#34;*******\u0026#34; relase_time=$(date --date=\u0026#34;@$(date -d \u0026#39;+4 hours\u0026#39; +%s)\u0026#34; +\u0026#39;%Y-%m-%dT%H:%M:%SZ\u0026#39; -u) # è·å–4å°æ—¶åçš„UTCæ—¶é—´ # æŸ¥è¯¢ä»·æ ¼ aliyun ecs DescribePrice --force --RegionId cn-shenzhen --ImageId \u0026#34;ubuntu_24_04_x64_20G_alibase_20250113.vhd\u0026#34; \\ --InstanceType \u0026#34;ecs.e-c1m1.large\u0026#34; --SystemDisk.Category cloud_essd_entry --SystemDisk.Size 20 \\ --InstanceChargeType PostPaid --SpotStrategy SpotAsPriceGo --SpotInterruptionBehavior Terminate \\ --InternetChargeType PayByTraffic --InternetMaxBandwidthOut 10 --InternetMaxBandwidthIn 100 \\ --VSwitchId vsw-wz9q3hnkysu1p4scm**** --SecurityGroupId sg-wz9etfd2xhsxa1p**** \\ --HostName \u0026#34;api-test\u0026#34; --Password \u0026#34;${ecs_password}\u0026#34; --DryRun true # åˆ›å»ºå®ä¾‹ ecs_password=\u0026#34;*******\u0026#34; aliyun ecs RunInstances --RegionId cn-shenzhen --ImageId \u0026#34;ubuntu_24_04_x64_20G_alibase_20250113.vhd\u0026#34; \\ --InstanceType \u0026#34;ecs.e-c1m1.large\u0026#34; --SystemDisk.Category cloud_essd_entry --SystemDisk.Size 20 \\ --InstanceChargeType PostPaid --SpotStrategy SpotAsPriceGo --SpotInterruptionBehavior Terminate \\ --InternetChargeType PayByTraffic --InternetMaxBandwidthOut 10 --InternetMaxBandwidthIn 100 \\ --VSwitchId vsw-wz9q3hnkysu1p4scm**** --SecurityGroupId sg-wz9etfd2xhsxa1p**** \\ --HostName \u0026#34;api-test\u0026#34; --Password \u0026#34;${ecs_password}\u0026#34; --UserData ${user_data} --AutoReleaseTime ${relase_time} \\ --DryRun true è¿”å›ç»“æœï¼š{ \u0026ldquo;InstanceIdSets\u0026rdquo;: { \u0026ldquo;InstanceIdSet\u0026rdquo;: [ \u0026ldquo;i-wz91g5uy6dgm8gas****\u0026rdquo; ] }, \u0026ldquo;RequestId\u0026rdquo;: \u0026ldquo;C449D45D-CC95-5BDD-9438-9DD139679A48\u0026rdquo; }\nå¾—åˆ°å®ä¾‹IDï¼š jq -r '.InstanceIdSets.InstanceIdSet[0]\nåˆ†é…IPåœ°å€ ä½¿ç”¨StartInstanceåˆ›å»ºå®ä¾‹æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨åˆ†é…å…¬ç½‘IP APIï¼ˆå‡ºå¸¦å®½å¿…é¡»å¤§äº0ï¼‰ï¼› ä½¿ç”¨RunInstancescesåˆ›å»ºå®ä¾‹æ—¶ï¼Œå½“å‡ºå¸¦å®½æ‰“äº0æ—¶ï¼Œè‡ªåŠ¨åˆ†é…IPã€‚\næŸ¥è¯¢ECSä¿¡æ¯ è°ƒç”¨æŸ¥è¯¢æ¥å£\n1 aliyun ecs DescribeInstanceAttribute --region cn-shenzhen --InstanceId \u0026#39;i-wz91g5uy6dgm8gas****\u0026#39; è¿”å›ï¼š{ \u0026ldquo;ClusterId\u0026rdquo;: \u0026ldquo;\u0026rdquo;, \u0026ldquo;Cpu\u0026rdquo;: 2, \u0026ldquo;CreationTime\u0026rdquo;: \u0026ldquo;2025-02-15T09:52:38Z\u0026rdquo;, \u0026ldquo;CreditSpecification\u0026rdquo;: \u0026ldquo;\u0026rdquo;, \u0026hellip;\u0026hellip; \u0026ldquo;Memory\u0026rdquo;: 2048, \u0026ldquo;OperationLocks\u0026rdquo;: { \u0026ldquo;LockReason\u0026rdquo;: [] }, \u0026ldquo;PublicIpAddress\u0026rdquo;: { \u0026ldquo;IpAddress\u0026rdquo;: [ \u0026ldquo;47.119.180.220\u0026rdquo; ] }, \u0026ldquo;RegionId\u0026rdquo;: \u0026ldquo;cn-shenzhen\u0026rdquo;, \u0026hellip;\u0026hellip; }, \u0026ldquo;ZoneId\u0026rdquo;: \u0026ldquo;cn-shenzhen-e\u0026rdquo; }\næŸ¥è¯¢å…¬ç½‘IPåœ°å€ã€‚aliyun ecs DescribeInstanceAttribute \u0026ndash;InstanceId \u0026lsquo;i-wz91g5uy6dgm8gas****\u0026rsquo; |jq .PublicIpAddress.IpAddress[0] -r\næ›´æ–°DNSåˆ°ä¸»æœº æ›´æ–°IPåœ°å€ä¿¡æ¯åˆ°DNSPODã€‚ 1 2 3 4 5 curl -X POST https://dnsapi.cn/Record.Modify --header \u0026#39;User-Agent: HostCreate/v0.1(lee-cq@qq.com)\u0026#39; \\ -d \u0026#39;login_token=${LOGIN_TOKEN}\u0026amp;format=json\u0026amp;domain=${DOMAIN}\u0026amp;sub_domain=ali-host\u0026amp;record_type=A\u0026amp;record_line_id=10%3D0\u0026amp;value=${pub_ip}\u0026#39; # Aliyun DNS aliyun alidns AddDomainRecord --region cn-shenzhen --DomainName \u0026#39;DOMAIN\u0026#39; --RR \u0026#39;api-test\u0026#39; --Type A --Value ${pub_ip} æ‰‹åŠ¨é‡Šæ”¾å®ä¾‹ 1 2 3 4 5 6 7 8 aliyun ecs DeleteInstance --region cn-shenzhen --InstanceId \u0026#39;i-wz91g5uy6dgm8gasp6ac\u0026#39; --Force true # å¼ºåˆ¶é‡Šæ”¾å®ä¾‹ record_id=$(curl -X POST https://dnsapi.cn/Record.List --header \u0026#39;User-Agent: HostCreate/V0.1(lee-cq@qq.com)\u0026#39; \\ -d \u0026#39;login_token=${LOGIN_TOKEN}\u0026amp;format=json\u0026amp;domain_id=${DOMAIN}\u0026amp;sub_domain=ali-host\u0026#39; | jq -r \u0026#39;.records[0].id\u0026#39;) # åˆ é™¤DNSè§£æ curl -X POST https://dnsapi.cn/Record.Remove --header \u0026#39;User-Agent: HostCreate/V0.1(lee-cq@qq.com)\u0026#39; \\ -d \u0026#39;login_token=${LOGIN_TOKEN}\u0026amp;format=json\u0026amp;domain=${DOMAIN}\u0026amp;record_id=${record_id}\u0026#39; å®Œæ•´è„šæœ¬ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 user_data=\u0026#34;Iy9iaW4vYmFzaAplY2hvICJzdGFydCBFQ1MiID4gdGVzdC50eHQ\u0026#34; ecs_password=\u0026#34;*******\u0026#34; relase_time=$(date --date=\u0026#34;@$(date -d \u0026#39;+4 hours\u0026#39; +%s)\u0026#34; +\u0026#39;%Y-%m-%dT%H:%M:%SZ\u0026#39; -u) # è·å–4å°æ—¶åçš„UTCæ—¶é—´ DOMAIN=\u0026#34;\u0026#34; # æŸ¥è¯¢ä»·æ ¼ aliyun ecs DescribePrice --force --RegionId cn-shenzhen --ImageId \u0026#34;ubuntu_24_04_x64_20G_alibase_20250113.vhd\u0026#34; \\ --InstanceType \u0026#34;ecs.e-c1m1.large\u0026#34; --SystemDisk.Category cloud_essd_entry --SystemDisk.Size 20 \\ --InstanceChargeType PostPaid --SpotStrategy SpotAsPriceGo --SpotInterruptionBehavior Terminate \\ --InternetChargeType PayByTraffic --InternetMaxBandwidthOut 10 --InternetMaxBandwidthIn 100 \\ --VSwitchId vsw-wz9q3hnkysu1p4scm**** --SecurityGroupId sg-wz9etfd2xhsxa1p**** \\ --HostName \u0026#34;api-test\u0026#34; --Password \u0026#34;${ecs_password}\u0026#34; --DryRun true # åˆ›å»ºå®ä¾‹ ecs_password=\u0026#34;*******\u0026#34; aliyun ecs RunInstances --RegionId cn-shenzhen --ImageId \u0026#34;ubuntu_24_04_x64_20G_alibase_20250113.vhd\u0026#34; \\ --InstanceType \u0026#34;ecs.e-c1m1.large\u0026#34; --SystemDisk.Category cloud_essd_entry --SystemDisk.Size 20 \\ --InstanceChargeType PostPaid --SpotStrategy SpotAsPriceGo --SpotInterruptionBehavior Terminate \\ --InternetChargeType PayByTraffic --InternetMaxBandwidthOut 10 --InternetMaxBandwidthIn 100 \\ --VSwitchId vsw-wz9q3hnkysu1p4scm**** --SecurityGroupId sg-wz9etfd2xhsxa1p**** \\ --HostName \u0026#34;api-test\u0026#34; --Password \u0026#34;${ecs_password}\u0026#34; --UserData ${user_data} \\ --AutoReleaseTime ${relase_time} | tee /dev/tty |jq -r \u0026#39;.InstanceIdSets.InstanceIdSet[0]\u0026#39; \u0026gt; ecs-instance-id # æŸ¥è¯¢å…¬ç½‘IPåœ°å€ aliyun ecs DescribeInstanceAttribute --region cn-shenzhen --InstanceId \u0026#34;$(cat ecs-instance-id)\u0026#34; | tee /dev/tty | jq -r .PublicIpAddress.IpAddress[0] \u0026gt; ecs-instanse-ip # å°†å…¬ç½‘IPåœ°å€æ³¨å†Œåˆ°DNSPOD curl -X POST https://dnsapi.cn/Record.Modify --header \u0026#39;User-Agent: HostCreate/v0.1(lee-cq@qq.com)\u0026#39; \\ -d \u0026#34;login_token=${LOGIN_TOKEN}\u0026amp;format=json\u0026amp;domain=${DOMAIN}\u0026amp;sub_domain=ali-host\u0026amp;record_type=A\u0026amp;record_line_id=10%3D0\u0026amp;value=$(cat ecs-instanse-ip)\u0026#34; ","date":"2025-02-15T17:24:41+08:00","permalink":"https://blog-g.leecq.cn/p/%E9%98%BF%E9%87%8C%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%9B%E5%BB%BA%E6%8A%A2%E5%8D%A0%E5%AE%9E%E4%BE%8B/","title":"é˜¿é‡Œäº‘è‡ªåŠ¨åˆ›å»ºæŠ¢å å®ä¾‹"},{"content":"æ—¥æœ¬ç”µåŠ›è¡Œä¸šç½‘ç»œå®‰å…¨æ´å¯Ÿ æ—¥æœ¬ç”µåŠ›å¸‚åœºä¸ç›‘ç®¡æœºæ„ä»‹ç» ç”µåŠ›å¸‚åœºä»‹ç» 1. å†å²èƒŒæ™¯ 1951å¹´ï¼šæ—¥æœ¬æˆç«‹äº†10å®¶åŒºåŸŸæ€§ç”µåŠ›å…¬å¸ï¼Œè¿™äº›å…¬å¸å„è‡ªè´Ÿè´£ç‰¹å®šåœ°åŒºçš„å‘ç”µã€è¾“ç”µã€é…ç”µå’Œå”®ç”µï¼Œå½¢æˆäº†å‚ç›´ä¸€ä½“åŒ–çš„å„æ–­ç»“æ„ã€‚ 1995å¹´ï¼šæ—¥æœ¬ä¿®è®¢äº†ã€Šç”µåŠ›äº‹ä¸šæ³•ã€‹ï¼Œå…è®¸ç‹¬ç«‹å‘ç”µä¼ä¸šï¼ˆIndependent Power Producers, IPPsï¼‰è¿›å…¥å¸‚åœºï¼Œæ ‡å¿—ç€ç”µåŠ›å¸‚åœºæ”¹é©çš„å¼€å§‹ã€‚ 1999å¹´ï¼šé€æ­¥æ”¾å¼€å”®ç”µå¸‚åœºï¼Œå…è®¸ç‰¹å®šè§„æ¨¡ç”µåŠ›äº‹ä¸šè€…ï¼ˆParticular Purpose Suppliers, PPSsï¼‰å‘å¤§ä¸­å‹ç”¨æˆ·å”®ç”µã€‚ 2016å¹´4æœˆï¼šå…¨é¢æ”¾å¼€ç”µåŠ›é›¶å”®å¸‚åœºï¼Œæ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥è‡ªç”±é€‰æ‹©ç”µåŠ›ä¾›åº”å•†ã€‚ 2. å¸‚åœºç»“æ„ ä¸»è¦å‚ä¸è€…ï¼š 10å¤§åŒºåŸŸæ€§ç”µåŠ›å…¬å¸ï¼šåŒ—æµ·é“ç”µåŠ›ã€ä¸œåŒ—ç”µåŠ›ã€ä¸œäº¬ç”µåŠ›ã€åŒ—é™†ç”µåŠ›ã€ä¸­éƒ¨ç”µåŠ›ã€å…³è¥¿ç”µåŠ›ã€ä¸­å›½ç”µåŠ›ã€å››å›½ç”µåŠ›ã€ä¹å·ç”µåŠ›ã€å†²ç»³ç”µåŠ›ã€‚ ç‹¬ç«‹å‘ç”µä¼ä¸šï¼ˆIPPsï¼‰ï¼šè¿™äº›ä¼ä¸šä¸»è¦æä¾›ç«åŠ›å‘ç”µã€æ°´åŠ›å‘ç”µã€æ ¸èƒ½å‘ç”µå’Œå¯å†ç”Ÿèƒ½æºå‘ç”µã€‚ ç‰¹å®šè§„æ¨¡ç”µåŠ›äº‹ä¸šè€…ï¼ˆPPSsï¼‰ï¼šè¿™äº›ä¼ä¸šå‘å¤§ä¸­å‹ç”¨æˆ·æä¾›ç”µåŠ›æœåŠ¡ã€‚ ç”µåŠ›é›¶å”®å•†ï¼šå‘ç»ˆç«¯ç”¨æˆ·é”€å”®ç”µåŠ›ï¼ŒåŒ…æ‹¬å±…æ°‘ç”¨æˆ·å’Œå•†ä¸šç”¨æˆ·ã€‚ æ‰¹å‘å¸‚åœºï¼š æ—¥æœ¬ç”µåŠ›æ‰¹å‘äº¤æ˜“æ‰€ï¼ˆJEPXï¼‰ï¼šæˆç«‹äº2003å¹´11æœˆï¼Œ2005å¹´4æœˆæ­£å¼è¿è¥ï¼Œæä¾›ç°è´§äº¤æ˜“å’Œé•¿æœŸåˆåŒäº¤æ˜“ï¼Œæ—¨åœ¨ä¿ƒè¿›ç”µåŠ›æ‰¹å‘å¸‚åœºçš„é€æ˜åº¦å’Œæ•ˆç‡ã€‚ 3. å‘ç”µç»“æ„ \u0026ndash; TODO æ£€æŸ¥å‡†ç¡®æ€§ ç«ç”µï¼š65% æ ¸ç”µï¼š17% æ°´ç”µï¼š17% å¯å†ç”Ÿèƒ½æºï¼š 4. ç»“æ„è§„åˆ’ 2030å¹´èƒ½æºæ„æˆè‰æ¡ˆï¼š æ—¥æœ¬ç»æµäº§ä¸šçœåœ¨2030å¹´æœ€ä½³èƒ½æºæ„æˆè‰æ¡ˆä¸­ç¡®å®šäº†å°†å…‰ä¼å‘ç”µæ¯”ä¾‹æ§åˆ¶åœ¨çº¦7%çš„æ–¹é’ˆã€‚è¿™ä¸€ç›®æ ‡æ˜¯åœ¨22%è‡³24%çš„å¯å†ç”Ÿèƒ½æºæ¯”ä¾‹ä¸­çš„ä¸€éƒ¨åˆ†ã€‚ æ—¥æœ¬æ”¿åºœé¼“åŠ±å¯å†ç”Ÿèƒ½æºçš„å¼€å‘å’Œåˆ©ç”¨ï¼Œè®¸å¤šç”µåŠ›å…¬å¸éƒ½åœ¨ç§¯ææŠ•èµ„é£èƒ½ã€å¤ªé˜³èƒ½ç­‰å¯å†ç”Ÿèƒ½æºé¡¹ç›®ã€‚ ç›‘ç®¡æœºæ„ä»‹ç» ç»æµäº§ä¸šçœï¼ˆMETIï¼‰ï¼š ç”µåŠ›å¸‚åœºç§‘ï¼šè´Ÿè´£ç”µåŠ›å¸‚åœºçš„æ•´ä½“ç›‘ç®¡ï¼ŒåŒ…æ‹¬ç”µä»·ã€ç¯å¢ƒä¿æŠ¤å’Œå‘å±•è§„åˆ’ã€‚ èµ„æºèƒ½æºå…ï¼šå…·ä½“æ‰§è¡Œç”µåŠ›å¸‚åœºçš„ç›‘ç®¡å·¥ä½œï¼Œç¡®ä¿å¸‚åœºå…¬å¹³ç«äº‰å’Œæ¶ˆè´¹è€…æƒç›Šã€‚ æ—¥æœ¬ç”µåŠ›ç³»ç»Ÿåˆ©ç”¨åä¼šï¼ˆESCJï¼‰ï¼š æˆç«‹äº2004å¹´2æœˆï¼Œæ˜¯ä¸€ä¸ªä¸­ç«‹çš„æ°‘é—´æœºæ„ï¼Œè´Ÿè´£åˆ¶å®šè¾“é…ç”µè§„åˆ™å¹¶ç›‘ç£å…¶æ‰§è¡Œï¼Œç¡®ä¿è¾“é…ç”µç³»ç»Ÿçš„å…¬å¹³å’Œé€æ˜ã€‚ ç”µåŠ›æ‰¹å‘äº¤æ˜“æ‰€ï¼ˆJEPXï¼‰ï¼š æˆç«‹äº2003å¹´11æœˆï¼Œ2005å¹´4æœˆå¼€å§‹è¿è¥ï¼Œæ˜¯ä¸€ä¸ªéè¥åˆ©æ€§è´¨çš„ä¼šå‘˜åˆ¶æœºæ„ï¼Œè´Ÿè´£ç”µåŠ›æ‰¹å‘å¸‚åœºçš„äº¤æ˜“å’Œç›‘ç®¡ã€‚ ç”µåŠ›ç‡ƒæ°”äº¤æ˜“ç›‘ç£å§”å‘˜ä¼šï¼š è´Ÿè´£ç›‘ç£ç”µåŠ›å’Œç‡ƒæ°”å¸‚åœºçš„äº¤æ˜“ï¼Œç¡®ä¿å¸‚åœºå…¬å¹³ç«äº‰ï¼Œé˜²æ­¢å„æ–­å’Œä¸å…¬å¹³è¡Œä¸ºã€‚ ä¸­å¤®ç”µåŠ›å§”å‘˜ä¼šï¼š æˆç«‹äº1958å¹´ï¼Œè´Ÿè´£åè°ƒå„å¤§ç”µåŠ›å…¬å¸å’Œç”µæºå¼€å‘å…¬å¸ä¹‹é—´çš„å…³ç³»ï¼Œç¡®ä¿ç”µåŠ›ç³»ç»Ÿçš„ç¨³å®šè¿è¡Œã€‚ æ—¥æœ¬ç”µæ°”äº‹ä¸šè”åˆä¼šï¼ˆEEPCï¼‰ï¼š è´Ÿè´£è¡Œä¸šç®¡ç†å’Œç»Ÿè®¡ï¼Œåè°ƒå„ç”µåŠ›å…¬å¸ä¹‹é—´çš„åˆä½œå’Œäº¤æµã€‚ ä¸»è¦ç”µåŠ›è¿è¥å•†ä»‹ç» åŒ—æµ·é“ç”µåŠ›å…¬å¸ï¼ˆHOKKAIDO ELECTRIC POWER CO., INC.ï¼‰ æ€»éƒ¨ï¼šæœ­å¹Œ æœåŠ¡åŒºåŸŸï¼šåŒ—æµ·é“ æˆç«‹æ—¶é—´ï¼š1951å¹´ ä¸»è¦ä¸šåŠ¡ï¼šå‘ç”µã€è¾“ç”µã€é…ç”µã€å”®ç”µ ä¸œåŒ—ç”µåŠ›å…¬å¸ï¼ˆTOHOKU ELECTRIC POWER CO., INC.ï¼‰ æ€»éƒ¨ï¼šä»™å° æœåŠ¡åŒºåŸŸï¼šé’æ£®å¿ã€å²©æ‰‹å¿ã€å®«åŸå¿ã€ç§‹ç”°å¿ã€å±±å½¢å¿ã€ç¦å²›å¿ã€æ–°æ³»å¿ æˆç«‹æ—¶é—´ï¼š1951å¹´ ä¸»è¦ä¸šåŠ¡ï¼šå‘ç”µã€è¾“ç”µã€é…ç”µã€å”®ç”µ ä¸œäº¬ç”µåŠ›å…¬å¸ï¼ˆTOKYO ELECTRIC POWER COMPANY, INC.ï¼Œç®€ç§°TEPCOï¼‰ æ€»éƒ¨ï¼šä¸œäº¬ æœåŠ¡åŒºåŸŸï¼šä¸œäº¬éƒ½ã€åŸ¼ç‰å¿ã€åƒå¶å¿ã€èŒ¨åŸå¿ã€ç¾¤é©¬å¿ã€æ ƒæœ¨å¿ã€å±±æ¢¨å¿ã€é™å†ˆå¿ä¸œéƒ¨ æˆç«‹æ—¶é—´ï¼š1951å¹´ ä¸»è¦ä¸šåŠ¡ï¼šå‘ç”µã€è¾“ç”µã€é…ç”µã€å”®ç”µã€æ ¸ç”µç«™è¿è¥ ç‰¹ç‚¹ï¼šæ—¥æœ¬æœ€å¤§çš„ç”µåŠ›å…¬å¸ä¹‹ä¸€ï¼Œå› 2011å¹´ç¦å²›æ ¸äº‹æ•…è€Œå¤‡å—å…³æ³¨ åŒ—é™†ç”µåŠ›å…¬å¸ï¼ˆHOKURIKU ELECTRIC POWER CO., INC.ï¼‰ æ€»éƒ¨ï¼šé‡‘æ³½ æœåŠ¡åŒºåŸŸï¼šç¦äº•å¿ã€çŸ³å·å¿ã€å¯Œå±±å¿ æˆç«‹æ—¶é—´ï¼š1951å¹´ ä¸»è¦ä¸šåŠ¡ï¼šå‘ç”µã€è¾“ç”µã€é…ç”µã€å”®ç”µ ä¸­éƒ¨ç”µåŠ›å…¬å¸ï¼ˆCHUBU ELECTRIC POWER CO., INC.ï¼‰ æ€»éƒ¨ï¼šåå¤å±‹ æœåŠ¡åŒºåŸŸï¼šé•¿é‡å¿ã€å²é˜œå¿ï¼ˆéƒ¨åˆ†ï¼‰ã€çˆ±çŸ¥å¿ã€ä¸‰é‡å¿ï¼ˆéƒ¨åˆ†ï¼‰ã€é™å†ˆå¿ï¼ˆéƒ¨åˆ†ï¼‰ æˆç«‹æ—¶é—´ï¼š1951å¹´ ä¸»è¦ä¸šåŠ¡ï¼šå‘ç”µã€è¾“ç”µã€é…ç”µã€å”®ç”µ å…³è¥¿ç”µåŠ›å…¬å¸ï¼ˆKANSAI ELECTRIC POWER CO., INC.ï¼‰ æ€»éƒ¨ï¼šå¤§é˜ª æœåŠ¡åŒºåŸŸï¼šäº¬éƒ½åºœã€å¤§é˜ªåºœã€å…µåº“å¿ã€æ»‹è´ºå¿ã€å¥ˆè‰¯å¿ã€å’Œæ­Œå±±å¿ã€ä¸‰é‡å¿ï¼ˆéƒ¨åˆ†ï¼‰ æˆç«‹æ—¶é—´ï¼š1951å¹´ ä¸»è¦ä¸šåŠ¡ï¼šå‘ç”µã€è¾“ç”µã€é…ç”µã€å”®ç”µ ä¸­å›½ç”µåŠ›å…¬å¸ï¼ˆCHUGOKU ELECTRIC POWER CO., INC.ï¼‰ æ€»éƒ¨ï¼šå¹¿å²› æœåŠ¡åŒºåŸŸï¼šé¸Ÿå–å¿ã€å²›æ ¹å¿ã€å†ˆå±±å¿ã€å¹¿å²›å¿ã€å±±å£å¿ æˆç«‹æ—¶é—´ï¼š1951å¹´ ä¸»è¦ä¸šåŠ¡ï¼šå‘ç”µã€è¾“ç”µã€é…ç”µã€å”®ç”µ å››å›½ç”µåŠ›å…¬å¸ï¼ˆSHIKOKU ELECTRIC POWER CO., INC.ï¼‰ æ€»éƒ¨ï¼šæ¾å±± æœåŠ¡åŒºåŸŸï¼šçˆ±åª›å¿ã€é«˜çŸ¥å¿ã€å¾·å²›å¿ã€é¦™å·å¿ æˆç«‹æ—¶é—´ï¼š1951å¹´ ä¸»è¦ä¸šåŠ¡ï¼šå‘ç”µã€è¾“ç”µã€é…ç”µã€å”®ç”µ ä¹å·ç”µåŠ›å…¬å¸ï¼ˆKYUSHU ELECTRIC POWER CO., INC.ï¼‰ æ€»éƒ¨ï¼šç¦å†ˆ æœåŠ¡åŒºåŸŸï¼šç¦å†ˆå¿ã€ä½è´ºå¿ã€é•¿å´å¿ã€ç†Šæœ¬å¿ã€å¤§åˆ†å¿ã€å®«å´å¿ã€é¹¿å„¿å²›å¿ æˆç«‹æ—¶é—´ï¼š1951å¹´ ä¸»è¦ä¸šåŠ¡ï¼šå‘ç”µã€è¾“ç”µã€é…ç”µã€å”®ç”µ å†²ç»³ç”µåŠ›å…¬å¸ï¼ˆOKINAWA ELECTRIC POWER CO., INC.ï¼‰ æ€»éƒ¨ï¼šé‚£éœ¸ æœåŠ¡åŒºåŸŸï¼šå†²ç»³å¿ æˆç«‹æ—¶é—´ï¼š1951å¹´ ä¸»è¦ä¸šåŠ¡ï¼šå‘ç”µã€è¾“ç”µã€é…ç”µã€å”®ç”µ å…‰ä¼è¡Œä¸šå‡†å…¥é—¨æ§›ä¸é€‚ç”¨ç›‘ç®¡è¦æ±‚ä»‹ç» ä¸»è¦å…‰ä¼äº§ä¸šè¿è¥å•†ä»‹ç» 1. äº¬ç“·æ ªå¼ä¼šç¤¾ï¼ˆKyocera Corporationï¼‰ å®˜ç½‘ å…¬å¸ç®€ä»‹ï¼š äº¬ç“·æ˜¯ä¸€å®¶å…¨çƒçŸ¥åçš„ç”µå­å’Œé™¶ç“·äº§å“åˆ¶é€ å•†ï¼Œä¹Ÿæ˜¯æ—¥æœ¬æœ€å¤§çš„å…‰ä¼ç»„ä»¶ç”Ÿäº§å•†ä¹‹ä¸€ã€‚ å…‰ä¼ä¸šåŠ¡ï¼š äº¬ç“·åœ¨å…‰ä¼é¢†åŸŸæ‹¥æœ‰ä¸°å¯Œçš„ç»éªŒå’Œå¼ºå¤§çš„æŠ€æœ¯å®åŠ›ï¼Œç”Ÿäº§é«˜è´¨é‡çš„å¤ªé˜³èƒ½ç”µæ± æ¿å’Œç³»ç»Ÿã€‚å…¬å¸è¿˜ç§¯æå‚ä¸å¤§å‹å…‰ä¼ç”µç«™çš„å»ºè®¾å’Œè¿è¥ã€‚ ä¸»è¦é¡¹ç›®ï¼š 2012å¹´ï¼Œäº¬ç“·è®¾ç«‹äº†â€œé¹¿å„¿å²›ç™¾ä¸‡ç“¦çº§å¤ªé˜³èƒ½å‘ç”µå…¬å¸â€ï¼Œè¿è¥æ—¥æœ¬æœ€å¤§çš„å…‰ä¼ç”µç«™â€”â€”â€œé¹¿å„¿å²›ä¸ƒå²›ç™¾ä¸‡ç“¦çº§å¤ªé˜³èƒ½å‘ç”µç«™â€ï¼Œå‘ç”µèƒ½åŠ›ä¸º70å…†ç“¦ï¼ˆ7ä¸‡åƒç“¦ï¼‰ã€‚ 2. å¤æ™®æ ªå¼ä¼šç¤¾ï¼ˆSharp Corporationï¼‰å®˜ç½‘ å…¬å¸ç®€ä»‹ï¼š å¤æ™®æ˜¯ä¸€å®¶å…¨çƒé¢†å…ˆçš„ç”µå­å’Œå®¶ç”µåˆ¶é€ å•†ï¼Œä¹Ÿåœ¨å…‰ä¼é¢†åŸŸæœ‰ç€å¹¿æ³›çš„æŠ€æœ¯ç§¯ç´¯å’Œå¸‚åœºå½±å“åŠ›ã€‚ å…‰ä¼ä¸šåŠ¡ï¼š å¤æ™®ç”Ÿäº§å„ç§ç±»å‹çš„å¤ªé˜³èƒ½ç”µæ± æ¿å’Œç³»ç»Ÿï¼ŒåŒ…æ‹¬é«˜æ•ˆå•æ™¶ç¡…å’Œå¤šæ™¶ç¡…ç”µæ± æ¿ã€‚å…¬å¸è¿˜æ¶‰è¶³å…‰ä¼ç³»ç»Ÿçš„å®‰è£…å’Œç»´æŠ¤æœåŠ¡ã€‚ 3. ä¸œèŠèƒ½æºç³»ç»Ÿä¸è§£å†³æ–¹æ¡ˆå…¬å¸ï¼ˆToshiba Energy Systems \u0026amp; Solutions Corporationï¼‰ å®˜ç½‘ å…¬å¸ç®€ä»‹ï¼š ä¸œèŠèƒ½æºç³»ç»Ÿä¸è§£å†³æ–¹æ¡ˆå…¬å¸æ˜¯ä¸œèŠé›†å›¢çš„å­å…¬å¸ï¼Œä¸“æ³¨äºèƒ½æºè§£å†³æ–¹æ¡ˆå’ŒåŸºç¡€è®¾æ–½å»ºè®¾ã€‚ å…‰ä¼ä¸šåŠ¡ï¼š å…¬å¸æä¾›ä»å¤ªé˜³èƒ½ç”µæ± æ¿ç”Ÿäº§åˆ°å…‰ä¼ç³»ç»Ÿé›†æˆçš„å…¨æ–¹ä½æœåŠ¡ï¼Œå‚ä¸å¤šä¸ªå¤§å‹å…‰ä¼ç”µç«™é¡¹ç›®ã€‚ 4. TMEICï¼ˆToshiba Mitsubishi-Electric Industrial Systems Corporationï¼‰ å…¬å¸ç®€ä»‹ï¼š TMEICæ˜¯ç”±ä¸œèŠå’Œä¸‰è±ç”µæœºå„å‡ºèµ„50%æˆç«‹çš„åˆèµ„å…¬å¸ï¼Œä¸“æ³¨äºå·¥ä¸šè‡ªåŠ¨åŒ–å’Œèƒ½æºè§£å†³æ–¹æ¡ˆã€‚ å…‰ä¼ä¸šåŠ¡ï¼š TMEICåœ¨å…‰ä¼é€†å˜å™¨é¢†åŸŸè¡¨ç°çªå‡ºï¼Œæ˜¯æ—¥æœ¬å”¯ä¸€ä¸€å®¶2020å¹´å…‰ä¼é€†å˜å‡ºè´§é‡å…¨çƒæ’åè¿›å…¥10å¼ºçš„å…¬å¸ã€‚å…¬å¸è¿˜æä¾›å…‰ä¼ç³»ç»Ÿçš„é›†æˆå’Œè¿ç»´æœåŠ¡ã€‚ 5. Panasonic Holdings Corporation å…¬å¸ç®€ä»‹ï¼š Panasonicæ˜¯ä¸€å®¶å…¨çƒçŸ¥åçš„ç”µå­å’Œå®¶ç”µåˆ¶é€ å•†ï¼Œä¹Ÿåœ¨å…‰ä¼é¢†åŸŸæœ‰ç€æ·±åšçš„æŠ€æœ¯ç§¯ç´¯ã€‚ å…‰ä¼ä¸šåŠ¡ï¼š Panasonicç”Ÿäº§é«˜æ•ˆçš„å¤ªé˜³èƒ½ç”µæ± æ¿å’Œç³»ç»Ÿï¼Œæä¾›ä»è®¾è®¡åˆ°å®‰è£…çš„å…¨å¥—è§£å†³æ–¹æ¡ˆã€‚å…¬å¸è¿˜å‚ä¸äº†å¤šä¸ªå¤§å‹å…‰ä¼é¡¹ç›®çš„å»ºè®¾å’Œè¿è¥ã€‚ 6. Sonnedix Japan å…¬å¸ç®€ä»‹ï¼š Sonnedixæ˜¯ä¸€å®¶ç‹¬ç«‹çš„å¤ªé˜³èƒ½ç”Ÿäº§å•†ï¼Œä¸“æ³¨äºå…‰ä¼ç”µç«™çš„å¼€å‘ã€å»ºè®¾å’Œè¿è¥ã€‚ å…‰ä¼ä¸šåŠ¡ï¼š Sonnedixåœ¨æ—¥æœ¬è¿è¥å¤šä¸ªå¤§å‹å…‰ä¼ç”µç«™ï¼Œå…¶ä¸­åŒ…æ‹¬ä½äºå²©æ‰‹å¿çš„32.9MW Iwate Miyakoå…‰ä¼ç”µç«™ã€‚è¯¥ç”µç«™å¹´å‘ç”µé‡è¾¾39000MWhï¼Œå¯ä¸º1.32ä¸‡æˆ·æ—¥æœ¬å®¶åº­ä¾›ç”µã€‚ æµ·å¤–å…‰ä¼å¸‚åœºè´¸æ˜“é™åˆ¶è¶‹åŠ¿ æ—¥æœ¬å…‰ä¼äº§å“å‡†å…¥è¦æ±‚ è®¤è¯ä¸æ ‡å‡† J-PECè®¤è¯ï¼š æ—¥æœ¬å¤ªé˜³èƒ½å‘ç”µæ™®åŠæ‰©å¤§ä¸­å¿ƒï¼ˆJ-PECï¼‰è®¤è¯æ˜¯è¿›å…¥æ—¥æœ¬ä½å®…ç”¨å±‹é¡¶å¤ªé˜³èƒ½å‘ç”µå¸‚åœºï¼ˆ\u0026lt;10kWï¼‰çš„å¿…è¦æ¡ä»¶ã€‚åªæœ‰è·å¾—J-PECè®¤è¯çš„äº§å“æ‰èƒ½äº«å—æ”¿åºœçš„è¡¥è´´ã€‚ JETè®¤è¯ï¼š æ—¥æœ¬ç”µæ°”å®‰å…¨ç¯å¢ƒæµ‹è¯•å®éªŒå®¤ï¼ˆJETï¼‰è®¤è¯ä¸»è¦é’ˆå¯¹å¤§å‹å±‹é¡¶å’Œåœ°é¢ç”µç«™é¡¹ç›®ã€‚JETè®¤è¯ç¡®ä¿äº§å“ç¬¦åˆæ—¥æœ¬çš„å®‰å…¨å’Œæ€§èƒ½æ ‡å‡†ã€‚ PSEè®¤è¯ ï¼šæ‰€æœ‰è¿›å…¥æ—¥æœ¬å¸‚åœºçš„ç”µæ°”äº§å“éœ€è¦ç”±æ—¥æœ¬ç»æµäº§ä¸šçœï¼ˆMETIï¼‰è¿›è¡ŒPSEè®¤è¯ï¼Œä¸»è¦åˆ†ä¸¤ç±»ï¼š Aç±»ï¼š å¿…é¡»è·å¾—ç»æ—¥æœ¬æ”¿åºœæˆæƒçš„ç¬¦åˆæ€§è¯„ä¼°æœºæ„é¢å‘çš„â€œç¬¦åˆæ€§è¯ä¹¦â€ï¼ˆCoCï¼‰ã€‚ Bç±»ï¼š æ— é¡»è·å¾—CoCï¼Œä½†å¿…é¡»ç¬¦åˆæ³•ä»¤è§„å®šçš„å®‰å…¨æ ‡å‡†ï¼Œå¹¶åœ¨äº§å“ä¸Šè´´ä¸ŠPSEæ ‡å¿—ã€‚ å›ºå®šä»·æ ¼æ”¶è´­åˆ¶åº¦ï¼ˆFITï¼‰ FITåˆ¶åº¦ï¼š æ—¥æœ¬ä»2012å¹´å¼€å§‹å®æ–½å›ºå®šçš„ä¸Šç½‘ç”µä»·ï¼ˆFITï¼‰åˆ¶åº¦ï¼Œè§„å®šç”µåŠ›å…¬å¸å¿…é¡»ä»¥å›ºå®šä»·æ ¼æ”¶è´­å¯å†ç”Ÿèƒ½æºäº§ç”Ÿçš„ç”µåŠ›ã€‚è™½ç„¶è¿™ä¸€åˆ¶åº¦é¼“åŠ±äº†å…‰ä¼äº§ä¸šçš„å‘å±•ï¼Œä½†ä¹Ÿå¯¹é¡¹ç›®çš„è§„æ¨¡å’Œç±»å‹æœ‰ä¸€å®šçš„é™åˆ¶ã€‚ é€æ­¥è°ƒæ•´FITä»·æ ¼ï¼š ä¸ºäº†æ§åˆ¶è´¢æ”¿è´Ÿæ‹…ï¼Œæ—¥æœ¬æ”¿åºœé€æ­¥é™ä½äº†FITä»·æ ¼ã€‚ä¾‹å¦‚ï¼Œ2013å¹´å¤§å‹ç”µç«™çš„è¡¥è´´ä»42æ—¥å…ƒ/åƒç“¦æ—¶é™è‡³37.8æ—¥å…ƒ/åƒç“¦æ—¶ã€‚ å¸‚åœºå‡†å…¥å£å’ é«˜æŠ€æœ¯æ ‡å‡†ï¼š æ—¥æœ¬å¯¹å…‰ä¼äº§å“çš„æŠ€æœ¯å’Œå®‰å…¨æ ‡å‡†è¦æ±‚è¾ƒé«˜ï¼Œè¿™ä½¿å¾—ä¸€äº›å¤–å›½äº§å“éš¾ä»¥è¿›å…¥å¸‚åœºã€‚ä¾‹å¦‚ï¼Œå…‰ä¼æ”¯æ¶éœ€è¦ç¬¦åˆæ—¥æœ¬å»ºç­‘è®¾è®¡è§„èŒƒJISC8955ï¼Œè¿™æ¯”æ¬§æ´²å’Œç¾å›½çš„æ ‡å‡†æ›´ä¸ºä¸¥æ ¼ã€‚ æ°‘æ—æƒ…ç»“å’Œè´¨é‡æ„è¯†ï¼š æ—¥æœ¬æ¶ˆè´¹è€…æ™®éå€¾å‘äºé€‰æ‹©å›½äº§äº§å“ï¼Œå¯¹å¤–æ¥äº§å“æœ‰ä¸€å®šçš„æŠµè§¦æƒ…ç»ªã€‚è¿™å¢åŠ äº†å¤–å›½ä¼ä¸šåœ¨å¸‚åœºæ¨å¹¿ä¸­çš„éš¾åº¦ã€‚ æ—¥æœ¬å…‰ä¼äº§å“åˆè§„è¦æ±‚ JISæ ‡å‡†ï¼ˆJapanese Industrial Standardsï¼‰ JIS C 8911ï¼šå…‰ä¼ç»„ä»¶çš„æ€§èƒ½å’Œå®‰å…¨æ ‡å‡†ã€‚ JIS C 8912ï¼šå…‰ä¼é€†å˜å™¨çš„æ€§èƒ½å’Œå®‰å…¨æ ‡å‡†ã€‚ JIS C 8914ï¼šå…‰ä¼ç³»ç»Ÿçš„å®‰è£…å’Œç»´æŠ¤æ ‡å‡†ã€‚ JIS C 8915ï¼šå…‰ä¼ç³»ç»Ÿçš„æ€§èƒ½æµ‹è¯•æ–¹æ³•ã€‚ IECæ ‡å‡†ï¼ˆInternational Electrotechnical Commissionï¼‰ IEC 61215ï¼šæ™¶ä½“ç¡…å…‰ä¼ç»„ä»¶çš„æ€§èƒ½å’Œå®‰å…¨æ ‡å‡†ã€‚ IEC 61730ï¼šå…‰ä¼ç»„ä»¶çš„å®‰å…¨è®¤è¯æ ‡å‡†ã€‚ IEC 62109ï¼šå…‰ä¼é€†å˜å™¨çš„å®‰å…¨æ ‡å‡†ã€‚ IEC 62446ï¼šå…‰ä¼ç³»ç»Ÿçš„å®‰è£…å’Œç»´æŠ¤æ ‡å‡†ã€‚ J-PECæ ‡å‡† æ¦‚è¿°ï¼šç”±æ—¥æœ¬å¤ªé˜³èƒ½å‘ç”µæ™®åŠæ‰©å¤§ä¸­å¿ƒï¼ˆJ-PECï¼‰åˆ¶å®šçš„æ ‡å‡†ï¼Œä¸»è¦é€‚ç”¨äºå°å‹ä½å®…ç”¨å±‹é¡¶å¤ªé˜³èƒ½å‘ç”µç³»ç»Ÿã€‚ ç›¸å…³æ ‡å‡†ï¼šç¡®ä¿å…‰ä¼äº§å“ç¬¦åˆæ—¥æœ¬å¸‚åœºçš„å®‰å…¨å’Œæ€§èƒ½æ ‡å‡†ï¼Œè·å¾—J-PECè®¤è¯çš„äº§å“æ‰èƒ½äº«å—æ”¿åºœçš„è¡¥è´´ã€‚ JETè®¤è¯æ ‡å‡† æ¦‚è¿°ï¼šç”±æ—¥æœ¬ç”µæ°”å®‰å…¨ç¯å¢ƒæµ‹è¯•å®éªŒå®¤ï¼ˆJETï¼‰åˆ¶å®šçš„æ ‡å‡†ï¼Œä¸»è¦é€‚ç”¨äºå¤§å‹å±‹é¡¶å’Œåœ°é¢ç”µç«™é¡¹ç›®ã€‚ ç›¸å…³æ ‡å‡†ï¼šç¡®ä¿å…‰ä¼äº§å“ç¬¦åˆæ—¥æœ¬çš„å®‰å…¨å’Œæ€§èƒ½æ ‡å‡†ï¼ŒåŒ…æ‹¬ç”µæ°”å®‰å…¨ã€æœºæ¢°å¼ºåº¦å’Œç¯å¢ƒè€å—æ€§ç­‰ã€‚ PSEè®¤è¯æ ‡å‡† æ¦‚è¿°ï¼šç”±æ—¥æœ¬ç»æµäº§ä¸šçœï¼ˆMETIï¼‰åˆ¶å®šçš„æ ‡å‡†ï¼Œæ‰€æœ‰è¿›å…¥æ—¥æœ¬å¸‚åœºçš„ç”µæ°”äº§å“å¿…é¡»ç¬¦åˆPSEè®¤è¯æ ‡å‡†ã€‚ ç›¸å…³æ ‡å‡†ï¼šPSEè®¤è¯åˆ†ä¸ºAç±»å’ŒBç±»ï¼Œåˆ†åˆ«æœ‰ä¸åŒçš„è®¤è¯è¦æ±‚ã€‚ å…¶ä»–é‡è¦æ ‡å‡† ISO 9001ï¼šè´¨é‡ç®¡ç†ä½“ç³»æ ‡å‡†ï¼Œä¼ä¸šåº”å»ºç«‹å¹¶ç»´æŠ¤ç¬¦åˆISO 9001æ ‡å‡†çš„è´¨é‡ç®¡ç†ä½“ç³»ï¼Œç¡®ä¿äº§å“çš„è´¨é‡å’Œä¸€è‡´æ€§ã€‚ ISO 14001ï¼šç¯å¢ƒç®¡ç†ä½“ç³»æ ‡å‡†ï¼Œä¼ä¸šåº”å»ºç«‹å¹¶ç»´æŠ¤ç¬¦åˆISO 14001æ ‡å‡†çš„ç¯å¢ƒç®¡ç†ä½“ç³»ï¼Œç¡®ä¿äº§å“çš„ç¯ä¿æ€§èƒ½ã€‚ æ—¥æœ¬é€šç”¨ç½‘ç»œå®‰å…¨ç›‘ç®¡è¦æ±‚ä»‹ç» ç½‘ç»œå®‰å…¨ç›‘ç®¡æœºæ„ 1. å†…é˜ç½‘ç»œå®‰å…¨ä¸­å¿ƒï¼ˆNISCï¼‰ å…¨ç§°ï¼š National Center of Incident Readiness and Strategy for Cybersecurity (NISC) æˆç«‹æ—¶é—´ï¼š 2015å¹´ èŒè´£ï¼š åˆ¶å®šå’Œå®æ–½å›½å®¶ç½‘ç»œå®‰å…¨æˆ˜ç•¥ã€‚ åè°ƒå„æ”¿åºœéƒ¨é—¨å’Œç§è¥éƒ¨é—¨çš„ç½‘ç»œå®‰å…¨å·¥ä½œã€‚ ç›‘æµ‹å’Œåº”å¯¹é‡å¤§ç½‘ç»œå®‰å…¨äº‹ä»¶ã€‚ æä¾›ç½‘ç»œå®‰å…¨åŸ¹è®­å’ŒæŠ€æœ¯æ”¯æŒã€‚ ä¸å›½é™…ç»„ç»‡åˆä½œï¼Œåˆ†äº«ç½‘ç»œå®‰å…¨ä¿¡æ¯å’Œæœ€ä½³å®è·µã€‚ 2. ä¿¡æ¯å¤„ç†æ¨è¿›æœºæ„ï¼ˆIPAï¼‰ å…¨ç§°ï¼š Information-technology Promotion Agency, Japan (IPA) æˆç«‹æ—¶é—´ï¼š 1967å¹´ èŒè´£ï¼š å¼€å±•ç½‘ç»œå®‰å…¨ç ”ç©¶å’ŒæŠ€æœ¯å¼€å‘ã€‚ æä¾›ç½‘ç»œå®‰å…¨å’¨è¯¢æœåŠ¡å’ŒæŠ€æœ¯æ”¯æŒã€‚ å‘å¸ƒç½‘ç»œå®‰å…¨æŒ‡å—å’Œæœ€ä½³å®è·µã€‚ ç»„ç»‡ç½‘ç»œå®‰å…¨åŸ¹è®­å’Œæ¼”ç»ƒã€‚ è¿è¥æ—¥æœ¬è®¡ç®—æœºåº”æ€¥å“åº”å›¢é˜Ÿï¼ˆJPCERT/CCï¼‰ã€‚ 3. å›½å®¶è­¦å¯Ÿå…ï¼ˆNPAï¼‰ å…¨ç§°ï¼š National Police Agency (NPA) æˆç«‹æ—¶é—´ï¼š 1945å¹´ èŒè´£ï¼š æ‰“å‡»ç½‘ç»œçŠ¯ç½ªï¼ŒåŒ…æ‹¬ç½‘ç»œè¯ˆéª—ã€é»‘å®¢æ”»å‡»ç­‰ã€‚ åè°ƒåœ°æ–¹è­¦å¯Ÿçš„ç½‘ç»œå®‰å…¨å·¥ä½œã€‚ ä¸å›½é™…æ‰§æ³•æœºæ„åˆä½œï¼Œæ‰“å‡»è·¨å›½ç½‘ç»œçŠ¯ç½ªã€‚ 4. é€šä¿¡å®‰å…¨ç ”ç©¶æ‰€ï¼ˆNICTï¼‰ å…¨ç§°ï¼š National Institute of Information and Communications Technology (NICT) æˆç«‹æ—¶é—´ï¼š 2004å¹´ èŒè´£ï¼š å¼€å±•ç½‘ç»œå®‰å…¨ç ”ç©¶å’ŒæŠ€æœ¯å¼€å‘ã€‚ æä¾›ç½‘ç»œå®‰å…¨æŠ€æœ¯æ”¯æŒå’Œå’¨è¯¢æœåŠ¡ã€‚ è¿è¥æ—¥æœ¬ç½‘ç»œå®‰å…¨åº”æ€¥å“åº”å›¢é˜Ÿï¼ˆJPCERT/CCï¼‰ã€‚ å‚ä¸å›½é™…ç½‘ç»œå®‰å…¨åˆä½œå’Œä¿¡æ¯å…±äº«ã€‚ 5. é‡‘èå…ï¼ˆFSAï¼‰ å…¨ç§°ï¼š Financial Services Agency (FSA) æˆç«‹æ—¶é—´ï¼š 2000å¹´ èŒè´£ï¼š ç›‘ç®¡é‡‘èæœºæ„çš„ç½‘ç»œå®‰å…¨ã€‚ åˆ¶å®šå’Œå®æ–½é‡‘èé¢†åŸŸçš„ç½‘ç»œå®‰å…¨æ”¿ç­–ã€‚ æä¾›ç½‘ç»œå®‰å…¨æŒ‡å¯¼å’Œæ”¯æŒã€‚ ä¸é‡‘èæœºæ„åˆä½œï¼Œåº”å¯¹ç½‘ç»œå®‰å…¨äº‹ä»¶ã€‚ 6. ä¸œäº¬è­¦è§†å…ç½‘ç»œå®‰å…¨å¯¹ç­–æ€»éƒ¨ æˆç«‹æ—¶é—´ï¼š 2016å¹´ èŒè´£ï¼š æ‰“å‡»ç½‘ç»œçŠ¯ç½ªï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹ä¸œäº¬åœ°åŒºçš„ç½‘ç»œçŠ¯ç½ªã€‚ åè°ƒåœ°æ–¹è­¦å¯Ÿçš„ç½‘ç»œå®‰å…¨å·¥ä½œã€‚ ä¸å›½é™…æ‰§æ³•æœºæ„åˆä½œï¼Œæ‰“å‡»è·¨å›½ç½‘ç»œçŠ¯ç½ªã€‚ 7. ç»æµäº§ä¸šçœï¼ˆMETIï¼‰ å…¨ç§°: Ministry of Economy, Trade and Industry (METI) æˆç«‹æ—¶é—´ï¼š 2001å¹´ èŒè´£ï¼š åˆ¶å®šå’Œå®æ–½å·¥ä¸šå’Œä¿¡æ¯æŠ€æœ¯é¢†åŸŸçš„ç½‘ç»œå®‰å…¨æ”¿ç­–ã€‚ ä¿ƒè¿›ä¼ä¸šå’Œäº§ä¸šç•Œçš„ç½‘ç»œå®‰å…¨æ„è¯†å’ŒæŠ€æœ¯æå‡ã€‚ åè°ƒç›¸å…³æœºæ„çš„ç½‘ç»œå®‰å…¨å·¥ä½œã€‚ 8. æ€»åŠ¡çœï¼ˆMICï¼‰ å…¨ç§°ï¼š Ministry of Internal Affairs and Communications (MIC) æˆç«‹æ—¶é—´ï¼š 2001å¹´ èŒè´£ï¼š åˆ¶å®šå’Œå®æ–½é€šä¿¡å’Œä¿¡æ¯é¢†åŸŸçš„ç½‘ç»œå®‰å…¨æ”¿ç­–ã€‚ ç›‘ç®¡ç”µä¿¡è¿è¥å•†çš„ç½‘ç»œå®‰å…¨ã€‚ ä¿ƒè¿›ç½‘ç»œå®‰å…¨æŠ€æœ¯çš„ç ”å‘å’Œåº”ç”¨ã€‚ é€šç”¨ç½‘ç»œå®‰å…¨æ ‡å‡† æ³•è§„ ã€Šç½‘ç»œå®‰å…¨åŸºæœ¬æ³•ã€‹ï¼ˆCybersecurity Basic Actï¼‰ é¢å¸ƒæ—¶é—´ ï¼š2014å¹´11æœˆ ä¸»è¦å†…å®¹ ï¼š è®¾ç«‹å†…é˜ç½‘ç»œå®‰å…¨ä¸­å¿ƒï¼ˆNISCï¼‰ï¼Œè´Ÿè´£åˆ¶å®šå’Œå®æ–½å›½å®¶ç½‘ç»œå®‰å…¨æˆ˜ç•¥ã€‚ å¼ºåŒ–æ”¿åºœä¸æ°‘é—´åœ¨ç½‘ç»œå®‰å…¨é¢†åŸŸçš„åè°ƒå’Œåˆä½œã€‚ è§„å®šç”µåŠ›ã€é‡‘èç­‰é‡è¦ç¤¾ä¼šåŸºç¡€è®¾æ–½è¿è¥å•†ã€ç½‘ç»œç›¸å…³ä¼ä¸šã€åœ°æ–¹è‡ªæ²»ä½“ç­‰æœ‰ä¹‰åŠ¡é…åˆç½‘ç»œå®‰å…¨ç›¸å…³ä¸¾æªæˆ–æä¾›ç›¸å…³æƒ…æŠ¥ã€‚ ã€Šä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹ï¼ˆAct on the Protection of Personal Informationï¼‰ é¢å¸ƒæ—¶é—´ ï¼š2003å¹´ï¼Œ2015å¹´ä¿®è®¢ ä¸»è¦å†…å®¹ ï¼š ä¿æŠ¤ä¸ªäººéšç§ï¼Œé˜²æ­¢ä¸ªäººä¿¡æ¯çš„ä¸å½“æ”¶é›†ã€ä½¿ç”¨å’Œæ³„éœ²ã€‚ è§„å®šä¼ä¸šå’Œç»„ç»‡åœ¨å¤„ç†ä¸ªäººä¿¡æ¯æ—¶çš„ä¹‰åŠ¡å’Œè´£ä»»ã€‚ è®¾ç«‹ä¸ªäººä¿¡æ¯ä¿æŠ¤å§”å‘˜ä¼šï¼ˆPersonal Information Protection Commissionï¼‰ï¼Œè´Ÿè´£ç›‘ç£å’Œæ‰§æ³•ã€‚ ã€Šååƒåœ¾é‚®ä»¶æ³•ã€‹ï¼ˆAct on Regulation of Sending Specified Electronic Mailï¼‰ é¢å¸ƒæ—¶é—´ ï¼š2008å¹´ ä¸»è¦å†…å®¹ ï¼š è§„èŒƒç”µå­é‚®ä»¶çš„å‘é€è¡Œä¸ºï¼Œé˜²æ­¢åƒåœ¾é‚®ä»¶çš„ä¼ æ’­ã€‚ å¯¹å‘é€åƒåœ¾é‚®ä»¶çš„è¡Œä¸ºè¿›è¡Œå¤„ç½šã€‚ ã€Šç¦æ­¢éæ³•è¯»å–ä¿¡æ¯æ³•ã€‹ï¼ˆAct on Prohibition of Unauthorized Access to Computerized Dataï¼‰ é¢å¸ƒæ—¶é—´ ï¼š1999å¹´ ä¸»è¦å†…å®¹ ï¼š ç¦æ­¢æœªç»æˆæƒè®¿é—®è®¡ç®—æœºç³»ç»Ÿå’Œæ•°æ®ã€‚ å¯¹éæ³•å…¥ä¾µè¡Œä¸ºè¿›è¡Œå¤„ç½šã€‚ ã€Šç”µå­å¥‘çº¦æ³•ã€‹ï¼ˆAct on Electronic Signatures and Certification Servicesï¼‰ é¢å¸ƒæ—¶é—´ ï¼š2000å¹´ ä¸»è¦å†…å®¹: è§„èŒƒç”µå­ç­¾åå’Œè®¤è¯æœåŠ¡ï¼Œç¡®ä¿ç”µå­äº¤æ˜“çš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚ ä¿ƒè¿›ç”µå­å•†åŠ¡çš„å‘å±•ã€‚ æ ‡å‡† JISæ ‡å‡†ï¼ˆJapanese Industrial Standardsï¼‰ JIS Q 27001ï¼š ä¿¡æ¯å®‰å…¨ç®¡ç†ä½“ç³»ï¼ˆISMSï¼‰æ ‡å‡†ï¼Œå¯¹åº”å›½é™…æ ‡å‡†ISO/IEC 27001ã€‚ JIS X 0151ï¼š ä¿¡æ¯æŠ€æœ¯â€”â€”å¼€æ”¾ç³»ç»Ÿäº’è¿â€”â€”å®‰å…¨ä½“ç³»ç»“æ„ï¼Œå¯¹åº”å›½é™…æ ‡å‡†ISO/IEC 7498-2ã€‚ JIS X 0152ï¼š ä¿¡æ¯æŠ€æœ¯â€”â€”å®‰å…¨æŠ€æœ¯â€”â€”ä¿¡æ¯å®‰å…¨è¯„ä¼°æ ‡å‡†ï¼Œå¯¹åº”å›½é™…æ ‡å‡†ISO/IEC 15408ã€‚ ISO/IECæ ‡å‡† ISO/IEC 27001ï¼š ä¿¡æ¯å®‰å…¨ç®¡ç†ä½“ç³»ï¼ˆISMSï¼‰æ ‡å‡†ï¼Œæä¾›äº†ä¸€å¥—è§„èŒƒå’Œè¦æ±‚ï¼Œå¸®åŠ©ä¼ä¸šå»ºç«‹å’Œç»´æŠ¤ä¿¡æ¯å®‰å…¨ç®¡ç†ä½“ç³»ã€‚ ISO/IEC 27002ï¼š ä¿¡æ¯å®‰å…¨æ§åˆ¶å®è·µæŒ‡å—ï¼Œæä¾›äº†å…·ä½“çš„ä¿¡æ¯å®‰å…¨æ§åˆ¶æªæ–½å’Œå»ºè®®ã€‚ ISO/IEC 27017ï¼š äº‘æœåŠ¡ä¿¡æ¯å®‰å…¨æ§åˆ¶æŒ‡å—ï¼Œé’ˆå¯¹äº‘æœåŠ¡æä¾›å•†å’Œç”¨æˆ·çš„ä¿¡æ¯å®‰å…¨æ§åˆ¶æªæ–½ã€‚ ISO/IEC 27018ï¼š å…¬æœ‰äº‘ä¸­ä¸ªäººèº«ä»½ä¿¡æ¯ï¼ˆPIIï¼‰å¤„ç†è€…è¡Œä¸ºå‡†åˆ™ï¼Œæä¾›äº†å¤„ç†ä¸ªäººèº«ä»½ä¿¡æ¯çš„æŒ‡å—ã€‚ NISTæ ‡å‡†ï¼ˆNational Institute of Standards and Technologyï¼‰ NIST SP 800-53ï¼š å®‰å…¨æ§åˆ¶æ ‡å‡†ï¼Œæä¾›äº†è”é‚¦ä¿¡æ¯ç³»ç»Ÿå’Œç»„ç»‡çš„å®‰å…¨æ§åˆ¶æªæ–½ã€‚ NIST SP 800-37ï¼š é£é™©ç®¡ç†æ¡†æ¶ï¼Œæä¾›äº†ç®¡ç†å’Œè¯„ä¼°ä¿¡æ¯å®‰å…¨é£é™©çš„æ–¹æ³•å’Œæµç¨‹ã€‚ JPCERT/CCæŒ‡å— æ—¥æœ¬è®¡ç®—æœºåº”æ€¥å“åº”å›¢é˜Ÿï¼ˆJPCERT/CCï¼‰ å‘å¸ƒçš„å„ç§ç½‘ç»œå®‰å…¨æŒ‡å—å’Œæœ€ä½³å®è·µï¼Œå¸®åŠ©ä¼ä¸šæé«˜ç½‘ç»œå®‰å…¨æ°´å¹³ã€‚ IPAæŒ‡å— ä¿¡æ¯å¤„ç†æ¨è¿›æœºæ„ï¼ˆIPAï¼‰ å‘å¸ƒçš„ç½‘ç»œå®‰å…¨æŒ‡å—å’ŒæŠ€æœ¯æ–‡æ¡£ï¼Œæ¶µç›–äº†å¤šä¸ªé¢†åŸŸçš„ç½‘ç»œå®‰å…¨å®è·µ ç”µåŠ›è¡Œä¸šç½‘ç»œå®‰å…¨æ ‡å‡† ã€Šç”µæ°”é€šä¿¡äº‹ä¸šæ³•ã€‹ï¼ˆTelecommunications Business Lawï¼‰ ä¿®è®¢æ—¶é—´ ï¼š2019å¹´ ä¸»è¦å†…å®¹ ï¼š åŠ å¼ºå¯¹ç‰©è”ç½‘è®¾å¤‡çš„ä¿¡æ¯å®‰å…¨è¦æ±‚ï¼Œè¦æ±‚è®¾å¤‡åˆ¶é€ å•†é‡‡å–å¿…è¦çš„å®‰å…¨æªæ–½ï¼Œé˜²æ­¢è®¾å¤‡è¢«ç”¨äºç½‘ç»œæ”»å‡»ã€‚ è§„å®šç”µä¿¡è¿è¥å•†æœ‰è´£ä»»ç¡®ä¿å…¶ç½‘ç»œå’Œç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚ ","date":"2024-11-08T14:33:55+08:00","permalink":"https://blog-g.leecq.cn/p/%E6%97%A5%E6%9C%AC%E7%94%B5%E5%8A%9B%E8%A1%8C%E4%B8%9A%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%B4%9E%E5%AF%9F/","title":"æ—¥æœ¬ç”µåŠ›è¡Œä¸šç½‘ç»œå®‰å…¨æ´å¯Ÿ"},{"content":"å®‰è£… å®˜æ–¹ä¸‹è½½é¡µé¢ ä¸€é”®å‘½ä»¤ï¼šcurl -o 'Nessus-10.8.2-ubuntu1604_amd64.deb' 'https://www.tenable.com/downloads/api/v2/pages/nessus/files/Nessus-10.8.2-ubuntu1604_amd64.deb' \u0026amp;\u0026amp; sudo apt install ./Nessus-10.8.2-ubuntu1604_amd64.deb\nWindowsç ´è§£ç‰ˆ\nå¯åŠ¨ Windows ç‰ˆæœ¬ ","date":"2024-09-10T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/nessus-%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F/","title":"Nessus - æ¼æ´æ‰«æ"},{"content":"systemd æ˜¯ä¸€ä¸ªç³»ç»Ÿå’ŒæœåŠ¡ç®¡ç†å™¨ï¼Œå®ƒæ˜¯è®¸å¤šç°ä»£Linuxå‘è¡Œç‰ˆï¼ˆå¦‚Fedoraã€Red Hat Enterprise Linuxã€Debianã€Ubuntuç­‰ï¼‰ä¸­é»˜è®¤ä½¿ç”¨çš„åˆå§‹åŒ–ç³»ç»Ÿã€‚systemd æä¾›äº†ä¸€ç§æ›¿ä»£ä¼ ç»Ÿçš„SysV initç³»ç»Ÿçš„æ–¹æ³•ï¼Œæ—¨åœ¨æé«˜ç³»ç»Ÿçš„å¯åŠ¨é€Ÿåº¦å’Œè¿è¡Œæ•ˆç‡ï¼Œå¹¶ä¸”æä¾›äº†æ›´ä¸ºå¼ºå¤§çš„æœåŠ¡ç®¡ç†å’Œä¾èµ–å…³ç³»å¤„ç†æœºåˆ¶ã€‚\nsystemdçš„ç‰¹ç‚¹ å¹¶å‘å¯åŠ¨ï¼šsystemd æ”¯æŒå¹¶è¡Œå¯åŠ¨æœåŠ¡ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥åœ¨åŒä¸€æ—¶é—´å¯åŠ¨å¤šä¸ªæœåŠ¡ï¼Œè€Œä¸æ˜¯åƒä¼ ç»Ÿinitç³»ç»Ÿé‚£æ ·é¡ºåºå¯åŠ¨ã€‚ ä¾èµ–å…³ç³»ç®¡ç†ï¼šå®ƒå¯ä»¥è‡ªåŠ¨å¤„ç†æœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç¡®ä¿å½“ä¸€ä¸ªæœåŠ¡å¯åŠ¨æ—¶ï¼Œå…¶ä¾èµ–çš„æœåŠ¡ä¹Ÿå·²ç»å¯åŠ¨ã€‚ Socketæ¿€æ´»ï¼šå…è®¸æœåŠ¡ç›‘å¬å¥—æ¥å­—ï¼Œå½“æœ‰è¿æ¥è¯·æ±‚åˆ°è¾¾æ—¶è‡ªåŠ¨å¯åŠ¨æœåŠ¡ã€‚ è®¾å¤‡æŒ‚è½½å’ŒæŒ‚è½½ç‚¹æ¿€æ´»ï¼šsystemd å¯ä»¥åŸºäºè®¾å¤‡æŒ‚è½½çŠ¶æ€æ¥æ§åˆ¶æœåŠ¡çš„å¯åŠ¨ã€‚ ç»Ÿä¸€çš„æ—¥å¿—è®°å½•ï¼šé€šè¿‡journaldï¼Œsystemd ç»Ÿä¸€äº†ç³»ç»Ÿæ—¥å¿—è®°å½•æ–¹å¼ï¼Œå¹¶ä¸”æä¾›äº†æ¯”ä¼ ç»Ÿsyslogæ›´ä¸°å¯Œçš„æŸ¥è¯¢å’Œè¿‡æ»¤åŠŸèƒ½ã€‚ èµ„æºæ§åˆ¶ï¼šå¯ä»¥å¯¹æœåŠ¡çš„èµ„æºä½¿ç”¨ï¼ˆå¦‚CPUå’Œå†…å­˜ï¼‰è¿›è¡Œé™åˆ¶ã€‚ æœåŠ¡å•å…ƒæ–‡ä»¶ï¼šsystemd ä½¿ç”¨.serviceã€.socketã€.timerç­‰å•å…ƒæ–‡ä»¶æ¥æè¿°æœåŠ¡ã€å¥—æ¥å­—å’Œå®šæ—¶ä»»åŠ¡ç­‰ã€‚\nåŸºæœ¬å‘½ä»¤ ä¸€äº›å¸¸ç”¨çš„systemdå‘½ä»¤åŒ…æ‹¬ï¼š\nsystemctl list-unit-filesï¼šåˆ—å‡ºæ‰€æœ‰å·²çŸ¥çš„å•å…ƒæ–‡ä»¶ã€‚ systemctl start \u0026lt;service\u0026gt;ï¼šå¯åŠ¨æŒ‡å®šçš„æœåŠ¡ã€‚ systemctl stop \u0026lt;service\u0026gt;ï¼šåœæ­¢æŒ‡å®šçš„æœåŠ¡ã€‚ systemctl restart \u0026lt;service\u0026gt;ï¼šé‡å¯æŒ‡å®šçš„æœåŠ¡ã€‚ systemctl status \u0026lt;service\u0026gt;ï¼šæŸ¥çœ‹æŒ‡å®šæœåŠ¡çš„çŠ¶æ€ã€‚ systemctl enable \u0026lt;service\u0026gt;ï¼šä½¿æœåŠ¡å¼€æœºè‡ªå¯ã€‚ systemctl disable \u0026lt;service\u0026gt;ï¼šç¦æ­¢æœåŠ¡å¼€æœºè‡ªå¯ã€‚ systemctl daemon-reloadï¼šé‡æ–°åŠ è½½systemdé…ç½®ã€‚ journalctlï¼šæŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—ã€‚ å•å…ƒæ–‡ä»¶ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 [Unit] Description=The Nginx HTTP Server After=network.target [Service] User=nginx group=nginx ExecStart=/usr/sbin/nginx Restart=always RestartSec=10s Type=forking PIDFile=/run/nginx.pid [Install] WantedBy=multi-user.target ","date":"2024-09-09T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/linux%E7%B3%BB%E7%BB%9F%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E5%99%A8/","title":"Linuxç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹ç®¡ç†å™¨"},{"content":"nmapï¼ˆNetwork Mapperï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„ç½‘ç»œæ¢æµ‹å’Œå®‰å…¨å®¡æ ¸å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ‰«æç½‘ç»œä¸­çš„ä¸»æœºå’ŒæœåŠ¡ï¼Œå‘ç°å®ƒä»¬çš„ç«¯å£å¼€æ”¾æƒ…å†µã€ä½¿ç”¨çš„åè®®ã€æ“ä½œç³»ç»Ÿç±»å‹ç­‰ä¿¡æ¯ã€‚\nå®‰è£… Ubuntu \u0026amp; Debian :sudo apt update \u0026amp;\u0026amp; sudo apt install nmap CentOS \u0026amp; RHEL : sudo yum install nmap\nå¸¸ç”¨å‚æ•° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 -p æŒ‡å®šç«¯å£ï¼Œ\u0026#34;,\u0026#34;åˆ†å‰²ï¼Œ\u0026#34;2-100\u0026#34;æŒ‡å®šä¸€ä¸ªèŒƒå›´ï¼Œ\u0026#34;-\u0026#34;æŒ‡å®šå…¨éƒ¨ç«¯å£ -v è¾“å‡ºè¯¦ç»†ä¿¡æ¯ -sPï¼šæ‰§è¡ŒPingæ‰«æï¼Œç”¨äºå¿«é€Ÿå‘ç°ç½‘ç»œä¸­çš„æ´»åŠ¨ä¸»æœºã€‚ -sTï¼šæ‰§è¡ŒTCPè¿æ¥æ‰«æï¼Œé»˜è®¤çš„æ‰«ææ–¹å¼ã€‚ -sSï¼šæ‰§è¡ŒTCP SYNæ‰«æï¼ˆåŠå¼€æ‰«æï¼‰ï¼Œå‘é€SYNåŒ…è€Œä¸å»ºç«‹å®Œæ•´çš„ä¸‰æ¬¡æ¡æ‰‹ã€‚ -sUï¼šæ‰§è¡ŒUDPæ‰«æï¼Œæ¢æµ‹å¼€æ”¾çš„UDPç«¯å£ã€‚ -sAï¼šæ‰§è¡ŒACKæ‰«æï¼Œç”¨äºç¡®å®šé˜²ç«å¢™è§„åˆ™é›†ã€‚ -sWï¼šæ‰§è¡ŒWindowæ‰«æï¼Œç”¨äºæ¢æµ‹é˜²ç«å¢™è§„åˆ™é›†ã€‚ -sMï¼šæ‰§è¡ŒIPåè®®æ‰«æï¼Œç”¨äºæ¢æµ‹IPåè®® -Aï¼šæ‰§è¡Œè¯¦ç»†çš„æ‰«æï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿæ£€æµ‹ã€ç‰ˆæœ¬æ£€æµ‹ã€è„šæœ¬æ‰«æå’ŒæœåŠ¡è¯†åˆ«ã€‚ -Tï¼šè®¾ç½®æ‰«æé€Ÿåº¦ï¼Œå–å€¼èŒƒå›´ä»T0ï¼ˆæœ€æ…¢ï¼‰åˆ°T5ï¼ˆæœ€å¿«ï¼‰ã€‚ -Oï¼šæ‰§è¡Œæ“ä½œç³»ç»Ÿæ£€æµ‹ã€‚ -sVï¼šæ‰§è¡ŒæœåŠ¡ç‰ˆæœ¬æ£€æµ‹ã€‚ -oNï¼šå°†æ‰«æç»“æœè¾“å‡ºåˆ°æ™®é€šæ–‡æœ¬æ–‡ä»¶ã€‚ -oXï¼šå°†æ‰«æç»“æœè¾“å‡ºåˆ°XMLæ–‡ä»¶ã€‚ -oGï¼šå°†æ‰«æç»“æœè¾“å‡ºåˆ°Grepæ ¼å¼æ–‡ä»¶ã€‚ --scriptï¼šæ‰§è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚ --script-helpï¼šæ˜¾ç¤ºè„šæœ¬çš„å¸®åŠ©ä¿¡æ¯ã€‚ -Dï¼šæŒ‡å®šæ¬ºéª—æºåœ°å€ï¼ˆIPæ¬ºéª—ï¼‰ -eï¼šæŒ‡å®šæ‰«ææ—¶ä½¿ç”¨çš„æ¥å£ã€‚ -nï¼šä¸æ‰§è¡ŒDNSåå‘è§£æã€‚ -Rï¼šå¼ºåˆ¶æ‰§è¡ŒDNSåå‘è§£æã€‚ -Pnï¼šå‡è®¾ç›®æ ‡ä¸»æœºæ˜¯åœ¨çº¿çš„ï¼Œå³ä½¿æ²¡æœ‰å›åº”ã€‚ --max-retriesï¼šè®¾ç½®æœ€å¤§é‡è¯•æ¬¡æ•°ã€‚ --host-timeoutï¼šè®¾ç½®ä¸»æœºè¶…æ—¶æ—¶é—´ã€‚ ä½¿ç”¨ æ‰«ææŒ‡å®šæœºå™¨çš„å…¨éƒ¨ç«¯å£: nmap -p- -v -A \u0026lt;host\u0026gt; æ‰«æä¸€ä¸ªIPåœ°å€æ®µ: nmap 192.168.1.1-255 ","date":"2024-09-09T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/nmap-%E7%BD%91%E7%BB%9C%E6%89%AB%E6%8F%8F%E5%99%A8/","title":"nmap - ç½‘ç»œæ‰«æå™¨"},{"content":" 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 \u0026#34;\u0026#34;\u0026#34; é€šè¿‡ç›‘å¬å¿«æ·é”®å¿«é€Ÿå®ç°æŒ‡å®šåŠŸèƒ½ã€‚ ç›‘å¬å¿«æ·é”® [Alt + O], ä»å‰ªåˆ‡æ¿æ‹¿åˆ°å›¾ç‰‡æ•°æ®ï¼Œé€šè¿‡è°ƒç”¨è…¾è®¯AIçš„OCRæ¥å£ï¼Œè·å¾—è¿”å›åçš„æ–‡æœ¬ï¼Œå°†OCRçš„æ–‡æœ¬æ”¾å…¥å‰ªåˆ‡æ¿ä¸­ã€‚ Python Version: 3.12.2 ä¾èµ–ï¼š win10toast==0.9 -- å‘æ“ä½œç³»ç»Ÿå‘é€é€šçŸ¥ pywin32==223 -- Windons API åº“ Pillow==10.4.0 -- PIL å›¾åƒå¤„ç†åº“ keyboard==0.13.5 -- ä½¿ç”¨è¿™ä¸ªå°å‹Pythonåº“å®Œå…¨æ§åˆ¶ä½ çš„é”®ç›˜ã€‚æŒ‚é’©å…¨å±€äº‹ä»¶ã€æ³¨å†Œçƒ­é”®ã€æ¨¡æ‹ŸæŒ‰é”®ç­‰ç­‰ã€‚ requests==2.32.3 -- HTTPè¯·æ±‚åº“ å¿«é€Ÿå®‰è£…ï¼š pip install win10toast==0.9 pywin32==223 Pillow==10.4.0 keyboard==0.13.5 requests==2.32.3 \u0026#34;\u0026#34;\u0026#34; import base64 import datetime import io import json import logging import random import hashlib import hmac import time import functools from pathlib import Path from urllib.parse import urlparse import requests import keyboard import pyperclip import win32clipboard as wc from PIL import Image from win10toast import ToastNotifier logger = logging.getLogger(\u0026#34;root\u0026#34;) FILE_DIR = Path(__file__).parent.absolute() keys = json.loads(FILE_DIR.joinpath(\u0026#34;self_config.json\u0026#34;).read_text()) s_keys = keys[\u0026#34;tencent_key\u0026#34;] def send_notication(title, text, duration=3): ToastNotifier().show_toast(title=title, msg=text, duration=duration, threaded=True) def get_image_from_clipboard(): try: wc.OpenClipboard() if wc.IsClipboardFormatAvailable(wc.CF_DIB): # Get the device-independent bitmap (DIB) format data dib = wc.GetClipboardData(wc.CF_DIB) return Image.open(io.BytesIO(dib)) except Exception as e: logger.error(f\u0026#34;Error reading image from clipboard: {e}\u0026#34;) return 0 finally: wc.CloseClipboard() def most_english(text) -\u0026gt; bool: \u0026#34;\u0026#34;\u0026#34;å­—ç¬¦ä¸²ä¸­å¤§å¤šæ•°æ˜¯è‹±è¯­\u0026#34;\u0026#34;\u0026#34; if len(text) == 0: raise ValueError(\u0026#34;ç©ºå­—ç¬¦ä¸².\u0026#34;) ec_num = 0 for c in text: if c.isalpha and \u0026#34;a\u0026#34; \u0026lt;= c.lower() \u0026lt;= \u0026#34;z\u0026#34;: ec_num += 1 if ec_num / len(text) \u0026gt; 0.5: return True return False @functools.lru_cache(25) def translate_api(text, from_lang=\u0026#34;auto\u0026#34;, to_lang=\u0026#34;zh\u0026#34;) -\u0026gt; list[dict[str, str]]: \u0026#34;\u0026#34;\u0026#34;ç¿»è¯‘APIï¼Œ return src, dst \u0026#34;\u0026#34;\u0026#34; url = \u0026#34;http://api.fanyi.baidu.com/api/trans/vip/translate\u0026#34; salt = random.randint(32768, 65536) appid, appkey = keys[\u0026#34;baidu_translate\u0026#34;] sign = hashlib.md5((appid + text + str(salt) + appkey).encode(\u0026#34;utf-8\u0026#34;)).hexdigest() resp = requests.post( url=url, headers={\u0026#34;Content-Type\u0026#34;: \u0026#34;application/x-www-form-urlencoded\u0026#34;}, params={ \u0026#34;appid\u0026#34;: appid, \u0026#34;q\u0026#34;: text, \u0026#34;from\u0026#34;: from_lang, \u0026#34;to\u0026#34;: to_lang, \u0026#34;salt\u0026#34;: salt, \u0026#34;sign\u0026#34;: sign, }, ) if resp.status_code != 200: raise Exception(resp.text()) return resp.json().get(\u0026#34;trans_result\u0026#34;) def translate_iamge(image_data: bytes, from_lang=\u0026#34;auto\u0026#34;, to_lang=\u0026#34;zh\u0026#34;) -\u0026gt; list: \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; url = \u0026#34;http://fanyi-api.baidu.com/api/trans/sdk/picture\u0026#34; salt = random.randint(32768, 65536) appid = \u0026#34;20240531002066479\u0026#34; appkey = \u0026#34;05IgcgzWKnf5J7hDKlyK\u0026#34; file_md5 = hashlib.md5(image_data).hexdigest() cuid, mac = \u0026#34;APICUID\u0026#34;, \u0026#34;mac\u0026#34; sign = hashlib.md5( (appid + file_md5 + str(salt) + cuid + mac + appkey).encode() ).hexdigest() payload = { \u0026#34;from\u0026#34;: from_lang, \u0026#34;to\u0026#34;: to_lang, \u0026#34;appid\u0026#34;: appid, \u0026#34;salt\u0026#34;: salt, \u0026#34;sign\u0026#34;: sign, \u0026#34;cuid\u0026#34;: cuid, \u0026#34;mac\u0026#34;: mac, } image = {\u0026#34;image\u0026#34;: (\u0026#34;translate-iamge\u0026#34;, image_data, \u0026#34;multipart/form-data\u0026#34;)} resp = requests.post(url, params=payload, files=image) if resp.status_code != 200: raise Exception(resp.text()) return resp.json().get(\u0026#34;data\u0026#34;, {}).get(\u0026#34;content\u0026#34;, []) def translate(): # ä»å‰ªè´´æ¿è¯»å–æ•°æ® keyboard.send(\u0026#34;ctrl+c\u0026#34;) clipb_data = pyperclip.paste() if not clipb_data: logger.error(\u0026#34;ç¿»è¯‘å¤±è´¥: æœªä»å‰ªåˆ‡æ¿è·å–åˆ°æ•°æ®\u0026#34;) send_notication(\u0026#34;ç¿»è¯‘å¤±è´¥\u0026#34;, \u0026#34;æœªä»å‰ªåˆ‡æ¿è·å–åˆ°æ•°æ®\u0026#34;) return logger.debug(\u0026#34;å‰ªè´´æ¿å†…å®¹: %s\u0026#34;, clipb_data) # å¤„ç†å‰ªè´´æ¿æ•°æ® processed_data = translate_api( clipb_data, to_lang=\u0026#34;zh\u0026#34; if most_english(clipb_data) else \u0026#34;en\u0026#34;, ) # processed_data = json.dumps(processed_data, ensure_ascii=False, indent=2) processed_data = \u0026#34;\\n\u0026#34;.join([l.get(\u0026#34;dst\u0026#34;) for l in processed_data]) # å°†å¤„ç†åçš„æ•°æ®æ”¾å›å‰ªè´´æ¿ pyperclip.copy(processed_data) # keyboard.send(\u0026#34;F3\u0026#34;) send_notication(\u0026#34;ç¿»è¯‘ç»“æœå·²ç»æ”¾å…¥å‰ªåˆ‡æ¿\u0026#34;, processed_data) logger.debug(\u0026#34;å¤„ç†åçš„æ•°æ®å·²æ”¾å›å‰ªè´´æ¿: %s\u0026#34;, processed_data) if __name__ == \u0026#34;__main__\u0026#34;: # æ³¨å†Œå¿«æ·é”®ç»„åˆ keyboard.add_hotkey(\u0026#34;ctrl+alt+d\u0026#34;, translate, suppress=False) print(\u0026#34;\u0026#34;\u0026#34;1. ç›‘å¬å¿«æ· [Ctrl+Alt+S], ä»å‰ªåˆ‡æ¿ä¸­å¾—åˆ°æ‹¿åˆ°æ–‡æœ¬æ•°æ®, é€šè¿‡è°ƒç”¨ç™¾åº¦ç¿»è¯‘çš„APIæ¥å£ç¿»è¯‘æ–‡æœ¬ï¼Œå°†ç¿»è¯‘åçš„æ•°æ®æ”¾å…¥å‰ªåˆ‡æ¿ä¸­ã€‚ 2. ç›‘å¬å¿«æ·é”® [Alt + O], ä»å‰ªåˆ‡æ¿æ‹¿åˆ°å›¾ç‰‡æ•°æ®ï¼Œé€šè¿‡è°ƒç”¨è…¾è®¯AIçš„OCRæ¥å£ï¼Œè·å¾—è¿”å›åçš„æ–‡æœ¬ï¼Œå°†OCRçš„æ–‡æœ¬æ”¾å…¥å‰ªåˆ‡æ¿ä¸­ã€‚\u0026#34;\u0026#34;\u0026#34;) logging.basicConfig(level=\u0026#34;DEBUG\u0026#34;) # ä¿æŒç¨‹åºè¿è¡Œï¼Œç›´åˆ°æ‰‹åŠ¨ç»ˆæ­¢ keyboard.wait() ","date":"2024-08-17T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/%E5%BF%AB%E6%8D%B7%E7%BF%BB%E8%AF%91%E8%84%9A%E6%9C%AC/","title":"å¿«æ·ç¿»è¯‘è„šæœ¬"},{"content":"KubernetesåˆæœŸä¸ºå­˜ç®—åˆ†ç¦»æ‰€åšçš„è§£è€¦è®¾è®¡Volumeï¼Œé‡‡ç”¨å¼ºè€¦åˆã€çµæ´»æ€§å·®çš„in-treeæ¨¡å¼ï¼Œè™½ç„¶å·²ç»è®©ç”¨æˆ·ä¸“æ³¨äºä¸šåŠ¡åŠŸèƒ½è®¾è®¡ã€‚ä½†è¿™ç±»å­˜å‚¨å·çš„ç”Ÿå‘½å‘¨æœŸæ˜¯è·Ÿéšpodçš„ï¼Œåªèƒ½ç”¨ä½œå­˜å‚¨ä¸´æ—¶æ•°æ®ï¼Œæ— æ³•åšä¸ºæœ€ç»ˆæ•°æ®ä½¿ç”¨ã€‚\néšç€Kubernetesçš„ä¸æ–­æˆç†Ÿï¼Œä¸ºæ”¯æŒæ›´å¤šçš„åº”ç”¨åœºæ™¯ï¼Œæä¾›äº†ä¸€ç§è„±ç¦»podç”Ÿå‘½å‘¨æœŸçš„ã€ç”¨æˆ·å¯ç®¡ç†çš„å­˜å‚¨æŠ½è±¡è®¾è®¡ä½è€¦åˆã€çµæ´»æ€§æ›´å¼ºçš„PersistentVolume/PersistentVolumeClaimã€‚\nå¸¸ç”¨å·ç±»å‹ Kubernetesæ”¯æŒçš„å·å¯åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š\nä¸´æ—¶å­˜å‚¨ï¼š\nEmptyDirï¼šemptyDirç”Ÿå‘½å‘¨æœŸå’ŒPODä¿æŒä¸€è‡´ï¼Œpodåˆ é™¤åï¼ŒemptyDirä¸­çš„æ•°æ®ä¹Ÿä¼šè¢«æ¸…é™¤ã€‚ HostPathï¼šå°†èŠ‚ç‚¹æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿçš„è·¯å¾„æ˜ å°„åˆ°podå®¹å™¨ä¸­ã€‚podåˆ é™¤åï¼ŒHostPathä¸­çš„æ•°æ®æ˜¯å¦æ¸…é™¤ï¼Œä¾èµ–äºç”¨æˆ·çš„podé…ç½®ã€‚ In-treeçš„ç½‘ç»œå­˜å‚¨ï¼šç½‘ç»œå­˜å‚¨è·Ÿéšpodçš„ç”Ÿå‘½å‘¨æœŸï¼Œé€šè¿‡in-treeçš„å­˜å‚¨æ’ä»¶å¯¹æ¥ä¸åŒç±»å‹å­˜å‚¨ã€‚ æŒä¹…å­˜å‚¨å£°æ˜\nPersistentVolumeClaimï¼šå­˜å‚¨å…·æœ‰ç‹¬ç«‹çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥é€šè¿‡å­˜å‚¨æä¾›å•†æä¾›çš„out-treeæ’ä»¶ï¼Œå¯¹æ¥å…¶å­˜å‚¨ã€‚ é…ç½®æ•°æ®\nConfigMap/Secretï¼šå­˜å‚¨å°‘é‡é…ç½®æˆ–æ•æ„Ÿæ•°æ®ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 spec: volumes: # å­˜å‚¨å·æœ‰å¤šç§ç±»å‹ï¼Œä»¥ä¸‹ä¸ºä¸€äº›å¸¸ç”¨ç±»å‹ - name: string # å­˜å‚¨å·åç§° emptyDir: {} # ä¸´æ—¶ç”Ÿæˆçš„ä¸€ä¸ªç›®å½•ï¼Œä¸podç”Ÿå‘½å‘¨æœŸåŒæ­¥ - name: string hostPath: # æŒ‚è½½å®¿ä¸»æœºçš„ç›®å½• path: string # ç”¨äºæŒ‚è½½çš„ç›®å½• - name: string nfs: server: string # æœåŠ¡IPåœ°å€ path: string # ç”¨äºæŒ‚è½½çš„ç›®å½• - name: string persistentVolumeClaim: # è°ƒç”¨å·²ç»åˆ›å»ºçš„æŒä¹…å· claimName: string # æŒä¹…å·å£°æ˜çš„åç§° - name: string configMap/secret: # æŒ‚è½½ConfigMapæˆ–Secretåˆ°å®¹å™¨å†… name: string # ConfigMapæˆ–Secretçš„åç§° items: # è¦è°ƒç”¨çš„é”®ï¼Œå€¼ä¼šè¢«å†™å…¥æ–‡ä»¶,å¯ä»¥è®¾å®šå¤šä¸ª - key: string path: string # æ–‡ä»¶å æŒä¹…åŒ–å­˜å‚¨ä½“ç³»ä»‹ç» k8sæŒä¹…åŒ–å­˜å‚¨ä½“ç³»åŒ…æ‹¬ï¼š\nPersistentVolumeï¼šç®€ç§°PVï¼ŒæŒä¹…åŒ–å­˜å‚¨ï¼Œæ˜¯Kubernetesä¸ºäº‘åŸç”Ÿåº”ç”¨æä¾›ä¸€ç§æ‹¥æœ‰ç‹¬ç«‹ç”Ÿå‘½å‘¨æœŸçš„ã€ç”¨æˆ·å¯ç®¡ç†çš„å­˜å‚¨æŠ½è±¡è®¾è®¡ã€‚ PersistentVolumeClaimï¼šç®€ç§°PVCï¼ŒæŒä¹…åŒ–å­˜å‚¨å£°æ˜ï¼Œæ˜¯Kubernetesä¸ºè§£è€¦äº‘åŸç”Ÿåº”ç”¨å’Œæ•°æ®å­˜å‚¨è€Œè®¾è®¡çš„ï¼Œé€šè¿‡PVCå¯ä»¥è®©èµ„æºç®¡æ§æ›´ç»†æ›´çµæ´»ã€å›¢é˜ŸèŒè´£åˆ†ç¦»ã€åº”ç”¨æ¨¡æ¿æ›´é€šç”¨ï¼Œè¿›ä¸€æ­¥è§£é™¤äº†ç”¨æˆ·è¢«äº‘å¹³å°é”å®šçš„é¡¾è™‘ã€‚ StorageClassï¼šç®€ç§°SCï¼Œå­˜å‚¨ç±»ï¼Œæ˜¯Kuberneteså¹³å°ä¸ºå­˜å‚¨æä¾›å•†æä¾›å­˜å‚¨æ¥å…¥çš„ä¸€ç§å£°æ˜ï¼Œé€šè¿‡SCå’Œç›¸åº”çš„å­˜å‚¨æ’ä»¶ï¼ˆCSIï¼‰ä¸ºå®¹å™¨åº”ç”¨æä¾›åŠ¨æ€åˆ†é…å­˜å‚¨å·çš„èƒ½åŠ›ã€‚ Driver Pluginï¼šå­˜å‚¨é©±é©±åŠ¨æ’ä»¶ï¼Œç”±å­˜å‚¨æä¾›å•†æä¾›ï¼Œèƒ½å¤Ÿå¯¹æ¥ç½‘ç»œå­˜å‚¨ï¼Œå¹¶ç®¡ç†æŒä¹…å­˜å‚¨å·çš„ç”Ÿå‘½å‘¨æœŸã€‚ é™æ€å·(Static Volumes) \u0026amp; åŠ¨æ€å·(Dynamic Volumes) é™æ€å·æ˜¯åœ¨ Kubernetes é›†ç¾¤ä¸­é¢„å…ˆåˆ›å»ºå¥½çš„ Persistent Volumes (PVs)ã€‚è¿™äº› PVs é€šå¸¸ç”±é›†ç¾¤ç®¡ç†å‘˜æ‰‹åŠ¨åˆ›å»ºï¼Œå¹¶é…ç½®å¥½æ‰€æœ‰å¿…è¦çš„å‚æ•°ï¼Œå¦‚å­˜å‚¨åç«¯ã€è®¿é—®æ¨¡å¼ã€å­˜å‚¨å¤§å°ç­‰ã€‚é™æ€å·ä¸ä¾èµ–äºä»»ä½•ç‰¹å®šçš„ StorageClassã€‚\né™æ€å· - ç‰¹ç‚¹: æ‰‹åŠ¨åˆ›å»º: é™æ€å·ç”±ç®¡ç†å‘˜æ‰‹åŠ¨åˆ›å»ºï¼Œå¹¶ä¸”åœ¨åˆ›å»ºæ—¶å°±æŒ‡å®šäº†æ‰€æœ‰å¿…è¦çš„å‚æ•°ã€‚ ä¸ä¾èµ– StorageClass: é™æ€å·ä¸ä¾èµ–äº StorageClassï¼Œå› æ­¤ä¸ä¼šè‡ªåŠ¨åˆ›å»ºæˆ–é”€æ¯ã€‚ å›ºå®šèµ„æº: ä¸€æ—¦åˆ›å»ºï¼Œé™æ€å·å°±å­˜åœ¨äºé›†ç¾¤ä¸­ï¼Œç›´åˆ°è¢«æ˜ç¡®å›æ”¶æˆ–åˆ é™¤ã€‚ æ‰‹åŠ¨ç®¡ç†: é™æ€å·éœ€è¦æ‰‹åŠ¨ç®¡ç†ï¼ŒåŒ…æ‹¬åˆ›å»ºã€åˆ†é…å’Œå›æ”¶ é™æ€å· - é€‚ç”¨åœºæ™¯ å½“éœ€è¦ç‰¹å®šçš„å­˜å‚¨åç«¯æˆ–å­˜å‚¨é…ç½®æ—¶ã€‚ å½“å­˜å‚¨èµ„æºæœ‰é™ä¸”éœ€è¦ç²¾ç»†æ§åˆ¶æ—¶ã€‚ å½“éœ€è¦ä½¿ç”¨ç‰¹å®šçš„å­˜å‚¨åç«¯ï¼Œè€Œè¯¥åç«¯ä¸æ”¯æŒåŠ¨æ€é…ç½®æ—¶ã€‚ åŠ¨æ€å·æ˜¯ç”± StorageClass è‡ªåŠ¨åˆ›å»ºçš„ Persistent Volumes (PVs)ã€‚å½“ç”¨æˆ·é€šè¿‡ Persistent Volume Claim (PVC) è¯·æ±‚å­˜å‚¨èµ„æºæ—¶ï¼ŒåŠ¨æ€å·ä¼šæ ¹æ® PVC ä¸­æŒ‡å®šçš„ StorageClass è‡ªåŠ¨åˆ›å»ºå’Œé…ç½® PVã€‚\nåŠ¨æ€å· - ç‰¹ç‚¹ è‡ªåŠ¨åˆ›å»º: åŠ¨æ€å·æ˜¯åœ¨ PVC è¢«åˆ›å»ºæ—¶è‡ªåŠ¨åˆ›å»ºçš„ï¼Œç”± StorageClass é…ç½®ã€‚ ä¾èµ– StorageClass: åŠ¨æ€å·ä¾èµ–äº StorageClassï¼Œåè€…å®šä¹‰äº†å¦‚ä½•åˆ›å»º PVsã€‚ æŒ‰éœ€ä¾›åº”: ç”¨æˆ·åªéœ€æŒ‡å®šæ‰€éœ€å­˜å‚¨èµ„æºçš„å¤§å°å’Œè®¿é—®æ¨¡å¼ï¼ŒPVs å°†æ ¹æ®éœ€è¦è‡ªåŠ¨åˆ›å»ºã€‚ è‡ªåŠ¨å›æ”¶: åŠ¨æ€å·å¯ä»¥æ ¹æ® StorageClass ä¸­çš„é…ç½®è‡ªåŠ¨å›æ”¶ã€‚ åŠ¨æ€å· - é€‚ç”¨åœºæ™¯ å½“éœ€è¦å¿«é€Ÿåˆ›å»ºå’Œé”€æ¯å­˜å‚¨èµ„æºæ—¶ã€‚ å½“å­˜å‚¨èµ„æºå……è¶³ä¸”ä¸éœ€è¦ç²¾ç»†æ§åˆ¶æ—¶ã€‚ å½“ä½¿ç”¨æ”¯æŒåŠ¨æ€é…ç½®çš„å­˜å‚¨åç«¯æ—¶ï¼Œå¦‚äº‘æä¾›å•†çš„å­˜å‚¨æœåŠ¡ã€‚ PV / PVC - ç»‘å®šåŸç† PVCåˆ·é€‰PVçš„æµç¨‹ï¼ˆfindBestMatchForClaimï¼‰ï¼š\né€šè¿‡sizeåˆ·é€‰æ°å½“çš„PVï¼› é€šè¿‡volumeModeåˆ·é€‰ä¸€è‡´çš„PVï¼› é€šè¿‡Labelåˆ·é€‰åˆé€‚çš„PVï¼› é€šè¿‡SCåˆ·é€‰ç¬¦åˆçš„PVï¼› é€šè¿‡AccessModeåˆ·é€‰ç¬¦åˆæ¡ä»¶çš„PVï¼› è¿”å›å¹¶ç»‘å®šç¬¦åˆPVCæ¡ä»¶ï¼Œä¸”sizeæœ€å°çš„PVã€‚ PersistentVolume - ä½¿ç”¨PV PVä¸­å®šä¹‰åº”ç”¨æ‰€éœ€çš„è§„æ ¼ç­‰é…ç½®ï¼š\naccessModesï¼š ReadWriteOnceï¼šè¯»å†™æƒé™ï¼Œå¹¶ä¸”åªèƒ½è¢«å•ä¸ªNodeæŒ‚è½½ï¼Œå¦‚ï¼šäº‘ç›˜ã€‚ ReadOnlyManyï¼šåªè¯»æƒé™ï¼Œå…è®¸è¢«å¤šä¸ªNodeæŒ‚è½½ï¼Œå¦‚ï¼šæ–‡ä»¶å­˜å‚¨ã€‚ ReadWriteManyï¼šè¯»å†™æƒé™ï¼Œå…è®¸è¢«å¤šä¸ªNodeæŒ‚è½½ï¼Œå¦‚ï¼šæ–‡ä»¶å­˜å‚¨ã€‚ capacity.storageï¼šå®¹é‡å¤§å° csiï¼šout-treeé©±åŠ¨é…ç½®ä¿¡æ¯ã€‚ persistentVolumeReclaimPolicyï¼š Retain - ä¿ç•™ Recycle - å›æ”¶ç©ºé—´ Deleteï¼šåˆ é™¤ storageClassNameï¼šstorageClassçš„åç§°ã€‚ volumeModeï¼š Filesystemï¼šå°†äº‘ç›˜æŒ‚è½½ä¸ºæ–‡ä»¶ç³»ç»Ÿã€‚ Blockï¼šå°†äº‘ç›˜æŒ‚è½½ä¸ºå—è®¾å¤‡ã€‚ PVå£°æ˜ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 appVersion: v1 kind: PersistentVolume metadata: name: static-volume spce: accessModes: # æœ‰å¤šç§è®¿é—®æ¨¡å¼ï¼Œä¾›PVCé€‰æ‹© - ReadWriteOnce capacity: storage: 10Gi csi: driver: dick.csi.everest.io fsType: ext4 volumeAttributes: everest.io/disk-mode: SCSI everest.io/disk-volume-type: SAS storage.kubernetes.io/csiProvisionerIdentity: everest-csi-provisioner volumeHandle: 9a074a5b-a67e-4fae-860e-07c5307594ea persistentVolumeReclaimPolicy: Retain storageClassName: csi-disk volumeMode: Filesystem PersistentVolumeClaim - ä½¿ç”¨PVC PVCä¸­å®šä¹‰åº”ç”¨æ‰€éœ€çš„è§„æ ¼ç­‰é…ç½®ï¼š\naccessModesï¼š ReadWriteOnce ReadOnlyMany ReadWriteManyï¼Œä¸PVè®¾ç½®ç›¸åŒã€‚ resourcesï¼š Requestsï¼šèµ„æºè¯·æ±‚ï¼Œä¸PVè®¾ç½®ç›¸åŒã€‚ volumeModeï¼š Filesystemï¼šå°†äº‘ç›˜æŒ‚è½½ä¸ºæ–‡ä»¶ç³»ç»Ÿï¼Œä¸PVè®¾ç½®ç›¸åŒã€‚ Blockï¼šå°†äº‘ç›˜æŒ‚è½½ä¸ºå—è®¾å¤‡ï¼Œä¸PVè®¾ç½®ç›¸åŒã€‚ volumeName/storageClassNameï¼šPVæˆ–è€…storageClassçš„åç§°ã€‚ selectorï¼šé€šè¿‡å¯¹Label Selectorçš„è®¾ç½®ï¼Œå¯ä½¿PVCå¯¹äºç³»ç»Ÿä¸­å·²å­˜åœ¨çš„å„ç§PVè¿›è¡Œç­›é€‰ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 apiVersion: v1 kind: PersistentVolumeClaim metadata: annotations: everest.io/disk-volume-type: sas volume.beta.kubernetes.io/storage-provisioner: everest-csi-provisioner labels: app: mysql-adv-mgmd release: mysql-adv name: mysql-data-mysql-adv-mgmd-0 namespace: default spec: accessModes: - ReadWriteOnce resources: requests: storage: 10Gi volumeName/storageClassName: csi-disk volumeMode: Filesystem selector: matchLabels: release: \u0026#34;stable\u0026#34; StorageClass-ä½¿ç”¨SC SCä¸­å®šä¹‰å­˜å‚¨ç±»å‹å’Œé©±åŠ¨ç­‰é…ç½®ï¼š\nParametersï¼šæ’ä»¶é©±åŠ¨å®šä¹‰çš„å‚æ•°ã€‚ Provisionerï¼šæŒ‡å®šå­˜å‚¨å·çš„ä¾›åº”è€…ã€‚ reclaimPolicy: Retain/Recycle/Deleteï¼šä¿ç•™æ•°æ®/å›æ”¶ç©ºé—´/åˆ é™¤ã€‚ volumeBindingModeï¼š Immediateï¼šç«‹å³ç»‘å®šã€‚ WaitForFirstConsumerï¼šå»¶è¿Ÿç»‘å®šã€‚ allowVolumeExpansionï¼š Trueï¼šå…è®¸æ‰©å®¹ã€‚ Falseï¼šä¸å…è®¸æ‰©å®¹ã€‚ å®šä¹‰SCï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 apiVersion: storage.k8s.io/v1 kind: StorageClass metadata: name: csi-disk-ssd parameters: csi.storage.k8s.io/csi-driver-name: disk.csi.everest.io csi.storage.k8s.io/fstype: ext4 everest.io/disk-volume-type: SSD everest.io/passthrough: \u0026#34;true\u0026#34; provisioner: everest-csi-provisioner reclaimPolicy: Delete volumeBindingMode: Immediate allowVolumeExpansion: true æœ€ä½³å®è·µ åˆ›å»º3ä¸ªå®ä¾‹çš„MySQLæœåŠ¡ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 # è¯¥Yamlä¸­ä¾æ¬¡å®šä¹‰äº†æ‰€éœ€è¦çš„å…¨éƒ¨æ–‡ä»¶ã€‚ # 1. åˆ›å»ºSC apiVersion: storage.k8s.io/v1 kind: StorageClass metadata: name: csi-disk-ssd parameters: csi.storage.k8s.io/csi-driver-name: disk.csi.everest.io csi.storage.k8s.io/fstype: ext4 everest.io/disk-volume-type: SSD everest.io/passthrough: \u0026#34;true\u0026#34; provisioner: everest-csi-provisioner reclaimPolicy: Delete volumeBindingMode: Immediate allowVolumeExpansion: true --- # 2. åˆ›å»ºPVC - 0 apiVersion: v1 kind: PersistentVolumeClaim metadata: name: mysql-data-0 spec: accessModes: - ReadWriteOnce resources: requests: storage: 10Gi storageClassName: csi-disk-ssd --- # 2. åˆ›å»ºPVC - 1 apiVersion: v1 kind: PersistentVolumeClaim metadata: name: mysql-data-1 spec: accessModes: - ReadWriteOnce resources: requests: storage: 10Gi storageClassName: csi-disk-ssd --- # 2. åˆ›å»ºPVC - 2 apiVersion: v1 kind: PersistentVolumeClaim metadata: name: mysql-data-2 spec: accessModes: - ReadWriteOnce resources: requests: storage: 10Gi storageClassName: csi-disk-ssd --- # 3.åˆ›å»ºConfigMapå®šä¹‰MySQLé…ç½®æ–‡ä»¶ apiVersion: v1 kind: ConfigMap metadata: name: mysql-config data: my.cnf: | [mysqld] bind-address = 0.0.0.0 innodb_file_per_table = 1 character-set-server=utf8mb4 collation-server=utf8mb4_unicode_ci skip-name-resolve --- # 4. åˆ›å»º StatefulSet apiVersion: v1 kind: StatefulSet metadata: name: mysql spec: serviceName: mysql replicas: 3 seletor: matchLabels: app: mysql template: metadata: labels: app: mysql spec: containers: - name: mysql-adv image: mysql:5.7 env: - name: MYSQL_ROOT_PASSWORD valueFrom: secretKeyRef: name: secret_mysql key: root_password ports: - containerPort: 3306 volumeMounts: - name: mysql-data mountPath: /var/lib/mysql - name: mysql-config mountPath: /etc/mysql/conf.d volumes: - name: mysql-config configMap: name: mysql-config volumeClaimTemplates: - metadata: name: mysql-data annotations: everest.io/disk-volume-type:SATA spce: accessModes: [\u0026#34;ReadWriteOnce\u0026#34;] storageClassName: csi-disk-ssd volumeMode: FileSystem resources: requests: storage: 10Gi --- # åˆ›å»ºServiceï¼Œæä¾›è®¿é—®æ¥å£ apiVersion: v1 Kind: Service metadata: name: mysql spec: selector: app: mysql ports: - port: 3306 containerPort: 3306 clusterIP: None # ä½¿ç”¨ Headless Service åº”ç”¨ä¸Šè¿°æ–‡ä»¶kubectl apply -f temp.yaml å°†ä¼šåˆ›å»º3ä¸ªæœ‰çŠ¶æ€çš„MySQLå®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹ç»‘å®šä¸€ä¸ªPVCï¼Œæ‹¥æœ‰10Giå­˜å‚¨ã€‚ æŸ¥çœ‹PVC kubectl get pvc æŸ¥çœ‹PV kubectl get pv ","date":"2024-08-06T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/kubernetes%E7%9A%84%E5%AD%98%E5%82%A8/","title":"Kubernetesçš„å­˜å‚¨"},{"content":"Serviceæ˜¯å®ç°åŸºäº4å±‚TCPæˆ–UDPçš„æµé‡è½¬å‘ä¸è´Ÿè½½å‡è¡¡ï¼Œè€ŒIngresså¯ä»¥é€šè¿‡ä¸ƒå±‚çš„HTTPå’ŒHTTPSåè®®è¿›è¡Œè¯·æ±‚è½¬å‘ï¼Œå¯ä»¥é€šè¿‡åŸŸåå’Œè·¯å¾„åšåˆ°æ›´ç»†ç²’åº¦çš„æµé‡åˆ’åˆ†ä¸è½¬å‘ã€‚\nIngresså’ŒIngress controller Ingressæ˜¯Kubernetesä¸­çš„ä¸€ç§èµ„æºå¯¹è±¡ï¼Œç”¨æ¥ç®¡ç†é›†ç¾¤å¤–éƒ¨è®¿é—®é›†ç¾¤å†…éƒ¨æœåŠ¡çš„æ–¹å¼ï¼›\nå¯ä»¥é€šè¿‡Ingressèµ„æºæ¥é…ç½®ä¸åŒçš„è½¬å‘è§„åˆ™ï¼Œä»è€Œè¾¾åˆ°æ ¹æ®ä¸åŒçš„è§„åˆ™è®¾ç½®è®¿é—®é›†ç¾¤å†…ä¸åŒçš„Serviceæ‰€å¯¹åº”çš„åç«¯Podï¼›\nIngressé€šè¿‡httpæˆ–httpsæš´éœ²é›†ç¾¤å†…éƒ¨serviceï¼Œç»™serviceæä¾›å¤–éƒ¨URLã€è´Ÿè½½å‡è¡¡ã€SSL/TLSèƒ½åŠ›ä»¥åŠåŸºäºhostçš„åå‘ä»£ç†ã€‚\nIngress-controlleræ˜¯å…·ä½“å®ç°åå‘ä»£ç†åŠè´Ÿè½½å‡è¡¡çš„ç¨‹åºï¼Œå¯¹ingresså®šä¹‰çš„è§„åˆ™è¿›è¡Œè§£æï¼Œæ ¹æ®é…ç½®çš„è§„åˆ™æ¥å®ç°è½¬å‘ï¼›\nIngress-controllerå¹¶ä¸æ˜¯Kubernetesè‡ªå¸¦çš„ç»„ä»¶ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©ä¸åŒçš„ingress-controllerå®ç°ï¼Œæ¯”å¦‚Kuberneteså®˜æ–¹ç»´æŠ¤çš„NGINXIngressControllerï¼Œä¸åŒå‚å•†é€šå¸¸æœ‰è‡ªå·±çš„å®ç°ï¼Œä¾‹å¦‚åä¸ºäº‘CCEä½¿ç”¨åä¸ºäº‘å¼¹æ€§è´Ÿè½½å‡è¡¡æœåŠ¡ELBå®ç°Ingressçš„ä¸ƒå±‚è´Ÿè½½å‡è¡¡ã€‚\nIngress Controllerçš„å·¥ä½œåŸç† å½“ç”¨æˆ·åˆ›å»ºæ´»æ›´æ–°Ingressèµ„æºåï¼ŒIngress Controllerå°±ä¼šæ ¹æ®å…¶ä¸­å®šä¹‰çš„è½¬å‘è§„åˆ™åˆ·æ–°LoadBalanceré…ç½®æ–‡ä»¶ï¼ˆå¦‚ï¼šnginx.confï¼Œæˆ–è€…åä¸ºäº‘ELBé…ç½®ï¼‰ä¸­ã€‚åœ¨å¤–éƒ¨æµé‡è®¿é—®é›†ç¾¤æ—¶ï¼Œç”±LoadBalancerç»„ä»¶è·Ÿæ®è½¬å‘è§„åˆ™å°†å…¶è½¬å‘è‡³å¯¹åº”çš„å„ä¸ªå·¥ä½œè´Ÿè½½ã€‚\nIngress é…ç½®æ–‡ä»¶ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 apiVersion: networking.k8s.io/v1 kind: Ingress metadata: name: minimal-ingress annotations: # å³æ³¨è§£å†…å®¹ï¼Œè¯¥å†…å®¹ç”¨äºé…ç½®ä¸€äº›é€‰é¡¹ï¼Œå…·ä½“å–å†³äºIngress Controllerï¼Œä¸åŒçš„Ingress Controlleræ”¯æŒä¸åŒçš„æ³¨è§£. nginx.ingress.kubernetes.io/rewrite-target: / spec: rules: - http: paths: - path: /testpath # host: foo.service.com å¯é€‰ï¼šè¯¥è§„åˆ™é€‚ç”¨äºé€šè¿‡æŒ‡å®šIPåœ°å€çš„æ‰€æœ‰å…¥ç«™HTTPé€šä¿¡ã€‚å¦‚æœæä¾›äº†hostï¼ˆä¾‹å¦‚foo.bar.comï¼‰ï¼Œåˆ™rulesé€‚ç”¨äºè¯¥hostã€‚ pathType: prefix backend: service: name: test port: number: 80 è§£æï¼š Metadata.annotationsï¼š å³æ³¨è§£å†…å®¹ï¼Œè¯¥å†…å®¹ç”¨äºé…ç½®ä¸€äº›é€‰é¡¹ï¼Œå…·ä½“å–å†³äºIngress Controllerï¼Œä¸åŒçš„Ingress Controlleræ”¯æŒä¸åŒçš„æ³¨è§£ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹å³åä¸ºäº‘CCEä½¿ç”¨åä¸ºäº‘å¼¹æ€§è´Ÿè½½å‡è¡¡æœåŠ¡ELBå®ç°Ingressçš„æ³¨è§£å†…å®¹ï¼Œå…¶ä¸­æŒ‡å®šäº†â€œingress.classâ€ä¿¡æ¯ï¼ŒELBçš„IPã€ç«¯å£ç­‰ä¿¡æ¯ã€‚\n1 2 3 4 5 6 7 metadata: name: test-ingress annotations: # æŒ‡å®šä½¿ç”¨çš„ELBå®ä¾‹çš„ä¿¡æ¯ kubernetes.io/ingress.class: cce kubernetes.io/elb.port: \u0026#39;8080\u0026#39; kubernetes.io/elb.ip: 192.168.10.155 kubernetes.io/elb.id: aa7cf5ec-7218-4c43-98d4-c36c0744667a spec.rules å‚æ•°å³è½¬å‘è§„åˆ™ï¼Œæ¯ä¸ªHTTPè§„åˆ™éƒ½åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š\nhostï¼ˆå¯é€‰ï¼‰ï¼šåœ¨æ­¤ç¤ºä¾‹ä¸­ï¼ŒæœªæŒ‡å®šhostï¼Œå› æ­¤è¯¥è§„åˆ™é€‚ç”¨äºé€šè¿‡æŒ‡å®šIPåœ°å€çš„æ‰€æœ‰å…¥ç«™HTTPé€šä¿¡ã€‚å¦‚æœæä¾›äº†hostï¼ˆä¾‹å¦‚foo.bar.comï¼‰ï¼Œåˆ™rulesé€‚ç”¨äºè¯¥hostã€‚\npathsï¼ˆè·¯å¾„åˆ—è¡¨ï¼Œä¾‹å¦‚ï¼Œ/testpathï¼‰ï¼šæ¯ä¸ªè·¯å¾„éƒ½æœ‰ä¸€ä¸ªç”±serviceNameå’ŒservicePortå®šä¹‰çš„å…³è”åç«¯ã€‚åœ¨è´Ÿè½½å‡è¡¡å™¨å°†æµé‡å®šå‘åˆ°å¼•ç”¨çš„æœåŠ¡ä¹‹å‰ï¼Œä¸»æœºå’Œè·¯å¾„éƒ½å¿…é¡»åŒ¹é…ä¼ å…¥è¯·æ±‚çš„å†…å®¹ã€‚\nPathTypeï¼ˆè·¯å¾„ç±»å‹ï¼‰ï¼šæœªæ˜ç¡®è®¾ç½®pathTypeçš„è·¯å¾„æ— æ³•é€šè¿‡åˆæ³•æ€§æ£€æŸ¥ï¼Œå½“å‰æ”¯æŒä¸‰ç§è·¯å¾„ç±»å‹ï¼š\nExactï¼šç²¾ç¡®åŒ¹é…URLè·¯å¾„ï¼Œä¸”åŒºåˆ†å¤§å°å†™ Prefixï¼šåŸºäºä»¥â€œ/â€åˆ†éš”çš„URLè·¯å¾„å‰ç¼€åŒ¹é…ï¼ŒåŒ¹é…åŒºåˆ†å¤§å°å†™ï¼Œå¹¶ä¸”å¯¹è·¯å¾„ä¸­çš„å…ƒç´ é€ä¸ªå®Œæˆã€‚ ImplementationSpecific åç«¯ï¼ˆbackendï¼‰æ˜¯Serviceæ–‡æ¡£ä¸­æ‰€è¿°çš„æœåŠ¡å’Œç«¯å£åç§°çš„ç»„åˆã€‚ä¸è§„åˆ™çš„hostå’ŒpathåŒ¹é…çš„å¯¹Ingressçš„HTTPï¼ˆå’ŒHTTPSï¼‰è¯·æ±‚å°†å‘é€åˆ°åˆ—å‡ºçš„backendã€‚\nå¦‚IngressåŒæ—¶è·¯ç”±åˆ°å¤šä¸ªæœåŠ¡ï¼Œé…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 spec: rules: - host: foo.bar.com # hoståœ°å€ http: paths: - path: \u0026#34;/foo\u0026#34; #å½“è®¿é—®â€œhttp://foo.bar.com/fooâ€æ—¶ï¼Œå³è®¿é—®åˆ°â€œs1:80â€åç«¯ backend: serviceName: s1 servicePort: 80 - path: \u0026#34;/bar\u0026#34; #å½“è®¿é—®â€œhttp://foo.bar.com/barâ€æ—¶ï¼Œå³è®¿é—®åˆ°â€œs2:80â€åç«¯ backend: serviceName: s2 servicePort: 80 Service å’Œ Ingressçš„å¯¹æ¯” DNS ç­–ç•¥å¯¹æ¯” ","date":"2024-08-06T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/kubernetes%E7%9A%84%E6%9C%8D%E5%8A%A1%E8%AE%BF%E9%97%AE-ingress/","title":"Kubernetesçš„æœåŠ¡è®¿é—®-Ingress"},{"content":"ç”±äºç›´æ¥è®¿é—®Podå­˜åœ¨ä¸€ä¸‹é—®é¢˜ï¼š\næ¯ä¸ªPodåœ¨å¯åŠ¨åæ‰ä¼šè¢«åˆ†é…ä¸€ä¸ªå¯ç‹¬ç«‹è®¿é—®çš„IPï¼Œä¸å…¶ç”Ÿå‘½å‘¨æœŸç»‘å®šï¼Œåœ¨Podå¯åŠ¨å‰å¹¶ä¸çŸ¥é“Podçš„IPåœ°å€ã€‚ å½“Podè¢«åˆ é™¤æˆ–è€…Podæ‰€åœ¨èŠ‚ç‚¹æ•…éšœæ—¶ï¼ŒKubernetesä¼šæ ¹æ®å‰¯æœ¬æœŸæœ›æ•°é‡æ–°æ‹‰èµ·æ–°podï¼Œæ—§çš„PodIPå¯èƒ½æ— æ³•æ­£å¸¸è®¿é—®ã€‚ åº”ç”¨å¾€å¾€æœ‰å¤šä¸ªå‰¯æœ¬å®ä¾‹ï¼ˆPodï¼‰ï¼Œå¤šä¸ªå‰¯æœ¬å®ä¾‹å…±åŒå¯¹å¤–æä¾›æœåŠ¡ã€‚ä½¿ç”¨å•ä¸€çš„PodIPè¿›è¡Œè®¿é—®ä¸èƒ½å®ç°Podé—´è´Ÿè½½å‡è¡¡ã€‚ æ‰€ä»¥Kuberneteså¼•å…¥Serviceè§£å†³Podçš„è®¿é—®é—®é¢˜\næ·»åŠ ä¸€ä¸ªServiceï¼Œå³å¯é€šè¿‡Serviceæ¥è®¿é—®Podï¼ŒServiceæœ‰ä¸€ä¸ªå›ºå®šIPçš„åœ°å€ï¼Œå°†è®¿é—®å®ƒçš„æµé‡è½¬å‘ç»™Podï¼Œå…·ä½“è½¬å‘ç»™å“ªäº›Podé€šè¿‡LabelSelectoræ¥é€‰æ‹©ã€‚\nåˆ›å»ºService ç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 apiVersion: v1 kind: Service metadata: name: nginx # Serviceçš„åç§° spec: selector: # æ ‡ç­¾é€‰æ‹©å™¨ï¼Œé€‰æ‹©åŒ…å«app=nginxæ ‡ç­¾çš„Pod app: nginx ports: - name: service0 targetPort: 80 # Podçš„ç«¯å£ port: 8080 # Serviceå¯¹å¤–æš´éœ²çš„ç«¯å£ protocol: TCP # è½¬å‘åè®®ç±»å‹ï¼Œæ”¯æŒTCPå’ŒUDP type: ClusterIP # Serviceçš„ç±»å‹ ç¤ºä¾‹åˆ›å»ºä¸€ä¸ªåä¸ºâ€œnginxâ€çš„Serviceï¼Œé€šè¿‡selectoré€‰æ‹©åˆ°æ ‡ç­¾ä¸ºâ€œapp:nginxâ€çš„Podï¼Œç›®æ ‡Podçš„ç«¯å£ä¸º80ï¼ŒServiceå¯¹å¤–æš´éœ²çš„ç«¯å£ä¸º8080ï¼ŒServiceç±»å‹ä¸ºClusterIPï¼Œåˆ›å»ºåkubernetesä¼šè‡ªåŠ¨ä¸ºServiceåˆ†é…ä¸€ä¸ªIPåœ°å€ï¼Œå¦‚å›¾ç¤ºçš„10.247.124.252ã€‚\nå…¶ä»–podå¯é€šè¿‡ClusterIP:Portçš„å½¢å¼è®¿é—®åˆ°åç«¯Podã€‚\nä½¿ç”¨Service å°†ä¸Šè¿°Serviceçš„å®šä¹‰ä¿å­˜è‡³nginx-svc.yamlæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨kubectlå‘½ä»¤åˆ›å»ºè¯¥Serviceã€‚\n1 2 3 4 5 6 7 $ kubectl create -f nginx-svc.yaml service/nginxcreated $ kubectl get svc NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE kubernetes ClusterIP 10.247.0.1 \u0026lt;none\u0026gt; 443/TCP 7h19m nginx ClusterIP 10.247.124.252 \u0026lt;none\u0026gt; 8080/TCP 5h48m å¯ä»¥çœ‹åˆ°Serviceæœ‰ä¸ªCluster IPï¼Œè¿™ä¸ªIPæ˜¯å›ºå®šä¸å˜çš„ï¼Œé™¤éServiceè¢«åˆ é™¤ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ClusterIPåœ¨é›†ç¾¤å†…éƒ¨è®¿é—®Serviceã€‚\nServiceNameè®¿é—®Service é™¤äº†ç”¨ClusterIPçš„å½¢å¼è®¿é—®Serviceï¼Œä¹Ÿå¯ä»¥ç”¨ServiceNameçš„å½¢å¼æ¥è®¿é—®Serviceã€‚\nç”¨ServiceNameçš„å½¢å¼æ¥è®¿é—®Serviceæ—¶ï¼Œå°±éœ€è¦DNSæ’ä»¶è¿›è¡ŒåŸŸåè§£æï¼Œåœ¨å®‰è£…Kubernetesæ—¶ï¼Œä¼šé»˜è®¤è¦æ±‚å®‰è£…CoreDNSæ’ä»¶ã€‚\nåœ¨kube-systemå‘½åç©ºé—´ä¸‹å¯ä»¥æŸ¥çœ‹åˆ°è¿è¡ŒCoreDNSçš„Podã€‚ kubectl get po --namespace=kube-system\nè®¿é—®å½¢å¼ï¼š \u0026lt;ServiceName\u0026gt;.\u0026lt;namespace\u0026gt;.svc.cluster.local å®é™…ä¸Šåœ¨åŒä¸€ä¸ªå‘½åç©ºé—´ä¸­å¯ä»¥çœç•¥\u0026lt;namespace\u0026gt;.svc.cluster.local, ç›´æ¥ç”¨ServiceName, å› ä¸ºåœ¨åŒä¸€ä¸ªDNSæœç´¢åŸŸä¸­ã€‚\nä¾‹å¦‚ä¹‹å‰åˆ›å»ºçš„åä¸ºnginxçš„Serviceï¼Œç›´æ¥é€šè¿‡â€œnginx:8080â€å°±å¯ä»¥è®¿é—®åˆ°Serviceï¼Œè¿›è€Œè®¿é—®åå°Podã€‚\nPodä»¥ServiceNameçš„å½¢å¼ä¹Ÿå°±æ˜¯â€œServiceName:Portâ€çš„å½¢å¼è®¿é—®æ—¶ï¼ŒCoreDNSå°±ä¼šå°†ServiceNameè§£æä¸ºClusterIPï¼Œä»è€Œè®¿é—®åˆ°åç«¯Podã€‚\nå®ç°åŸç† Serviceæ˜¯å¦‚ä½•åšåˆ°ä½¿å®¢æˆ·ç«¯æˆ–å…¶ä»–Podèƒ½å¤Ÿç¨³å®šè®¿é—®åˆ°ä¸€ç»„è¿è¡Œç€ç‰¹å®šæœåŠ¡çš„åç«¯Podå‘¢ï¼Ÿ\nè°ƒç”¨kubectldescribeå‘½ä»¤æŸ¥çœ‹Serviceçš„ä¿¡æ¯ï¼Œåˆ™ä¼šçœ‹åˆ°å¦‚ä¸‹å›æ˜¾ï¼š\n1 2 3 4 5 $ kubectl describe svc nginx Name: nginx ...... Endpoints: 172.16.2.132:80,172.16.3.6:80,172.16.3.7:80 ...... å¯ä»¥çœ‹åˆ°ä¸€ä¸ªEndpointsï¼ŒEndpointsåŒæ ·ä¹Ÿæ˜¯Kubernetesçš„ä¸€ç§èµ„æºå¯¹è±¡ã€‚Kubernetesæ­£æ˜¯é€šè¿‡Endpointsç›‘æ§åˆ°Podçš„IPï¼Œä»è€Œè®©Serviceèƒ½å¤Ÿå‘ç°Podã€‚å¦‚æ‰§è¡Œå‘½ä»¤kubectlget endpointsæŸ¥çœ‹Endpointsçš„è¯¦ç»†ä¿¡æ¯ã€‚\n1 2 3 $ kubectlget endpoints NAME ENDPOINTS AGE nginx 172.16.2.132:80,172.16.3.6:80,172.16.3.7:80 5h48m é…ç½®äº†selectorçš„Serviceåœ¨åˆ›å»ºæ—¶ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåŒåçš„Endpointsï¼Œé€šè¿‡Label Selectorå°†å¸¦æœ‰ç›¸åº”æ ‡ç­¾çš„Podç­›é€‰å‡ºæ¥ï¼ŒEndpointså°†è¿™äº›Podçš„IPåŠç«¯å£ä¿¡æ¯è®°å½•ä¸‹æ¥ã€‚\né€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹Podçš„IPï¼Œå¯çœ‹åˆ°è¿è¡Œç€nginxçš„Podçš„IPä¸å‰è¿°Endpointså¯¹è±¡ç»´æŠ¤çš„IPä¸€è‡´ã€‚\n1 2 3 4 5 $ kubectl get po -o wide NAME READY STATUS RESTARTS AGE IP NODE nginx-869759589d-dnknn 1/1 Running 0 5h40m 172.16.3.7 192.168.0.212 nginx-869759589d-fcxhh 1/1 Running 0 5h40m 172.16.3.6 192.168.0.212 nginx-869759589d-r69kh 1/1 Running 0 5h40m 172.16.2.132 192.168.0.94 å¦‚æœåˆ é™¤ä¸€ä¸ªPodï¼ŒDeploymentä¼šå°†Podé‡å»ºï¼Œæ–°çš„Pod IPä¼šå‘ç”Ÿå˜åŒ–ã€‚\n1 2 3 4 5 6 7 8 $ kubectldelete po nginx-869759589d-dnknn pod \u0026#34;nginx-869759589d-dnknn\u0026#34; deleted $ kubectlget po -o wide NAME READY STATUS RESTARTS AGE IP NODE nginx-869759589d-fcxhh 1/1 Running 0 5h41m 172.16.3.6 192.168.0.212 nginx-869759589d-r69kh 1/1 Running 0 5h41m 172.16.2.132 192.168.0.94 nginx-869759589d-w98wg 1/1 Running 0 7s 172.16.3.10 192.168.0.212 å†æ¬¡æŸ¥çœ‹Endpointsï¼Œä¼šå‘ç°Endpointsçš„å†…å®¹ä¹Ÿéšç€Podå‘ç”Ÿäº†å˜åŒ–ã€‚\nå®é™…ä¸Šï¼Œå…·ä½“çš„Serviceæµé‡è·¯ç”±æ˜¯Kube-Proxyç»„ä»¶å’ŒIptablesæ¥å…±åŒå®ç°çš„ã€‚\nåœ¨Serviceåˆ›å»ºæ—¶Kubernetesä¼šåˆ†é…IPç»™Serviceï¼ŒåŒæ—¶é€šè¿‡APIServeré€šçŸ¥æ‰€æœ‰kube-proxyæœ‰æ–°çš„Serviceåˆ›å»ºäº†ï¼Œkube-proxyæ”¶åˆ°é€šçŸ¥åé€šè¿‡iptablesè®°å½•Serviceå’ŒPodçš„IP/ç«¯å£å¯¹çš„å…³ç³»ï¼Œä»è€Œè®©Serviceåœ¨èŠ‚ç‚¹ä¸Šå¯ä»¥è¢«æŸ¥è¯¢åˆ°ã€‚\niptablesæ˜¯è¿è¡Œåœ¨ç”¨æˆ·ç©ºé—´çš„åº”ç”¨è½¯ä»¶ï¼Œé€šè¿‡æ§åˆ¶Linuxå†…æ ¸netfilteræ¨¡å—ï¼Œæ¥ç®¡ç†ç½‘ç»œæ•°æ®åŒ…çš„å¤„ç†å’Œè½¬å‘ï¼Œå¯ä»¥å°†iptablesç†è§£ä¸ºæ˜¯ä¸€ç³»åˆ—çš„è§„åˆ™ï¼Œå®ç°ä»Serviceåˆ°Podçš„æµé‡è½¬å‘ã€‚\né™¤äº†è®°å½•Serviceå’ŒPodçš„IP/ç«¯å£å¯¹çš„å…³ç³»ï¼Œkube-proxyè¿˜ä¼šç›‘æ§Serviceå’ŒEndpointsçš„å˜åŒ–ï¼Œä»è€Œä¿è¯Podé‡å»ºåä»ç„¶èƒ½é€šè¿‡Serviceè®¿é—®åˆ°Podã€‚\nä¸‹å›¾æ˜¯ä¸€ä¸ªå®é™…è®¿é—®Serviceçš„å›¾ç¤ºï¼ŒPod Xè®¿é—®Serviceï¼ˆ10.247.124.252:8080ï¼‰ï¼Œåœ¨å‘é€æ•°æ®åŒ…æ—¶ï¼Œåœ¨èŠ‚ç‚¹ä¸Šæ ¹æ®iptablesè§„åˆ™ï¼Œç›®çš„IP:Portè¢«éšæœºæ›¿æ¢ä¸ºåç«¯Podç»„ä¸­æŸä¸€ä¸ªPodçš„IP:Portï¼Œä»è€Œé€šè¿‡Serviceè®¿é—®åˆ°å®é™…çš„Podã€‚\nServiceçš„ç±»å‹ Serviceçš„ç±»å‹é™¤äº†ClusterIPè¿˜æœ‰NodePortã€LoadBalancerå’ŒHeadlessï¼Œè¿™å‡ ç§ç±»å‹çš„Serviceæœ‰ç€ä¸åŒçš„ç”¨é€”ã€‚\nClusterIPï¼šç”¨äºåœ¨é›†ç¾¤å†…éƒ¨äº’ç›¸è®¿é—®çš„åœºæ™¯ï¼Œé€šè¿‡ClusterIPè®¿é—®Serviceã€‚ NodePortï¼šç”¨äºä»é›†ç¾¤å¤–éƒ¨è®¿é—®çš„åœºæ™¯ï¼Œé€šè¿‡èŠ‚ç‚¹ä¸Šçš„ç«¯å£è®¿é—®Serviceã€‚ LoadBalancerï¼šç”¨äºä»é›†ç¾¤å¤–éƒ¨è®¿é—®çš„åœºæ™¯ï¼Œå…¶å®æ˜¯NodePortçš„æ‰©å±•ï¼Œé€šè¿‡ä¸€ä¸ªç‰¹å®šçš„LoadBalancerè®¿é—®Serviceï¼Œè¿™ä¸ªLoadBalancerå°†è¯·æ±‚è½¬å‘åˆ°èŠ‚ç‚¹çš„NodePortï¼Œè€Œå¤–éƒ¨åªéœ€è¦è®¿é—®LoadBalancerã€‚ ç‰¹æ®Šçš„Serviceç±»å‹ â€“ Headless Serviceï¼šç”¨äºPodé—´çš„äº’ç›¸å‘ç°ã€‚ NodePort 1 2 3 4 5 6 7 8 9 10 11 12 apiVersion: v1 kind: Service metadata: name: nodeport-service spec: type: NodePort ports: - port: 8080 target: 80 nodePort: 30100 selector: app: nginx é¦–å…ˆä½¿ç”¨ä¸Šé¢çš„YAMLæ–‡ä»¶åˆ›å»ºä¸€ä¸ªNodePortç±»å‹çš„Serviceï¼Œå…¶ä¸­ï¼š\nTypeï¼šæŒ‡å®šè¯¥Serviceç±»å‹ä¸ºNodePortã€‚ spec.nodePortï¼šå¯æŒ‡å®šèŠ‚ç‚¹å¼€æ”¾çš„ç«¯å£ï¼Œæœ¬ä¾‹ä¸­æŒ‡å®šäº†è¯¥ç«¯å£ä¸ºâ€œ30120â€ï¼Œå¦‚æœä¸è¿›è¡ŒæŒ‡å®šï¼Œkubernetes masterå°†ä»ç»™å®šçš„é…ç½®èŒƒå›´å†…ï¼ˆé»˜è®¤ï¼š30000~32767ï¼‰åˆ†é…ç«¯å£ã€‚ Serviceåˆ›å»ºå®Œæˆåï¼Œå¯ä»¥é€šè¿‡â€œèŠ‚ç‚¹çš„IP:Portâ€çš„å½¢å¼å°†æµé‡è½¬å‘åˆ°ç›¸åº”çš„Serviceï¼Œæœ€åè½¬å‘åˆ°åç«¯Podï¼ŒNodePortç±»å‹çš„Serviceä¹Ÿä¼šè¢«åˆ†é…ä¸€ä¸ªClusterIPã€‚\nNodePortç±»å‹çš„Serviceå¯ä»¥è®©Kubemetesé›†ç¾¤æ¯ä¸ªèŠ‚ç‚¹ä¸Šç›‘å¬ä¸€ä¸ªç›¸åŒçš„ç«¯å£ï¼Œå¤–éƒ¨è®¿é—®è¯·æ±‚é¦–å…ˆè®¿é—®èŠ‚ç‚¹IP:NodePortï¼Œå¯¹åº”èŠ‚ç‚¹å°†è¿™äº›è¯·æ±‚è½¬å‘ç»™Serviceå¯¹åº”çš„Endpointsï¼ˆå³PodIP:targetPortï¼‰ã€‚\nLoadBalancer LoadBalanceræœ¬èº«å¹¶ä¸æ˜¯Kubernetesçš„ç»„ä»¶ï¼Œè¿™éƒ¨åˆ†é€šå¸¸æ˜¯ç”±äº‘æœåŠ¡å‚å•†æä¾›ï¼Œä¸åŒå‚å•†çš„Kubernetesé›†ç¾¤ä¸LoadBalancerçš„å¯¹æ¥å®ç°å„ä¸ç›¸åŒï¼Œè¿™é‡Œä»¥åä¸ºäº‘å¯¹æ¥å¼¹æ€§è´Ÿè½½å‡è¡¡ELBæœåŠ¡ä¸ºä¾‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 apiVersion: v1 kind: Service metadata: annotations: kubernetes.io/elb.id: 3c7caa5a-a641-4bff-801a-feace27424b6 labels: app: nginx name: nginx spec: type: LoadBalancer selector: app: nginx loadBalancerIP: 10.78.42.242 ports: - name: service0 port: 80 protocol: TCP targetPort: 80 nodePort: 30120 ä¸Šé¢ä¸ºä¸€ä¸ªLoadBalancerç±»å‹çš„Serviceå®ä¾‹çš„YAMLæ–‡ä»¶ï¼Œå…¶ä¸­ï¼š\nmetadata.annotationsï¼šè¡¨ç¤ºCCEçš„LoadBalancerç±»å‹Serviceéœ€è¦é…ç½®çš„å‚æ•°ï¼Œè¡¨ç¤ºè¿™ä¸ªServiceç»‘å®šå“ªä¸ªELBå®ä¾‹ã€‚ loadBalancerIPï¼šæŒ‡å®šELBå®ä¾‹çš„IPåœ°å€ã€‚ typeï¼šæŒ‡å®šè¯¥Serviceç±»å‹ä¸ºLoadBalancerã€‚ ä½¿ç”¨è¯¥YAMLæ–‡ä»¶åˆ›å»ºLoadBalancerç±»å‹çš„Serviceåï¼Œå¯ä»¥é€šè¿‡ELBçš„IP:Portè®¿é—®åˆ°åå°Podã€‚\nLoadBalancerç±»å‹çš„Serviceå…¶å®æ˜¯NodePortç±»å‹Serviceçš„æ‰©å±•ï¼Œé€šè¿‡ä¸€ä¸ªç‰¹å®šçš„LoadBalancerè®¿é—®Serviceï¼Œè¯¥LoadBalancerå°†è¯·æ±‚è½¬å‘åˆ°èŠ‚ç‚¹çš„NodePortã€‚(åä¸ºäº‘äº‘åŸç”Ÿ2.0ç½‘ç»œæ”¯æŒELBç›´é€šPodIPï¼Œæ— éœ€ç»è¿‡NodePortè½¬å‘ã€‚)\nHeadless Service é€šè¿‡ClusterIPå¯ä»¥å®ç°Podçš„å†…éƒ¨è®¿é—®ï¼Œé€šè¿‡NodePortå’ŒLoadBalancerå¯ä»¥å®ç°Podçš„å¤–éƒ¨è®¿é—®ï¼Œé‚£ä¹ˆå¦‚ä½•å®ç°ä¸€ä¸ªServiceå†…éƒ¨çš„Podä¹‹é—´çš„äº’ç›¸è®¿é—®å‘¢ï¼Ÿ\nHeadlessServiceé€šè¿‡ä½¿ç”¨DNSï¼Œä¸ºæ¯ä¸ªPodæä¾›å›ºå®šçš„åŸŸåï¼Œè¿™æ ·Podä¹‹é—´å°±å¯ä»¥ä½¿ç”¨åŸŸåè®¿é—®ï¼Œå³ä¾¿Podè¢«é‡æ–°åˆ›å»ºè€Œå¯¼è‡´Podçš„IPåœ°å€å‘ç”Ÿå˜åŒ–ï¼Œè¿™ä¸ªåŸŸåä¹Ÿä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä»è€Œå®ç°Serviceå†…éƒ¨çš„Podä¹‹é—´çš„ç›¸äº’è®¿é—®ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 apiVersion: v1 kind: Service metadata: name: nginx labels: app: nginx spec: ports: - name: nginx port: 80 clusterIP: None ä½¿ç”¨ä¸Šé¢çš„YAMLæ–‡ä»¶åˆ›å»ºä¸€ä¸ªHeadlessç±»å‹çš„Serviceï¼Œå…¶ä¸­ï¼š\nspec.ports.nameï¼šæŒ‡å®šPodé—´é€šä¿¡ç«¯å£åç§°ï¼Œè¿™é‡Œè®¾ç½®ä¸ºâ€œnginxâ€ï¼› spec.ports.portï¼šæŒ‡å®šPodé—´é€šä¿¡ç«¯å£å·ï¼Œè¿™é‡Œè®¾ç½®ä¸ºâ€œ80â€ï¼› spec.selector.appï¼šæŒ‡å®šé€‰æ‹©æ ‡ç­¾ä¸ºâ€œapp: nginxâ€çš„Podï¼› spec.clusterIPï¼šå¿…é¡»è®¾ç½®ä¸ºNoneï¼Œè¡¨ç¤ºHeadless Serviceã€‚ åˆ›å»ºHeadless Service å°†ä¸Šè¿°çš„å†…å®¹ä¿å­˜åˆ°headless.yamlä¸­å¹¶æ‰§è¡Œåˆ›å»ºå‘½ä»¤kubectl create -f headless.yaml\nåˆ›å»ºå®ŒæˆåæŸ¥è¯¢Service kubectl get svc\n1 2 NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE nginx ClusterIP None\u0026lt;none\u0026gt; 80/TCP 5s Headless Serviceåˆ›å»ºåï¼Œæ¯ä¸ªPodçš„IPéƒ½ä¼šæœ‰ä¸‹é¢æ ¼å¼çš„åŸŸåï¼š\u0026lt;pod-name\u0026gt;.\u0026lt;svc-name\u0026gt;.\u0026lt;namespace\u0026gt;svc.cluster.local\nåŒæ ·çš„ï¼Œåœ¨åŒä¸€ä¸ªæœç´¢åŸŸä¸‹çš„.\u0026lt;namespace\u0026gt;.svc.cluster.local å¯ä»¥çœç•¥\n","date":"2024-08-06T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/kubernetes%E7%9A%84%E6%9C%8D%E5%8A%A1%E8%AE%BF%E9%97%AE-service/","title":"Kubernetesçš„æœåŠ¡è®¿é—®-Service"},{"content":"åº”ç”¨é…ç½®å­˜åœ¨çš„é—®é¢˜ï¼š\nå¯å˜çš„é…ç½®ä¿¡æ¯ï¼šå¦‚æ•°æ®åº“çš„é…ç½®ã€è¯ä¹¦çš„é…ç½®ã€åº”ç”¨è‡ªå®šä¹‰é…ç½®ç­‰ï¼› æ•æ„Ÿä¿¡æ¯çš„å­˜å‚¨å’Œä½¿ç”¨ï¼šå¦‚å¯†ç ã€tokenç­‰ã€‚ Kubernetesåº”ç”¨é…ç½®ï¼š\nConfigMapï¼šç®¡ç†ä¸€èˆ¬å¯å˜é…ç½®ä¿¡æ¯ï¼› Secret: æ•æ„Ÿä¿¡æ¯é…ç½®ï¼Œä¿¡æ¯é‡‡ç”¨base-64ç¼–ç è¿›è¡Œä¿å­˜ã€‚ ConfigMap ConfigMapæ˜¯ä¸€ç§å­˜å‚¨éæ•æ„Ÿæ•°æ®çš„èµ„æºå¯¹è±¡ï¼Œä»¥\u0026lt;key-value\u0026gt;å½¢å¼å­˜å‚¨é…ç½®æ•°æ®ã€‚\nConfigMapè®¾è®¡è¦ç´ ï¼š\nè§£è€¦åº”ç”¨ç¨‹åºï¼ˆé•œåƒï¼‰å’Œé…ç½®å‚æ•°ï¼› ä¸ç”¨äºå­˜å‚¨å¤§å—æ•°æ®ï¼ˆ\u0026lt;=1 MBï¼‰ã€‚ ConfigMapä¸»è¦æœåŠ¡äºPodï¼š\nä¸ºå®¹å™¨æä¾›ç¯å¢ƒå˜é‡ï¼› ä¸ºå®¹å™¨æä¾›å‘½ä»¤è¡Œå‚æ•°ï¼› ä¸ºå®¹å™¨æä¾›é…ç½®æ–‡ä»¶ã€‚ å®šä¹‰ConfigMapï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 apiVersion: v1 kind: ConfigMap metadata: name: game-demo data: # ç®€å•é”®å€¼å¯¹ player_initial_lives: 3 ui_properties: | enemy.types=aliens,monsters player.maximum-lives=5 # æ–‡ä»¶æˆ–ç›®å½•: æ–‡ä»¶åä¸ºKey user-interface.properties: color.good=purple color.bad=yellow allow.textmode=true ä½¿ç”¨ConfigMap ä½¿ç”¨ConfigMapé…ç½®ç¯å¢ƒå˜é‡: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 apiVersion: v1 kind: Pod metadata: name: configmap-test-demo spec: containers: - name: demo image: alpine command: [\u0026#34;sleep\u0026#34;, \u0026#34;3600\u0026#34;] env: - name: TEST_1 valueFrom: configMapKeyRef: # ä½¿ç”¨ConfigMapKeyRefä»ConfigMapä¸­æ‹¿åˆ°keyçš„Valueå¹¶ç»‘å®šåˆ°ç¯å¢ƒå˜é‡TEST_1 name: game-demo key: player_initial_lives - name: TEST_2 valueFrom: configMapKeyRef: # åŒä¸Š name: game-demo key: ui_properties_file_name ä½¿ç”¨ConfigMapæŒ‚è½½é…ç½®æ–‡ä»¶: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 apiVersion: v1 kind: Pod metadata: name: configmap-demo-pod spec: containers: - name: demo image: alpine volumeMounts: - name: config mountPath: /config readOnly: true volumes: - name: config ConfigMap: name: game-demo items: # å­˜åœ¨Itemsæ—¶ï¼Œconfigè¢«å®šä¹‰ä¸ºä¸€ä¸ªç›®å½• - key: game.properties path: game.properties Secret Secretæ˜¯ä¸€ç§èµ„æºå¯¹è±¡ï¼Œä»¥\u0026lt;key-value\u0026gt;å½¢å¼å­˜å‚¨æ•æ„Ÿæ•°æ®ï¼ˆå¯†ç ï¼Œtokenç­‰ï¼‰ã€‚\nSecretè®¾è®¡è¦ç´ ï¼š\næ•°æ®é‡‡ç”¨base-64ç¼–ç ä¿å­˜ï¼ˆéåŠ å¯†ï¼‰ï¼› é€šå¸¸ç»“åˆRBAC rulesæ¥åŠ å¼ºå®‰å…¨æ€§ã€‚ Secretä¸»è¦æœåŠ¡äºPodï¼š\nä¸ºå®¹å™¨æä¾›ç¯å¢ƒå˜é‡ï¼› ä¸ºå®¹å™¨æä¾›é•œåƒä»“åº“å¯†é’¥ï¼ˆç”±kubeletä½¿ç”¨ï¼‰ï¼› ä¸ºå®¹å™¨æä¾›é…ç½®æ–‡ä»¶ã€‚ å®šä¹‰ä¸€ä¸ªSecret 1 2 3 4 5 6 7 8 apiVersion: v1 kind: Secret metadata: name: mySecret type: Opaque data: username: YWRtaW4= password: MWYyZDFlMmU2N2Rm ä½¿ç”¨Secret ä½¿ç”¨Secreté…ç½®ç¯å¢ƒå˜é‡: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 apiVersion: v1 kind: Pod metadata: name: mypod spec: containers: - name: mycontainer image: redis env: - name: SECRET_USERNAME valueFrom: secretKeyRef: name: mysecret key: username - name: SECRET_PASSWORD valueFrom: secretKeyRef: name: mysecret key: password ä½¿ç”¨SecretæŒ‚è½½é…ç½®æ–‡ä»¶: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 apiVersion: v1 kind: Pod metadata: name: mypod spec: containers: - name: mypod image: redis volumeMounts: - name: foo mountPath: \u0026#34;/etc/foo\u0026#34; readOnly: true volumes: - name: foo secret: secretName: mysecret # fooè¢«å®šä¹‰ä¸ºä¸€ä¸ªæ–‡ä»¶ optional: false ","date":"2024-08-06T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/kubernetes%E7%9A%84%E9%85%8D%E7%BD%AE%E6%9E%B6%E6%9E%84/","title":"Kubernetesçš„é…ç½®æ¶æ„"},{"content":"Kube-ApiServerçš„List-Watchæœºåˆ¶ æˆ‘ä»¬çŸ¥é“kube-apiserveræä¾›äº†ä¸€ä¸ªKubernetesä¸­å„ç§èµ„æºçš„å¢åˆ æ”¹æŸ¥çš„æ¥å£ï¼Œä¸ä»…éœ€è¦å¯¹å†…éƒ¨å…¶ä»–å››ä¸ªç»„ä»¶æä¾›æœåŠ¡ï¼Œè¿˜éœ€è¦ç»™å¤–éƒ¨çš„ç”¨æˆ·ä»¥åŠé›†ç¾¤å†…å¯èƒ½å®‰è£…çš„æ’ä»¶ä½¿ç”¨ï¼Œå› æ­¤å®ƒæ¥æ”¶åˆ°çš„è¯·æ±‚é‡æ˜¯ååˆ†å·¨å¤§çš„ï¼Œä¸ºäº†å‡å°‘è¿™ç§è¯·æ±‚é‡ï¼Œé™ä½kube-apiserverçš„å‹åŠ›ï¼Œä¾¿è®¾è®¡å‡ºäº†list-watchæœºåˆ¶ã€‚\nList-watchæ˜¯Kubernetesç»Ÿä¸€çš„å¼‚æ­¥æ¶ˆæ¯å¤„ç†æœºåˆ¶ï¼Œå„ç»„ä»¶é—´ååŒéƒ½é‡‡ç”¨è¯¥æœºåˆ¶è¿›è¡Œé€šä¿¡ï¼Œå¯¹ç³»ç»Ÿçš„æ€§èƒ½ã€æ•°æ®ä¸€è‡´æ€§èµ·åˆ°å…³é”®æ€§çš„ä½œç”¨ï¼Œä¸ºå£°æ˜å¼é£æ ¼çš„APIå¥ å®šäº†è‰¯å¥½çš„åŸºç¡€ã€‚å®ƒæ˜¯ä¼˜é›…çš„é€šä¿¡æ–¹å¼ï¼Œæ˜¯Kubernetesæ¶æ„çš„ç²¾é«“ã€‚\nList-watchç”±listå’Œwatchç»„æˆï¼š\nlistè°ƒç”¨èµ„æºçš„list APIç½—åˆ—èµ„æºï¼Œè·å–é™æ€çš„æ‰€æœ‰æ•°æ®ï¼Œä¸»è¦ç”¨äºæŸ¥è¯¢ï¼ŒåŸºäºHTTPçŸ­é“¾æ¥å®ç°ã€‚ watchè°ƒç”¨èµ„æºçš„watch APIï¼Œç›‘å¬æ¯ä¸ªèµ„æºçš„å¢åˆ æ”¹äº‹ä»¶ï¼ŒåŸºäºHTTPé•¿é“¾æ¥å®ç°ã€‚ ä¸€ä¸ªå¼‚æ­¥æ¶ˆæ¯çš„ç³»ç»Ÿï¼Œå¯¹æ¶ˆæ¯æœºåˆ¶æœ‰è‡³å°‘å¦‚ä¸‹å››ç‚¹è¦æ±‚ï¼š æ¶ˆæ¯çš„å¯é æ€§: List APIå¯ä»¥æŸ¥è¯¢å½“å‰çš„èµ„æºçŠ¶æ€ï¼Œå®¢æˆ·ç«¯é€šè¿‡æœŸæœ›çš„çŠ¶æ€å’Œå®é™…çš„çŠ¶æ€çš„å¯¹æ¯”ï¼Œçº æ­£çŠ¶æ€ä¸ä¸€è‡´çš„èµ„æºï¼Œå¹¶å¯è§£å†³æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜ã€‚ æ¶ˆæ¯çš„å®æ—¶æ€§: List-watchæœºåˆ¶ä¸‹ï¼Œæ¯å½“apiserverçš„èµ„æºäº§ç”ŸçŠ¶æ€å˜æ›´äº‹ä»¶ï¼Œéƒ½ä¼šå°†äº‹ä»¶åŠæ—¶çš„æ¨é€ç»™å®¢æˆ·ç«¯ï¼Œä»è€Œä¿è¯äº†æ¶ˆæ¯çš„å®æ—¶æ€§ã€‚ æ¶ˆæ¯çš„é¡ºåºæ€§: åœ¨å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå®¢æˆ·ç«¯åœ¨çŸ­æ—¶é—´å†…å¯èƒ½ä¼šæ”¶åˆ°åŒä¸€ä¸ªèµ„æºçš„å¤šä¸ªäº‹ä»¶ï¼Œä¸ºä¿è¯èµ„æºçš„æœ€ç»ˆçŠ¶æ€ï¼ŒK8Såœ¨æ¯ä¸ªèµ„æºçš„äº‹ä»¶ä¸­éƒ½å¸¦ä¸€ä¸ªresourceVersionçš„æ ‡ç­¾ï¼Œè¿™ä¸ªæ ‡ç­¾æ˜¯é€’å¢çš„æ•°å­—ï¼Œæ‰€ä»¥å½“å®¢æˆ·ç«¯å¹¶å‘å¤„ç†åŒä¸€ä¸ªèµ„æºçš„äº‹ä»¶æ—¶ï¼Œå®ƒå°±å¯ä»¥å¯¹æ¯”æ­¤æ ‡ç­¾æ¥ä¿è¯æœ€ç»ˆçš„çŠ¶æ€å’Œæœ€æ–°çš„äº‹ä»¶æ‰€æœŸæœ›çš„çŠ¶æ€çš„ä¸€è‡´ã€‚ é«˜æ€§èƒ½: è™½ç„¶ä»…é€šè¿‡å‘¨æœŸæ€§è°ƒç”¨list APIä¹Ÿèƒ½è¾¾åˆ°èµ„æºæœ€ç»ˆä¸€è‡´æ€§çš„æ•ˆæœï¼Œä½†æ˜¯å‘¨æœŸæ€§é¢‘ç¹çš„è½®è¯¢å¤§å¤§çš„å¢å¤§äº†å¼€é”€ï¼Œå¢åŠ apiserverçš„å‹åŠ›ã€‚è€Œwatchä½œä¸ºå¼‚æ­¥æ¶ˆæ¯é€šçŸ¥æœºåˆ¶ï¼Œå¤ç”¨ä¸€æ¡é•¿é“¾æ¥ï¼Œä¿è¯å®æ—¶æ€§çš„åŒæ—¶ä¹Ÿä¿è¯äº†æ€§èƒ½ã€‚ List List APIå¯ä»¥æŸ¥è¯¢å½“å‰çš„èµ„æºçŠ¶æ€ï¼Œå®¢æˆ·ç«¯é€šè¿‡æœŸæœ›çš„çŠ¶æ€å’Œå®é™…çš„çŠ¶æ€çš„å¯¹æ¯”ï¼Œçº æ­£çŠ¶æ€ä¸ä¸€è‡´çš„èµ„æºï¼Œå¹¶å¯è§£å†³æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜ã€‚\nWatch Watchæ˜¯å¦‚ä½•é€šè¿‡HTTPé•¿é“¾æ¥æ¥æ”¶apiserverå‘æ¥çš„èµ„æºå˜æ›´äº‹ä»¶å‘¢ï¼Ÿç§˜è¯€å°±æ˜¯Chunked transfer encodingï¼ˆåˆ†å—ä¼ è¾“ç¼–ç ï¼‰ï¼Œå®ƒé¦–æ¬¡å‡ºç°åœ¨HTTP/1.1ã€‚\nWatchæ˜¯é€šè¿‡HTTPé•¿è¿æ¥å®ç°çš„ï¼Œå…¶ç§˜è¯€å°±æ˜¯é€šè¿‡å“åº”å¤´ä¸­å£°æ˜Chunked transfer encodingï¼ˆåˆ†å—ä¼ è¾“ç¼–ç ï¼‰ã€‚\nHTTPåˆ†å—ä¼ è¾“ç¼–ç å…è®¸æœåŠ¡å™¨ä¸ºåŠ¨æ€ç”Ÿæˆçš„å†…å®¹ç»´æŒHTTPæŒä¹…é“¾æ¥ã€‚é€šå¸¸ï¼ŒæŒä¹…é“¾æ¥éœ€è¦æœåŠ¡å™¨åœ¨å¼€å§‹å‘é€æ¶ˆæ¯ä½“å‰å‘é€Content-Lengthæ¶ˆæ¯å¤´å­—æ®µï¼Œä½†æ˜¯å¯¹äºåŠ¨æ€ç”Ÿæˆçš„å†…å®¹æ¥è¯´ï¼Œåœ¨å†…å®¹åˆ›å»ºå®Œä¹‹å‰æ˜¯ä¸å¯çŸ¥çš„ã€‚ä½¿ç”¨åˆ†å—ä¼ è¾“ç¼–ç ï¼Œæ•°æ®åˆ†è§£æˆä¸€ç³»åˆ—æ•°æ®å—ï¼Œå¹¶ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªå—å‘é€ï¼Œè¿™æ ·æœåŠ¡å™¨å¯ä»¥å‘é€æ•°æ®è€Œä¸éœ€è¦é¢„å…ˆçŸ¥é“å‘é€å†…å®¹çš„æ€»å¤§å°ã€‚\né€šè¿‡CURLå‘½ä»¤watch podsèµ„æº å½“å®¢æˆ·ç«¯è°ƒç”¨watch APIæ—¶ï¼Œapiserveråœ¨responseçš„HTTP Headerä¸­è®¾ç½®Transfer-Encodingçš„å€¼ä¸ºchunkedï¼Œè¡¨ç¤ºé‡‡ç”¨åˆ†å—ä¼ è¾“ç¼–ç ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°è¯¥ä¿¡æ¯åï¼Œä¾¿å’ŒæœåŠ¡ç«¯è¿›è¡Œé“¾æ¥ï¼Œå¹¶ç­‰å¾…ä¸‹ä¸€ä¸ªæ•°æ®å—ï¼Œå³èµ„æºçš„äº‹ä»¶ä¿¡æ¯ã€‚\n1 2 3 4 5 6 7 8 9 $ curl -ihttp://{kube-api-server-ip}:8080/api/v1/watch/pods?watch=yes HTTP/1.1 200 OK Content-Type: application/json Transfer-Encoding: chunked Date: Thu, 02 Jan 2020 20:22:59 GMT {\u0026#34;type\u0026#34;:\u0026#34;ADDED\u0026#34;, \u0026#34;object\u0026#34;:{\u0026#34;kind\u0026#34;:\u0026#34;Pod\u0026#34;,\u0026#34;apiVersion\u0026#34;:\u0026#34;v1\u0026#34;,...}} {\u0026#34;type\u0026#34;:\u0026#34;ADDED\u0026#34;, \u0026#34;object\u0026#34;:{\u0026#34;kind\u0026#34;:\u0026#34;Pod\u0026#34;,\u0026#34;apiVersion\u0026#34;:\u0026#34;v1\u0026#34;,...}} {\u0026#34;type\u0026#34;:\u0026#34;MODIFIED\u0026#34;, \u0026#34;object\u0026#34;:{\u0026#34;kind\u0026#34;:\u0026#34;Pod\u0026#34;,\u0026#34;apiVersion\u0026#34;:\u0026#34;v1\u0026#34;,...}} KubernetesåŸºäºlist-watchæœºåˆ¶çš„æ§åˆ¶å™¨æ¶æ„ ","date":"2024-08-05T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/kube-apiserver%E7%9A%84list-watch%E6%9C%BA%E5%88%B6/","title":"Kube-ApiServerçš„List-Watchæœºåˆ¶"},{"content":"æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è´Ÿè½½èµ„æºæ¥ç®¡ç†ä¸€ç»„Podsï¼Œé€šè¿‡é…ç½®Controlleræ¥ä¿è¯å¤„äºè¿è¡ŒçŠ¶æ€çš„Podä¸ªæ•°æ˜¯æ­£ç¡®çš„ï¼Œä¸”å…¶çŠ¶æ€ä¸æ‰€æŒ‡å®šçš„çŠ¶æ€ç›¸ä¸€è‡´ã€‚ä¸¤è€…é€šè¿‡label-selectorå’ŒowerReferenceç›¸å…³è”ï¼ŒPodé€šè¿‡å·¥ä½œè´Ÿè½½å®ç°åº”ç”¨çš„è¿ç»´ï¼Œå¦‚ä¼¸ç¼©ã€å‡çº§ç­‰ã€‚\nKuberneteså†…ç½®çš„å·¥ä½œè´Ÿè½½æœ‰ï¼š\næ— çŠ¶æ€å·¥ä½œè´Ÿè½½ï¼šReplicaSetã€Deployment æœ‰çŠ¶æ€å·¥ä½œè´Ÿè½½ï¼šStatefulSet å®ˆæŠ¤è¿›ç¨‹å·¥ä½œè´Ÿè½½ï¼šDeamonSet æ‰¹å¤„ç†å·¥ä½œè´Ÿè½½ï¼šJob/CronJob Deployment ReplicaSetï¼šå‰¯æœ¬æ§åˆ¶å™¨ï¼Œç”¨äºç¡®ä¿Podçš„ä¸€å®šæ•°é‡çš„ä»½æ•°(replica)åœ¨è¿è¡Œï¼Œç”¨äºè§£å†³podçš„æ‰©å®¹å’Œç¼©å®¹é—®é¢˜ï¼Œé€šå¸¸ç”¨äºæ— çŠ¶æ€åº”ç”¨ã€‚ Deploymentï¼šé€šè¿‡â€œæ§åˆ¶å™¨æ¨¡å¼â€ï¼Œæ¥æ“ä½œReplicaSetå¯¹è±¡ï¼ˆè€Œéç›´æ¥æ“ä½œPodå¯¹è±¡ï¼‰çš„ä¸ªæ•°å’Œå±æ€§ï¼Œè¿›è€Œå®ç°â€œæ°´å¹³æ‰©å±•/ æ”¶ç¼©â€å’Œâ€œæ»šåŠ¨æ›´æ–°â€è¿™ä¸¤ä¸ªç¼–æ’åŠ¨ä½œã€‚ Deployment - å‰¯æœ¬ç®¡ç† æ‰©å®¹/ç¼©å®¹DeploymentæŒ‡å¢åŠ æˆ–å‡å°‘å®ƒçš„å‰¯æœ¬æ•°ã€‚æœ€ç®€å•çš„æ–¹å¼æ˜¯æ›´æ–°å…¶yamlä¸­çš„replicaså­—æ®µã€‚\nDeploymentçš„å‰¯æœ¬æœºåˆ¶æ˜¯é€šè¿‡ï¼ŒReplicaSetå®ç°çš„ã€‚è¿™ä¸€ç‚¹å¯é€šè¿‡æŸ¥çœ‹å¯¹åº”Podçš„ownerReferenceå­—æ®µæŸ¥çœ‹ï¼š\nå¦‚æœç»™å®šå¦‚ä¸‹é…ç½®éƒ¨ç½²ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 apiVersion: apps/v1 kind: Deployment metadata: name: nginx labels: app: nginx spec: replicas: 5 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: nginx:1.7.9 ports: - containerPort: 80 æŸ¥è¯¢åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 $ kubectl get pods --output=yaml| grep ownerReferenceâ€“A 6 ownerReferences: - apiVersion: apps/v1 blockOwnerDeletion: true controller: true kind: ReplicaSet name: nginx-7848d4b86f uid: 2b3c788e-3b09-44bb-b0fb-0bd7f17ccfe8 Deployment - æ»šåŠ¨æ›´æ–° æ»šåŠ¨æ›´æ–°å…è®¸é€šè¿‡ä½¿ç”¨æ–°çš„å®ä¾‹é€æ­¥æ›´æ–°Podå®ä¾‹ï¼Œé›¶åœæœºè¿›è¡ŒDeploymentæ›´æ–°ã€‚æ–°çš„Podå°†åœ¨å…·æœ‰å¯ç”¨èµ„æºçš„èŠ‚ç‚¹ä¸Šè¿›è¡Œè°ƒåº¦ã€‚\næ»šåŠ¨æ›´æ–°å…è®¸ä»¥ä¸‹æ“ä½œï¼š\nå°†åº”ç”¨ç¨‹åºä»ä¸€ä¸ªç¯å¢ƒæå‡åˆ°å¦ä¸€ä¸ªç¯å¢ƒï¼ˆé€šè¿‡å®¹å™¨é•œåƒæ›´æ–°ï¼‰ï¼› å›æ»šåˆ°ä»¥å‰çš„ç‰ˆæœ¬ï¼› æŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜åº”ç”¨ç¨‹åºï¼Œæ— éœ€åœæœºã€‚ æ“ä½œå‘½ä»¤ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 æ›´æ–°Deployement $ kubectl edit deploy/nginx $ kubectl set image deploy/nginxnginx=nginx:1.9.1 $ kubectl apply -f nginx.yaml æŸ¥çœ‹Deploymentæ»šåŠ¨æ›´æ–°æƒ…å†µ/å†å²ï¼š $ kubectl rollout status deploy/nginx $ kubectl rollout history deploy/nginx å›æ»šï¼š $ kubectl rollout undo deployment/nginx--to-revision=2 #ä¸æŒ‡å®šçš„è¯é»˜è®¤å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ æš‚åœ/æ¢å¤ï¼š $ kubectl rollout pause deployment/nginx $ kubectl rollout resume deploy/nginx StatefulSet StatefulSet æ˜¯ Kubernetes ä¸­çš„ä¸€ç§å·¥ä½œè´Ÿè½½æ§åˆ¶å™¨ï¼Œä¸“é—¨ç”¨äºç®¡ç†æœ‰çŠ¶æ€çš„åº”ç”¨ç¨‹åºã€‚ä¸æ— çŠ¶æ€çš„åº”ç”¨ç¨‹åºä¸åŒï¼Œæœ‰çŠ¶æ€çš„åº”ç”¨ç¨‹åºé€šå¸¸éœ€è¦æŒä¹…åŒ–çš„å­˜å‚¨å’Œç¨³å®šçš„èº«ä»½æ ‡è¯†ã€‚StatefulSet ä¸ºè¿™ç±»åº”ç”¨ç¨‹åºæä¾›äº†å¿…è¦çš„æ”¯æŒã€‚\nStatefulSet çš„ç‰¹ç‚¹ ç¨³å®šçš„æŒä¹…åŒ–å­˜å‚¨: StatefulSet æ”¯æŒæ¯ä¸ª Pod ä¸ä¸€ä¸ªæˆ–å¤šä¸ªæŒä¹…å·ï¼ˆPersistent Volume, PVï¼‰ç›¸å…³è”ï¼Œè¿™æ ·æ¯ä¸ª Pod å°±æœ‰äº†è‡ªå·±ç‹¬ç«‹çš„å­˜å‚¨ç©ºé—´ã€‚ ç¨³å®šçš„ç½‘ç»œæ ‡è¯†: StatefulSet ä¸ºæ¯ä¸ª Pod åˆ†é…ä¸€ä¸ªç¨³å®šçš„ã€å”¯ä¸€çš„ç½‘ç»œæ ‡è¯†ç¬¦ï¼ˆé€šå¸¸æ˜¯ DNS åç§°æˆ–ä¸»æœºåï¼‰ã€‚è¿™æ„å‘³ç€ Pod åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…æ‹¥æœ‰ç›¸åŒçš„åç§°ï¼Œå³ä½¿ Pod é‡å¯ä¹Ÿä¸ä¼šæ”¹å˜ã€‚ æœ‰åºéƒ¨ç½²å’Œç¼©æ”¾: StatefulSet æ”¯æŒæœ‰åºçš„éƒ¨ç½²å’Œç¼©æ”¾æ“ä½œã€‚è¿™æ„å‘³ç€ Pod å¯ä»¥æŒ‰é¡ºåºéƒ¨ç½²æˆ–ç¼©æ”¾ï¼Œä¾‹å¦‚ä»åºå·æœ€å°çš„ Pod å¼€å§‹ã€‚ æœ‰åºæ»šåŠ¨æ›´æ–°: StatefulSet æ”¯æŒæœ‰åºçš„æ»šåŠ¨æ›´æ–°ï¼Œå³ Pod çš„æ›´æ–°æŒ‰ç…§ä¸€å®šçš„é¡ºåºè¿›è¡Œï¼Œç¡®ä¿æ›´æ–°è¿‡ç¨‹ä¸­åº”ç”¨ç¨‹åºçš„å¯ç”¨æ€§ã€‚ Headless Service: StatefulSet é€šå¸¸ä¸ headless Service ç»“åˆä½¿ç”¨ï¼Œè¿™æ„å‘³ç€ Service ä¸ä¼šåˆ†é…ä¸€ä¸ª Cluster IPã€‚ç›¸åï¼ŒService ä¼šä¸ºæ¯ä¸ª Pod åˆ†é…ä¸€ä¸ª DNS è®°å½•ï¼Œè¿™æ ·æ¯ä¸ª Pod éƒ½å¯ä»¥é€šè¿‡è‡ªå·±çš„ DNS åç§°è¢«å…¶ä»–æœåŠ¡å‘ç°ã€‚ åˆ›å»ºHandlessæœåŠ¡ åˆ›å»ºHeadlessæœåŠ¡éœ€æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š\næœåŠ¡åç§°å’ŒStatefulSetä¸­çš„å®šä¹‰ä¸€è‡´ï¼› é€‰æ‹©å™¨è¦æŒ‡å‘æ­£ç¡®çš„Podæ ‡ç­¾ï¼› æŒ‡å®šclusterIPï¼šNoneã€‚ åˆ›å»ºæ­¥éª¤ï¼š\nç¼–è¾‘headless.yaml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # headless.yaml apiVersion: v1 kind: Service # å¯¹è±¡ç±»å‹ä¸ºService metadata: name: nginx labels: app: nginx spec: ports: - name: nginx# Podé—´é€šä¿¡çš„ç«¯å£åç§° port: 80 # Podé—´é€šä¿¡çš„ç«¯å£å· selector: app: nginx # é€‰æ‹©æ ‡ç­¾ä¸ºapp:nginxçš„Pod clusterIP: None # å¿…é¡»è®¾ç½®ä¸ºNone åˆ›å»ºHeadless Serviceï¼š kubectl create -f headless.yaml\næŸ¥è¯¢Serviceï¼š\n1 2 3 kubectl get svc NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE nginx ClusterIP None \u0026lt;none\u0026gt; 80/TCP 5s åˆ›å»º StatefulSet åˆ›å»ºå¹¶ç¼–è¾‘yamlæ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 apiVersion: apps/v1 kind: StatefulSet metadata: name: web spec: selector: matchLabels: app: nginx serviceName: nginx replicas: 3 template: metadata: labels: app: nginx spec: containers: - name: nginx image: nginx ports: - containerPort: 80 name: web volumeMounts: - name: www mountPath: /usr/share/nginx/html volumeClaimTemplates: - metadata: name: www annotations: everest.io/disk-volume-type: SAS - spec: accessModes: - ReadWriteOnce resources: requests: storage: 1Gi storageClassName: csi-disk åˆ›å»ºStatefulSet kubectl apply -f web.yaml åˆ›å»ºå®Œæˆåï¼Œå¯çœ‹åˆ°Podåç§°æŒ‰åºå·æ’åºï¼š 1 2 3 4 5 kubectl get pod NAME READY STATUS RESTARTS AGE web-0 1/1 Running 0 5m28s web-1 1/1 Running 0 5m21s web-2 1/1 Running 0 4m56s åå°å·²åˆ›å»ºä¸‰ä¸ªPVCï¼Œåç§°ç›¸åŒï¼Œä»¥åºå·æ’åºï¼Œä¾æ¬¡å’ŒPVåšç»‘å®šï¼š 1 2 3 4 NAME STATUS VOLUME CAPACITY ACCESS MODES STORAGECLASS AGE stor-web-0 Bound myPV1 1Gi RWO my-sc 65s stor-web-1 Bound myPV2 1Gi RWO my-sc 58s stor-web-2 Bound myPV3 1Gi RWO my-sc 33s ä½¿ç”¨nslookupæŸ¥çœ‹DNSè®°å½•ï¼Œå¯ä»¥çœ‹åˆ°å¯¹è¯¥æœåŠ¡çš„è®¿é—®ç›´æ¥æŒ‡å‘Podï¼š 1 2 3 4 5 Name: nginx Address 1: 10.244.1.99 web-2.nginx.default.svc.cluster.local Address 2: 10.244.2.120 web-0.nginx.default.svc.cluster.local Address 3: 10.244.0.25 web-1.nginx.default.svc.cluster.local å‰¯æœ¬ç®¡ç† æ‰©å®¹/ç¼©å®¹StatefulSetæŒ‡å¢åŠ æˆ–å‡å°‘å®ƒçš„å‰¯æœ¬æ•°ã€‚è¿™å¯ä»¥é€šè¿‡æ›´æ–°replicaså­—æ®µå®Œæˆã€‚\nå½“ç¼©å®¹StatefulSetæ—¶ï¼Œå¯ä»¥çœ‹åˆ°Podåœæ­¢çš„é¡ºåºä¸ºä»åºå·æœ€é«˜çš„å¼€å§‹é™åºç»ˆæ­¢ï¼Œå¹¶ä¸”åªæœ‰åœ¨å‰ä¸€ä¸ªpodè¢«å®Œå…¨ç»ˆæ­¢åï¼Œä¸‹ä¸€ä¸ªæ‰å¼€å§‹ç»ˆæ­¢ã€‚å‡çº§æ—¶ï¼Œä¹Ÿæ˜¯ä»¥ç›¸åŒé¡ºåºå¤„ç†ã€‚\nStatefulSetçš„å‰¯æœ¬ç®¡ç†ç”±StatefulSetæ§åˆ¶å™¨å®ç°çš„ã€‚è¿™ä¸€ç‚¹å¯é€šè¿‡æŸ¥çœ‹å¯¹åº”Podçš„ownerReferenceå­—æ®µæŸ¥çœ‹ï¼š\n1 2 3 4 5 6 7 8 ownerReferences: - apiVersion: apps/v1 blockOwnerDeletion: true controller: true kind: StatefulSet # kind: StatefulSet # name: web uid: 0230cddd-5746-4f20-82c5-25253180975e DaemonSet DaemonSetï¼ˆå®ˆæŠ¤è¿›ç¨‹é›†ï¼‰éƒ¨ç½²çš„å‰¯æœ¬Podä¼šåˆ†å¸ƒåœ¨å„ä¸ªNodeä¸Šã€‚å®ƒå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š\nç¡®ä¿æ¯ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…æœŸæœ›çš„èŠ‚ç‚¹ï¼ˆé€šè¿‡nodeSelectorå®ç°ï¼‰ä¸Šè¿è¡Œä¸€ä¸ªPodï¼› æ–°å¢èŠ‚ç‚¹æ—¶è‡ªåŠ¨éƒ¨ç½²ä¸€ä¸ªPodï¼› ç§»é™¤èŠ‚ç‚¹æ—¶è‡ªåŠ¨åˆ é™¤Podã€‚ é€šè¿‡yamlåˆ›å»ºDaemonSetçš„æ–¹å¼ä¸åˆ›å»ºDeploymentçš„æ–¹å¼ç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨äºï¼š\nkindé€‰æ‹©DeamonSetï¼› ä¸éœ€è¦è§„å®šreplicasé¡¹ã€‚ æ“ä½œæ­¥éª¤ï¼š åˆ›å»ºYaml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 apiVersion: app/v1 kind: DaemonSet metadata: name: nginx-daemonset spec: selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containors: - name: nginx image: nginx:1.7.9 ports: - containerPort: 80 åº”ç”¨é…ç½®æ–‡ä»¶ kubectl apply -f daemonset.yaml æŸ¥çœ‹åˆ›å»ºçš„Pod kubectl get pod -o wide å¦‚æœå°†ä¸€ä¸ªPodä»Nodeä¸Šåˆ é™¤ï¼Œä¼šè‡ªåŠ¨é‡å¯ä¸€ä¸ªæ–°çš„ å½“Kubernetesçš„Nodeå‡ºç°æ•…éšœæ—¶ï¼Œç›¸åº”çš„Podä¹Ÿå°†è¢«ç§»é™¤ï¼Œä¸ä¼šåœ¨å…¶ä»–çš„èŠ‚ç‚¹ä¸Šå¯åŠ¨æ–°çš„Podã€‚ Job / CronJob Jobä¸»è¦å¤„ç†ä¸€äº›çŸ­æš‚çš„ä¸€æ¬¡æ€§ä»»åŠ¡ï¼Œä»»åŠ¡ç»“æŸåèµ„æºé‡Šæ”¾ï¼Œä¸éœ€è¦ä¿è¯åº”ç”¨å¾—å®æ—¶å¯ç”¨ã€‚\nJobæ‰§è¡Œä¸€æ¬¡æ€§ä»»åŠ¡ï¼š\nkindï¼šé€‰æ‹©Jobã€‚ completionsï¼šå½“å‰çš„ä»»åŠ¡éœ€è¦æ‰§è¡Œçš„Podæ•°é‡ã€‚ parallelismï¼šè¡¨ç¤ºæœ€å¤šæœ‰å¤šå°‘ä¸ªå¹¶å‘æ‰§è¡Œçš„ä»»åŠ¡ã€‚ restartPolicyï¼šåªèƒ½é€‰æ‹©Neveræˆ–OnFailureã€‚ backoffLimitï¼šå‚æ•°æŒ‡å®šjobå¤±è´¥åè¿›è¡Œé‡è¯•çš„æ¬¡æ•°ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 apiVersion: batch/v1 kind: Job metadata: name: pi spec: completions: 1 parallelism: 1 backoffLimit: 3 template: #Pod æ¨¡æ¿ spec: containers: - name: pi image: perl:latest command: [\u0026#34;perl\u0026#34;, \u0026#34;-Mbignum=bpi\u0026#34;, \u0026#34;-wle\u0026#34;, \u0026#34;print bpi(200)\u0026#34;] restartPolicy: onFailure åº”ç”¨ä¸Šè¿°YAML kubectl apply -f job.yaml æŸ¥çœ‹Job kubectl get job å½“è¿è¡Œç»“æŸåJobä¼šè‡ªåŠ¨è¢«åœæ­¢å¹¶æ¸…ç†ã€‚ CronJob CronJobæ˜¯ä¸€ç§ç‰¹æ®Šçš„Jobï¼Œä¸»è¦å¤„ç†å‘¨æœŸæ€§æˆ–è€…é‡å¤æ€§çš„ä»»åŠ¡ã€‚\nCronJobæ˜¯ä¸€ç§ç‰¹æ®Šçš„Jobï¼Œå®ƒèƒ½å¤ŸæŒ‰ç…§æ—¶é—´å¯¹ä»»åŠ¡è¿›è¡Œè°ƒåº¦ï¼Œä¸æˆ‘ä»¬ç†Ÿæ‚‰çš„crontabéå¸¸ç›¸ä¼¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Cronæ ¼å¼å¿«é€ŸæŒ‡å®šä»»åŠ¡çš„è°ƒåº¦æ—¶é—´ï¼š\nåœ¨ç»™å®šæ—¶é—´ç‚¹åªè¿è¡Œä¸€æ¬¡ï¼› åœ¨ç»™å®šæ—¶é—´ç‚¹å‘¨æœŸæ€§åœ°è¿è¡Œã€‚ Scheduleæ ¼å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 ä¸Linux Crontab çš„è¯­æ³•ä¸€è‡´ã€‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ† (0 - 59) â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¶ (0 - 23) â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æœˆä¸­çš„å¤© (1 - 31) â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æœˆä»½ (1 - 12) â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å‘¨å‡  (0 - 6) (å‘¨æ—¥å¼€å§‹ï¼Œéƒ¨åˆ†ç³»ç»Ÿä¸­7æ˜¯å‘¨æ—¥) â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ * * * * * 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 apiVersion: batch/v1 kind: Job metadata: name: pi spec: schedule: \u0026#34;*/1 * * * *\u0026#34; # ä¸Corndçš„è¯­æ³•ä¿æŒä¸€è‡´ jobTemplate: # Jobæ¨¡æ¿ completions: 1 parallelism: 1 backoffLimit: 3 template: spec: # Podæ¨¡æ¿ containers: - name: pi image: perl:latest command: [\u0026#34;perl\u0026#34;, \u0026#34;-Mbignum=bpi\u0026#34;, \u0026#34;-wle\u0026#34;, \u0026#34;print bpi(200)\u0026#34;] restartPolicy: onFailure æ ¹æ®yamlåˆ›å»ºCronJobå¯¹è±¡ä¹‹åï¼Œæ¯åˆ†é’Ÿéƒ½ä¼šåˆ›å»ºæ–°çš„Jobå¯¹è±¡ï¼Œæ‰€æœ‰çš„CronJobåˆ›å»ºçš„ä»»åŠ¡éƒ½ä¼šå¸¦æœ‰è°ƒåº¦æ—¶çš„æ—¶é—´æˆ³ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 $ kubectlget cronjob--watch NAME SCHEDULE SUSPEND ACTIVE LAST SCHEDULE AGE pi */1 * * * * False 0 \u0026lt;none\u0026gt; 3s pi */1 * * * * False 1 1s 7s $ kubectlget job --watch NAME COMPLETIONS DURATION AGE pi-1551660600 0/3 0s 0s pi-1551660600 1/3 16s 16s pi-1551660600 2/3 31s 31s pi-1551660600 3/3 44s 44s pi-1551660660 0/3 1s pi-1551660660 0/3 1s 1s pi-1551660660 1/3 14s 14s pi-1551660660 2/3 28s 28s pi-1551660660 3/3 42s 43s ","date":"2024-08-05T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/kubernetes%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%8D%95%E5%85%83-%E5%B7%A5%E4%BD%9C%E8%B4%9F%E8%BD%BD/","title":"Kubernetesçš„æœåŠ¡å•å…ƒ - å·¥ä½œè´Ÿè½½"},{"content":"Kubernetesçš„æ ¸å¿ƒ - Pod åœ¨Kubernetesä¸­ï¼Œpodsæ˜¯èƒ½å¤Ÿåˆ›å»ºã€è°ƒåº¦ã€å’Œç®¡ç†çš„æœ€å°éƒ¨ç½²å•å…ƒï¼Œæ˜¯ä¸€ç»„å®¹å™¨çš„é›†åˆï¼Œè€Œä¸æ˜¯å•ç‹¬çš„åº”ç”¨å®¹å™¨ã€‚\nåŒä¸€ä¸ªPodé‡Œçš„å®¹å™¨å…±äº«åŒä¸€ä¸ªç½‘ç»œå‘½åç©ºé—´ï¼ŒIPåœ°å€åŠç«¯å£ç©ºé—´ã€‚\nä»ç”Ÿå‘½å‘¨æœŸæ¥è¯´ï¼ŒPodæ˜¯çŸ­æš‚çš„è€Œä¸æ˜¯é•¿ä¹…çš„åº”ç”¨ã€‚Podsè¢«è°ƒåº¦åˆ°èŠ‚ç‚¹ï¼Œä¿æŒåœ¨è¿™ä¸ªèŠ‚ç‚¹ä¸Šç›´åˆ°è¢«é”€æ¯ã€‚\nä¸‹é¢æ˜¯ä¸€ä¸ªå®šä¹‰Podçš„åŸºæœ¬è¦ç´ ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 apiVersion: v1 kind: Pod metadata: name: redis-django label: app: webapp spec: containers: - name: key-value-store image: redis - name: frontend iamge: django Podçš„ç”Ÿå‘½å‘¨æœŸ Podçš„statuså­—æ®µæ˜¯ä¸€ä¸ªPodStatuså¯¹è±¡ï¼ŒPodStatusä¸­æœ‰ä¸€ä¸ªphaseå­—æ®µã€‚phaseæ˜¯Podåœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­çš„ç®€å•å®è§‚æ¦‚è¿°ã€‚\nPodStatuså¯¹è±¡è¿˜åŒ…å«ä¸€ä¸ªPodConditionã€‚æ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¸€ä¸ªtypeå­—æ®µå’Œä¸€ä¸ªstatuså­—æ®µã€‚ typeå­—æ®µæ˜¯å­—ç¬¦ä¸²ï¼Œå¯èƒ½çš„å€¼æœ‰\nPodScheduled Ready Initialized Unschedulable ContainersReadyã€‚ statuså­—æ®µæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯èƒ½çš„å€¼æœ‰\nTrue False Unknown å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸå’Œé‡å¯ç­–ç•¥ ä¸€æ—¦è°ƒåº¦å™¨å°†Podåˆ†æ´¾ç»™æŸä¸ªèŠ‚ç‚¹ï¼Œkubeletå°±é€šè¿‡runtimeä¸ºPodåˆ›å»ºå®¹å™¨ã€‚è¦æ£€æŸ¥Podä¸­å®¹å™¨çš„çŠ¶æ€ï¼Œä½ å¯ä»¥ä½¿ç”¨kubectl describe pod \u0026lt;pod åç§°\u0026gt;ã€‚\nå®¹å™¨çš„çŠ¶æ€æœ‰ä¸‰ç§ï¼š\nWaiting ï¼ˆç­‰å¾…ï¼‰ Runningï¼ˆè¿è¡Œä¸­ï¼‰ Terminatedï¼ˆå·²ç»ˆæ­¢ï¼‰ å¦‚æœå®¹å™¨ä¸­çš„è¿›ç¨‹èƒ½å¤Ÿåœ¨é‡åˆ°é—®é¢˜æˆ–ä¸å¥åº·çš„æƒ…å†µä¸‹è‡ªè¡Œå´©æºƒï¼Œkubeletå°†æ ¹æ®Podçš„restartPolicyè‡ªåŠ¨æ‰§è¡Œä¿®å¤æ“ä½œã€‚æ­¤å­—æ®µå¯èƒ½å–å€¼åŒ…æ‹¬Alwaysã€OnFailureå’ŒNeverï¼Œé»˜è®¤å€¼æ˜¯Alwaysã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 apiVersion: v1 kind: Pod metadata: name: command-demo labels: purpose: demonstrate-command spec: containers: - name: command-demo-container image: debian command: [\u0026#34;printenv\u0026#34;] args: [\u0026#34;HOSTNAME\u0026#34;, \u0026#34;KUBERNETES_PORT\u0026#34;] restartPolicy: Always å®¹å™¨ Infra/PauseContainerï¼š åŸºç¡€å®¹å™¨, podä¸­æ‰€æœ‰å®¹å™¨çš„çˆ¶å®¹å™¨ï¼Œä¸ºå…¶ä»–å®¹å™¨æä¾›å…±äº«çš„å‘½åç©ºé—´å’Œç½‘ç»œç©ºé—´\nç”¨æˆ·ä¸å¯è§ï¼Œæ— éœ€æ„ŸçŸ¥ã€‚ InitContainersï¼š åˆå§‹åŒ–å®¹å™¨ï¼Œä¸€èˆ¬ç”¨äºæœåŠ¡ç­‰å¾…å¤„ç†ä»¥åŠæ³¨å†ŒPodä¿¡æ¯ç­‰ã€‚\nå…ˆäºä¸šåŠ¡å®¹å™¨å¼€å§‹æ‰§è¡Œï¼› é¡ºåºæ‰§è¡Œï¼Œæ‰§è¡ŒæˆåŠŸé€€å‡ºï¼ˆexit 0ï¼‰ï¼Œå…¨éƒ¨æ‰§è¡ŒæˆåŠŸåå¼€å§‹å¯åŠ¨ä¸šåŠ¡å®¹å™¨ã€‚ Containersï¼š ä¸šåŠ¡å®¹å™¨ã€‚\nå¹¶è¡Œå¯åŠ¨ï¼Œå¯åŠ¨æˆåŠŸåä¸€ç›´Runningã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 apiVersion: v1 kind: Pod metadata: name: myapp-pod label: app: myapp spec: initContainers: - name: init-container image: busybox command: [\u0026#39;sh\u0026#39;, \u0026#39;-c\u0026#39;, \u0026#39;until nslookup myservice; do echo waiting for myservice; sleep 2; done;\u0026#39;] - name: init-mydb image: busybox command: - sh - -c - until nslookup mydb; do echo waiting for mydb; sleep 2; done; containers: - name: myapp-container image: busybox command: [\u0026#39;sh\u0026#39;, \u0026#39;-c\u0026#39;, \u0026#39;echo The App is Running ... \u0026amp;\u0026amp; sleep 3600\u0026#39;] å¯åŠ¨å‘½ä»¤ åœ¨åˆ›å»ºPodæ—¶ï¼Œå¯ä»¥ä¸ºå…¶ä¸‹çš„å®¹å™¨è®¾ç½®å¯åŠ¨æ—¶è¦æ‰§è¡Œçš„å‘½ä»¤å’Œå‚æ•°ã€‚\nå¯åŠ¨å‘½ä»¤ï¼š\ncommand: è®¾ç½®å‘½ä»¤ï¼Œæ›¿æ¢é•œåƒä¸­çš„entrypointå’ŒCMDã€‚ args: è®¾ç½®å‘½ä»¤çš„å‚æ•°ï¼Œä½œä¸ºentrypointçš„å…¥å‚ã€‚ æŸ¥çœ‹ç»“æœï¼š é€šè¿‡Podçš„æ—¥å¿—è¿›è¡ŒæŸ¥çœ‹ï¼š$ kubectl logs command-demo\né•œåƒ Image: é•œåƒåç§°å¯ä»¥åŒ…å«æ‰€åœ¨ä»“åº“çš„ä¸»æœºååŠæŒ‡å®šç‰ˆæœ¬çš„æ ‡ç­¾ã€‚è‹¥ä¸æŒ‡å®šä»“åº“çš„ä¸»æœºåå’Œæ ‡ç­¾ï¼ŒKubernetesé»˜è®¤ä½¿ç”¨Dockerå…¬å…±ä»“åº“ï¼Œæ‹‰å–æœ€æ–°ç‰ˆæœ¬é•œåƒï¼ˆ:latestï¼‰ã€‚\nimagePullSecret: è‹¥Podåˆ›å»ºéœ€ä»ç§æœ‰ä»“åº“è¯»å–é•œåƒï¼Œåˆ™å¯é€šè¿‡é…ç½®æ­¤å­—æ®µæä¾›ä»“åº“çš„è®¿é—®å‡­è¯ã€‚ä¸ºä¿è¯å‡­æ®æ–‡ä»¶çš„å®‰å…¨ï¼Œå¯äº‹å…ˆå°†å…¶åˆ›å»ºä¸ºSecretå†è¿›è¡Œå¼•ç”¨ã€‚\nimagePullPolicy: é•œåƒæ‹‰å–ç­–ç•¥ã€‚\nIfNotPresentï¼šä¼˜å…ˆä½¿ç”¨æœ¬åœ°é•œåƒã€‚ Alwaysï¼šæ¯æ¬¡å®¹å™¨å¯åŠ¨æ—¶éƒ½ä»é•œåƒåº“æ‹‰å–é•œåƒã€‚ Neverï¼šä»…ä½¿ç”¨æœ¬åœ°é•œåƒã€‚ å¤–éƒ¨è¾“å…¥ Podå¯ä»¥æ¥æ”¶å¤–éƒ¨è¾“å…¥çš„æ–¹å¼ï¼š ç¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶å’Œå¯†é’¥ã€‚\nenv: ç¯å¢ƒå˜é‡ï¼Œä½¿ç”¨ç®€å•ï¼Œä½†ä¸€ä½†æ›´æ”¹å®¹å™¨å¿…é¡»é‡å¯ã€‚ - key-valueç›´æ¥å®šä¹‰ã€‚ - valueFromé…ç½®æ–‡ä»¶(ConfigMap)æˆ–å¯†é’¥(Secret)ã€‚\nvolume: ä»¥å·å½¢å¼æŒ‚è½½åˆ°å®¹å™¨å†…ä½¿ç”¨ï¼Œæƒé™å¯æ§ã€‚ é…ç½®æ–‡ä»¶(ConfigMap)æˆ–å¯†é’¥(Secret).\nPodé…ç½®æ–‡ä»¶çš„éƒ¨åˆ†ç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 ... spec: containers: env: - name: APP_NAME value: test - name: USER_NAME valueFrom: secretKey: key: username name: secret volumeMounts: mountPath: /config name: cfg volumes: name: cfg configMap: name: config items: - key: age path: age æ¢é’ˆ(Probe) æ¢é’ˆï¼ˆProbeï¼‰æ˜¯ç”±kubeletå¯¹å®¹å™¨æ‰§è¡Œçš„å®šæœŸè¯Šæ–­ã€‚è¯Šæ–­æ–¹å¼ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š\nExecActionï¼šåœ¨å®¹å™¨å†…æ‰§è¡ŒæŒ‡å®šå‘½ä»¤ã€‚å¦‚æœå‘½ä»¤é€€å‡ºæ—¶è¿”å›ç ä¸º0åˆ™è®¤ä¸ºè¯Šæ–­æˆåŠŸã€‚ TCPSocketActionï¼šå¯¹æŒ‡å®šç«¯å£ä¸Šçš„å®¹å™¨çš„IPåœ°å€è¿›è¡ŒTCPæ£€æŸ¥ã€‚å¦‚æœç«¯å£æ‰“å¼€ï¼Œåˆ™è¯Šæ–­æˆåŠŸã€‚ HTTPGetActionï¼šå¯¹æŒ‡å®šçš„ç«¯å£å’Œè·¯å¾„ä¸Šçš„å®¹å™¨çš„IPåœ°å€æ‰§è¡ŒHTTP Getè¯·æ±‚ã€‚å¦‚æœå“åº”çš„çŠ¶æ€ç å¤§äºç­‰äº200ä¸”å°äº400ï¼Œåˆ™è¯Šæ–­æˆåŠŸã€‚ Kubeletå¯ä»¥äºPodæ‰§è¡Œçš„ä¸¤ç§æ¢é’ˆç±»å‹ä¸ºï¼š\nå­˜æ´»æ¢é’ˆï¼ˆlivenessProbeï¼‰ï¼šæŒ‡ç¤ºå®¹å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œã€‚å¦‚æœå­˜æ´»æ¢æµ‹å¤±è´¥ï¼Œåˆ™kubeletä¼šæ€æ­»å®¹å™¨ï¼Œå¹¶ä¸”å®¹å™¨å°†å—åˆ°å…¶é‡å¯ç­–ç•¥çš„å½±å“ã€‚ å°±ç»ªæ¢é’ˆï¼ˆreadinessProbeï¼‰ï¼šæŒ‡ç¤ºå®¹å™¨æ˜¯å¦å‡†å¤‡å¥½æœåŠ¡è¯·æ±‚ã€‚å¦‚æœå°±ç»ªæ¢æµ‹å¤±è´¥ï¼ŒEndpoint Controllerå°†ä»ä¸PodåŒ¹é…çš„æ‰€æœ‰Serviceçš„Endpointsä¸­åˆ é™¤è¯¥Podçš„IPåœ°å€ã€‚ ç”¨æˆ·é€šè¿‡spec.container.livenessProbeï¼ˆæˆ–spec.container.readinessProbeï¼‰å­—æ®µè®¾ç½®æ¢é’ˆã€‚Probesæ¶‰åŠçš„å­—æ®µå¦‚ä¸‹ï¼š\ninitialDelaySecondsï¼šå®¹å™¨å¯åŠ¨åè¦ç­‰å¾…å¤šå°‘ç§’åå­˜æ´»å’Œå°±ç»ªæ¢æµ‹å™¨æ‰è¢«åˆå§‹åŒ–ã€‚é»˜è®¤å€¼ä¸º10ã€‚ periodSecondsï¼šæ‰§è¡Œæ¢æµ‹çš„æ—¶é—´é—´éš”ï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚é»˜è®¤å€¼ä¸º1ã€‚ successThresholdï¼šæ¢æµ‹å™¨åœ¨å¤±è´¥åï¼Œè¢«è§†ä¸ºæˆåŠŸçš„æœ€å°è¿ç»­æˆåŠŸæ•°ã€‚é»˜è®¤å€¼ä¸º1ã€‚ failureThresholdï¼šå½“æ¢æµ‹å¤±è´¥æ—¶ï¼ŒKubernetesçš„é‡è¯•æ¬¡æ•°ã€‚å­˜æ´»æ¢æµ‹æƒ…å†µä¸‹çš„æ”¾å¼ƒå°±æ„å‘³ç€é‡æ–°å¯åŠ¨å®¹å™¨ã€‚å°±ç»ªæ¢æµ‹æƒ…å†µä¸‹çš„æ”¾å¼ƒPodä¼šè¢«æ‰“ä¸Šæœªå°±ç»ªçš„æ ‡ç­¾ã€‚é»˜è®¤å€¼ä¸º3ã€‚ æ¢é’ˆçš„ç¤ºä¾‹é…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 # å­˜æ´»æ¢é’ˆ - æ£€æŸ¥æ–‡ä»¶/tmp/healthy æ˜¯å¦å­˜åœ¨ (å®¹å™¨å¯åŠ¨5såå¼€å§‹ï¼Œæ¯æ¬¡é—´éš”5s) livenessProbe: exec: command: [\u0026#34;cat\u0026#34;, \u0026#34;/tmp/healthy\u0026#34;] initialDelaySeconds: 5 periodSecond: 5 # å°±ç»ªæ¢é’ˆ - æ£€æŸ¥ç«¯å£8080æ˜¯å¦å¼€æ”¾(å®¹å™¨å¯åŠ¨å5så¼€å§‹ï¼Œæ¯æ¬¡é—´éš”10s) readinessProbe: tcpSocket: port: 8080 initialDelaySeconds: 5 periodSecond: 10 # å­˜æ´»æ¢é’ˆ - æ£€æŸ¥http://lo:8080/healthzçš„çŠ¶æ€ç æ˜¯å¦åœ¨200-399ä¹‹é—´ livenessProbe: httpGet: path: /healthz port: 8080 httpHeaders: - name: Custom-Header value: Awesome initialDelaySeconds: 3 periodSeconds: 3 èµ„æºé™åˆ¶ - limit Kubernetesçš„èµ„æºé™åˆ¶æ˜¯é€šè¿‡æ¯ä¸ªå®¹å™¨containerSpecçš„resourceså­—æ®µè¿›è¡Œè®¾ç½®çš„ã€‚\nCPUèµ„æºï¼š\nå•ä½ï¼šä»¥CPUä¸ºå•ä½ï¼Œä¹Ÿæ”¯æŒå¸¦å°æ•°å€¼çš„ä½¿ç”¨ï¼Œå¦‚ï¼šcpu: â€œ0.5â€æˆ–cpu:500mã€‚ CPUè¯·æ±‚ï¼ˆrequestï¼‰ï¼šåˆ›å»ºå®¹å™¨æ—¶é¢„åˆ†é…çš„CPUèµ„æºã€‚ CPUé™åˆ¶ï¼ˆlimitï¼‰ï¼šCPUçš„èµ„æºä¸Šé™ã€‚ å†…å­˜èµ„æºï¼š\nå•ä½ï¼šä»¥å­—èŠ‚ï¼ˆbyteï¼‰ä¸ºå•ä½ï¼Œå¯è¡¨ç¤ºä¸ºçº¯æ•´æ•°æˆ–å®šç‚¹æ•´æ•°ï¼šEã€Pã€Tã€Gã€Mã€Kæˆ–Eiã€Piã€Tiã€Giã€Miã€Kiã€‚ å†…å­˜è¯·æ±‚ï¼ˆrequestï¼‰ï¼šåˆ›å»ºå®¹å™¨æ—¶é¢„åˆ†é…çš„å†…å­˜èµ„æºã€‚ å†…å­˜é™åˆ¶ï¼ˆlimitï¼‰ï¼šå†…å­˜çš„èµ„æºä¸Šé™ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 spec: containers: - image: nginx name: nginx ports: - containerPort: 80 resources: requests: memory: \u0026#34;100Mi\u0026#34; cpu: \u0026#34;250m\u0026#34; limits: memory: \u0026#34;200Mi\u0026#34; cpu: \u0026#34;500m\u0026#34; ","date":"2024-08-05T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/kubernetes%E7%9A%84%E6%A0%B8%E5%BF%83-pod/","title":"Kubernetesçš„æ ¸å¿ƒ - Pod"},{"content":"Kubernetesè°ƒåº¦æµç¨‹åŠç­–ç•¥ åœ¨Kubernetesä¸­ï¼Œè°ƒåº¦æ˜¯æŒ‡å°†Podæ”¾ç½®åˆ°åˆé€‚çš„Nodeä¸Šï¼Œç„¶åå¯¹åº”Nodeä¸Šçš„Kubeletæ‰èƒ½å¤Ÿè¿è¡Œè¿™äº›podã€‚\nPredicates vs. Priorities Predicateså‡½æ•° å…ˆäºPriorityå‡½æ•°æ‰§è¡Œï¼Œç”¨äºç¡¬æ¡ä»¶è¿‡æ»¤ã€‚å¸¸è§ç­–ç•¥å¦‚ï¼š\nCheckNodeCondition: æ£€æŸ¥Nodeæ˜¯å¦ç¬¦åˆè°ƒåº¦æ¡ä»¶ã€‚ HostNameï¼šæ£€æŸ¥Nodeçš„åç§°æ˜¯å¦ä¸ºPodçš„æŒ‡å®šçš„Hostnameã€‚ MatchNodeSeletctorï¼šæ£€æŸ¥Nodeçš„æ ‡ç­¾æ˜¯å¦æ»¡è¶³Podçš„nodeSelectorå±æ€§hardé€‰æ‹©å™¨éœ€æ±‚ã€‚requiredDuringSchedulingIgnoredDuringExecution PodFitsResourcesï¼šæ£€æŸ¥Nodeçš„èµ„æºæ˜¯å¦æ»¡è¶³Podçš„éœ€æ±‚ã€‚ Taint\u0026amp;Tolerationï¼šPodå®¹å¿åº¦è®¾ç½®NoScheduleæˆ–NoExecuteï¼Œç”¨æ¥é¿å…Podè¢«åˆ†é…åˆ°ä¸åˆé€‚çš„èŠ‚ç‚¹ä¸Šã€‚ Prioritieså‡½æ•° å°†Predicateå‡½æ•°æ‰§è¡Œç»“æœè¿›è¡Œè®¡ç®—è¯„åˆ†åæ’åºï¼Œå¾—åˆ†æœ€é«˜Nodeè¿›è¡ŒPodè°ƒåº¦ã€‚å¸¸è§ç­–ç•¥å¦‚ï¼š\nLeastRequestedï¼šæŒ‰ç©ºé—²åº¦ï¼ˆç©ºé—²å®¹é‡/æ€»å®¹é‡ï¼‰è¿›è¡ŒNodeæ’åºã€‚ BalanceResourceAllocationï¼šèµ„æºå‡åŒ€åˆ†å¸ƒï¼Œå¿…é¡»ä¸LeastRequestedåŒæ—¶ä½¿ç”¨ã€‚ SelectorSpreadingï¼šå¯¹äºå±äºåŒä¸€ä¸ªserviceã€rcçš„Podï¼Œå°½é‡åˆ†æ•£åœ¨ä¸åŒçš„ä¸»æœºä¸Šã€‚ NodeAffinityï¼šæ£€æŸ¥Nodeçš„æ ‡ç­¾æ˜¯å¦æ»¡è¶³Podçš„nodeSelectorå±æ€§softé€‰æ‹©å™¨éœ€æ±‚ã€‚preferresDuringSchedulingIgnoredDuringExecution Taint\u0026amp;Tolerationï¼šPodå®¹å¿åº¦è®¾ç½®PreferNoScheduleã€‚ NodeName Kubernetesæ”¯æŒå¤šç§è‡ªå®šä¹‰è°ƒåº¦æ–¹å¼ï¼ŒæŒ‡å®šNodeNameè°ƒåº¦æ˜¯æœ€ç®€å•çš„ä¸€ç§ï¼Œå¯ä»¥å°†Podè°ƒåº¦åˆ°æœŸæœ›çš„èŠ‚ç‚¹ä¸Šã€‚\né€šè¿‡spec.spec.nodeNameå­—æ®µå¼ºåˆ¶çº¦æŸå°†Podè°ƒåº¦åˆ°æŒ‡å®šçš„NodeèŠ‚ç‚¹ä¸Šï¼Œè¿™é‡Œè¯´æ˜¯â€œè°ƒåº¦â€ï¼Œä½†å…¶å®æŒ‡å®šäº†nodeNameçš„Podä¼šç›´æ¥è·³è¿‡Schedulerçš„è°ƒåº¦é€»è¾‘ï¼Œç›´æ¥å†™å…¥PodListåˆ—è¡¨ï¼Œè¯¥åŒ¹é…è§„åˆ™æ˜¯å¼ºåˆ¶åŒ¹é…ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 apiVersion: extensions/v1beta1 kind: Deployment metadata: name: tomcat-deploy spec: replicas: 1 template: metadata: labels: app: tomcat-app spec: nodeName: k8s.node1 #æŒ‡å®šè°ƒåº¦èŠ‚ç‚¹ä¸ºk8s.node1 containers: - name: tomcat image: tomcat:8.0 ports: - containerPort: 8080 nodeSelector é€šè¿‡kubernetesçš„label-selectoræœºåˆ¶è¿›è¡ŒèŠ‚ç‚¹é€‰æ‹©ï¼Œç”±schedulerè°ƒåº¦ç­–ç•¥MatchNodeSelectorè¿›è¡ŒlabelåŒ¹é…ï¼Œè°ƒåº¦podåˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œå¯ç”¨NodeSelectorçš„æ­¥éª¤ä¸ºï¼š\nä¸ºæŒ‡å®šNodeæ·»åŠ labelæ ‡è®°ã€‚ Podå®šä¹‰spec.nodeSelectorå­—æ®µï¼ŒæŒ‡å®škey-valueé”®å€¼ã€‚ $ kubectl label nodes k8s.node1 App=tomcat Phase=prod\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 apiVersion: extensions/v1beta1 kind: Deployment metadata: name: tomcat-deploy spec: replicas: 1 template: metadata: labels: app: tomcat-app spec: nodeSelector: - App: tomcat - Phase: prod #æŒ‡å®šè°ƒåº¦èŠ‚ç‚¹ä¸ºå¸¦æœ‰labelæ ‡è®°ä¸ºï¼šApp=tomcat, Phase=prodçš„nodeèŠ‚ç‚¹ containers: - name: tomcat image: tomcat:8.0 ports: - containerPort: 8080 nodeAffinity ç›¸è¾ƒnodeNameå’ŒnodeSelectorï¼ŒAffinity/Anti-affinityæå¤§åœ°æ‹“å±•äº†å¯ä»¥è¡¨è¾¾çš„çº¦æŸç±»å‹ï¼Œè¯­æ³•æ›´çµæ´»ï¼Œä¸ä»…ä»…æ”¯æŒâ€œä¸â€ï¼ˆANDï¼‰ï¼Œä¸”å¯ä»¥æŒ‡æ˜éå¼ºåˆ¶è§„åˆ™ï¼ˆpreferredï¼‰ï¼Œä»¥åŠä½ å¯ä»¥ä½¿ç”¨æ‹“æ‰‘åˆ†å¸ƒæ¥çº¦æŸPodåœ¨é›†ç¾¤å†…çš„åˆ†å¸ƒã€‚\nç›®å‰æ”¯æŒä¸¤ç§ç±»å‹çš„Node Affinityï¼Œå¯ä»¥è§†å®ƒä»¬ä¸ºâ€œç¡¬éœ€æ±‚â€å’Œâ€œè½¯éœ€æ±‚â€ã€‚\nrequiredDuringSchedulingIgnoredDuringExecution \u0026amp;\u0026amp; preferredDuringSchedulingIgnoredDuringExecution\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 apiVersion: v1 kind: Pod metadata: name: with-node-affinity spec: affinity: # äº²å’Œå…³ç³» nodeAffinity: # èŠ‚ç‚¹äº²å’Œ requiredDuringSchedulingIgnoredDuringExecution: # ç¡¬éœ€æ±‚ - å¼ºåˆ¶éœ€è¦ nodeSelectorTerms: - matchExpressions: - key: kubernetes.io/os operator: In values: linux preferredDuringSchedulingIgnoredDuringExecution: # è½¯éœ€æ±‚ - ä¼˜å…ˆéœ€è¦ - weight: 1 preference: matchExpressions: - key: another-node-label-key operator: In values: another-node-label-value containers: - name: with-node-affinity image: k8s.gcr.io/pause:2.0 PodAffinity Podaffinity/anti-affinityè®©æˆ‘ä»¬åŸºäºPodæ ‡ç­¾ï¼Œè€Œä¸æ˜¯åŸºäºèŠ‚ç‚¹ä¸Šçš„æ ‡ç­¾æ¥çº¦æŸPodå¯ä»¥è°ƒåº¦åˆ°çš„èŠ‚ç‚¹ã€‚ä¸èŠ‚ç‚¹äº²å’Œæ€§ä¸€æ ·ï¼Œå½“å‰æœ‰ä¸¤ç§ç±»å‹çš„podAffinity:\nrequiredDuringSchedulingIgnoredDuringExecution preferredDuringSchedulingIgnoredDuringExecution Podé—´äº²å’Œæ€§é€šè¿‡pod.specä¸­affinityå­—æ®µä¸‹çš„podAffinityå­—æ®µè¿›è¡ŒæŒ‡å®šï¼›è€ŒPodé—´åäº²å’Œæ€§é€šè¿‡pod.specä¸­affinityå­—æ®µä¸‹çš„podAntiAffinityå­—æ®µè¿›è¡ŒæŒ‡å®šã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 spec: affinity: podAffinity: requiredDuringSchedulingIgnoredDuringExecution: - labelSelector: matchExpressions: - key: security operator: In values: S1 topologyKey: topology.kubernetes.io/zone podAntiAffinity: preferredDuringSchedulingIgnoredDuringExecution: - weight: 100 podAffinityTerm: labelSelector: matchExpressions: - key: security operator: In values: S2 topologyKey: topology.kubernetes.io/zone Taint(æ±¡ç‚¹) \u0026amp; Toleration(å®¹å¿åº¦) èŠ‚ç‚¹äº²å’Œæ€§æ˜¯Podçš„ä¸€ç§å±æ€§ï¼Œå®ƒèƒ½è®©Podè¢«è°ƒåº¦åˆ°ä¸€ç±»ç‰¹å®šçš„èŠ‚ç‚¹ä¸Šã€‚è€Œæ±¡ç‚¹åˆ™ç›¸åï¼Œå®ƒä½¿èŠ‚ç‚¹æ’æ–¥ä¸€ç±»ç‰¹å®šçš„Podï¼ˆç”±å®¹å¿åº¦å†³å®šï¼‰ï¼Œä»è€Œé¿å…Podè°ƒåº¦åˆ°è¯¥èŠ‚ç‚¹ä¸Šã€‚\næ±¡ç‚¹ï¼ˆTaintï¼‰ï¼š æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½å¯ä»¥åº”ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªæ±¡ç‚¹ï¼Œæ±¡ç‚¹æ˜¯ä¸â€œæ•ˆæœâ€ç›¸å…³è”çš„é”®å€¼å¯¹ï¼Œæ•ˆæœåŒ…æ‹¬ï¼š\nNoScheduleï¼šä¸èƒ½å®¹å¿æ­¤æ±¡ç‚¹çš„Podä¸ä¼šè¢«è°ƒåº¦åˆ°èŠ‚ç‚¹ä¸Šï¼›ç°æœ‰Podä¸ä¼šä»èŠ‚ç‚¹ä¸­é€å‡ºã€‚ PreferNoScheduleï¼šKubernetesä¼šé¿å…å°†ä¸èƒ½å®¹å¿æ­¤æ±¡ç‚¹çš„Podå®‰æ’åˆ°èŠ‚ç‚¹ä¸Šã€‚ NoExecuteï¼šå¦‚æœPodå·²åœ¨èŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œåˆ™ä¼šå°†è¯¥Podä»èŠ‚ç‚¹ä¸­é€å‡ºï¼›å¦‚æœå°šæœªåœ¨èŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œåˆ™ä¸ä¼šå°†å…¶å®‰æ’åˆ°èŠ‚ç‚¹ä¸Šã€‚ å®¹å¿åº¦ï¼ˆTolerationsï¼‰ï¼š å®¹å¿åº¦åº”ç”¨äºPodä¸Šï¼Œå…è®¸ï¼ˆä½†å¹¶ä¸è¦æ±‚ï¼‰Podè°ƒåº¦åˆ°å¸¦æœ‰ä¸ä¹‹åŒ¹é…çš„æ±¡ç‚¹çš„èŠ‚ç‚¹ä¸Šã€‚\næ“ä½œæ–¹æ³•ï¼š é€šè¿‡kubectlç»™Node1å¢åŠ æ±¡ç‚¹ï¼š\n$ kubectl taint nodes node1 key1=value1:NoSchedule\nç§»é™¤ä¸Šè¿°æ±¡ç‚¹ï¼š\n$ kubectl taint nodes node1 key1=value1:NoSchedule-\næˆ‘ä»¬å¯ä»¥åœ¨pod.specä¸­å®šä¹‰Podçš„å®¹å¿åº¦ã€‚ä¸‹é¢2ä¸ªçš„å¿åº¦å‡ä¸ä¸Šé¢ä¾‹å­ä¸­ä½¿ç”¨kubectl taintå‘½ä»¤åˆ›å»ºçš„æ±¡ç‚¹ç›¸åŒ¹é…ï¼Œå› æ­¤å¦‚æœä¸€ä¸ªPodæ‹¥æœ‰å…¶ä¸­çš„ä»»ä½•ä¸€ä¸ªå®¹å¿åº¦éƒ½èƒ½å¤Ÿè¢«åˆ†é…åˆ°node1ã€‚\n1 2 3 4 5 6 7 8 9 Kind: Pod ... spec: tolerations: - key: \u0026#34;key1\u0026#34; operator: \u0026#34;Equal\u0026#34; value: \u0026#34;value1\u0026#34; effect: \u0026#34;NoSchedule\u0026#34; ... 1 2 3 4 tolerations: - key: \u0026#34;key1\u0026#34; operator: \u0026#34;Exists\u0026#34; effect: \u0026#34;NoSchedule\u0026#34; ","date":"2024-08-05T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/kubernetes%E8%B0%83%E5%BA%A6%E6%B5%81%E7%A8%8B%E5%8F%8A%E7%AD%96%E7%95%A5/","title":"Kubernetesè°ƒåº¦æµç¨‹åŠç­–ç•¥"},{"content":"Kubernetesæ¦‚è§ˆ Kubernetesæ˜¯Googleå¼€æºçš„å®¹å™¨é›†ç¾¤ç®¡ç†ç³»ç»Ÿï¼›å®ƒæ„å»ºåœ¨å®¹å™¨æŠ€æœ¯ä¹‹ä¸Šï¼Œä¸ºå®¹å™¨åŒ–çš„åº”ç”¨æä¾›èµ„æºè°ƒåº¦ï¼Œéƒ¨ç½²è¿è¡Œï¼ŒæœåŠ¡å‘ç°ï¼Œæ‰©å®¹ç¼©å®¹ç­‰ä¸€æ•´å¥—åŠŸèƒ½ï¼Œæœ¬è´¨ä¸Šæ˜¯åŸºäºå®¹å™¨æŠ€æœ¯çš„Micro-PaaSå¹³å°ï¼ŒKubernetesçš„çµæ„Ÿæ¥æºäºGoogleå†…éƒ¨çš„Borgç³»ç»Ÿã€‚\nKuberneteså°†å®¹å™¨å®¿ä¸»æœºç»„æˆé›†ç¾¤ï¼Œç»Ÿä¸€è¿›è¡Œèµ„æºè°ƒåº¦ï¼Œè‡ªåŠ¨ç®¡ç†å®¹å™¨ç”Ÿå‘½å‘¨æœŸï¼Œæä¾›è·¨èŠ‚ç‚¹æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡ï¼›æ›´å¥½çš„æ”¯æŒå¾®æœåŠ¡ç†å¿µï¼Œåˆ’åˆ†ã€ç»†åˆ†æœåŠ¡ä¹‹é—´çš„è¾¹ç•Œï¼Œæ¯”å¦‚lablelã€podç­‰æ¦‚å¿µçš„å¼•å…¥ã€‚\nKubernetesç‰¹ç‚¹ï¼š è½»é‡ï¼Œè¿ç§»æ–¹ä¾¿ï¼Œéƒ¨ç½²å¿«æ·ï¼Œæ’ä»¶åŒ–ï¼Œå¯æ‰©å±•ã€‚\nå…³é”®å¯¹è±¡ æ¨¡å‹å¯¹è±¡ï¼š\nPod: èƒ½å¤Ÿåˆ›å»ºã€è°ƒåº¦å’Œç®¡ç†çš„æœ€å°éƒ¨ç½²å•å…ƒã€‚ Service: ä¸€ä¸ªPodsçš„é€»è¾‘é›†åˆå’Œè®¿é—®è¿™ä¸ªé›†åˆçš„ç­–ç•¥ã€‚ Rs/Rc/DaemonSet: ç¡®ä¿Podçš„ä¸€å®šæ•°é‡çš„ä»½æ•°ï¼ˆreplicaï¼‰åœ¨è¿è¡Œã€‚ Label \u0026amp; Selector: å®šä¹‰äº†è¿™äº›å¯¹è±¡çš„è¯†åˆ«å±æ€§ï¼Œç”¨æ¥è¯†åˆ«å’Œç»„ç»‡è¿™äº›å¯¹è±¡ã€‚ æ ¸å¿ƒç»„ä»¶ï¼š\nMasterèŠ‚ç‚¹çš„ç»„ä»¶ kube-ApiServer: æä¾›Kubbernets APIï¼Œæä¾›å¯¹PODs, Services, ReplicationControllerç­‰å¯¹è±¡çš„CRUDå¤„ç†çš„RESTæ“ä½œï¼ŒéªŒè¯å®ƒä»¬åœ¨Etcdä¸­æ›´æ–°ç›¸åº”çš„å¯¹è±¡APIï¼Œä¸ä»…é¢å‘æœ€ç»ˆç”¨æˆ·ï¼Œä¹Ÿé¢å‘å¼€å·¥å…·å’Œæ‹“å±•çš„å¼€å‘è€…ï¼Œæ˜¯å¼€æ”¾ç”Ÿæ€çš„åŸºç¡€ã€‚ Kube-Scheduler: é€šè¿‡è®¿é—®Kubernetesä¸­/binding API, Schedulerè´Ÿè´£åœ¨å„ä¸ªèŠ‚ç‚¹ä¸Šåˆ†é…ã€‚Schedulersæ˜¯æ’ä»¶å¼çš„ï¼ŒK8så¯ä»¥æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰çš„Schedulerã€‚ Kube-Contorller-Marager: æ§åˆ¶å™¨å¾ªç¯ç›‘å¬é›†ç¾¤ä¸­èµ„æºçŠ¶æ€ï¼ŒæŒ‰ç…§é¢„æœŸçŠ¶æ€å¯¹èµ„æºè¿›è¡Œç®¡ç†ã€‚æ¯ä¸ªæ§åˆ¶å™¨å°±æ˜¯å°†å¯¹åº”çš„èµ„æºç‰µå¼•åˆ°æœŸæœ›çš„çŠ¶æ€Kuberneteså°†æ¥å¯ä»¥æŠŠè¿™äº›æ§åˆ¶å™¨æ‹†åˆ†å¹¶æä¾›å¯æ’æ‹”çš„ç»„ä»¶ã€‚ Node Kubelet: Kubeletç®¡ç†podså’Œå®ƒä»¬çš„å®¹å™¨ã€é•œåƒã€å·ç­‰ã€‚ Kube-Proxy: Kube-proxyæ˜¯ä¸€ä¸ªç®€å•çš„ç½‘ç»œä»£ç†å’Œè´Ÿè½½å‡è¡¡å™¨ã€‚å®ƒå…·ä½“å®ç°Serviceæ¨¡å‹ï¼Œæ¯ä¸ªServiceéƒ½ä¼šåœ¨æ‰€æœ‰çš„Kube-ProxyèŠ‚ç‚¹ä¸Šä½“ç°ã€‚æ ¹æ®Serviceçš„selectoræ‰€è¦†ç›–çš„Pods, å¯¹è¿™äº›Podsåšè´Ÿè½½å‡è¡¡æ¥æœåŠ¡äºServiceçš„è®¿é—®è€…ã€‚ Container Runtime: å®¹å™¨è¿è¡Œç¯å¢ƒæ˜¯è´Ÿè´£è¿è¡Œå®¹å™¨çš„è½¯ä»¶ã€‚æ”¯æŒçš„è¿è¡Œæ—¶: Dockerã€containerdã€CRI-O ä»¥åŠä»»ä½•å®ç°Kubernetes CRIï¼ˆå®¹å™¨è¿è¡Œç¯å¢ƒæ¥å£ï¼‰ã€‚ åŠŸèƒ½ç‰¹æ€§\nèµ„æºè°ƒåº¦: é€šè¿‡ Scheduler éƒ¨ç½²å¯åŠ¨: å®¹å™¨è¿è¡Œæ—¶(Docker) è¿è¡Œç›‘æ§: Heapster / cAdvisor æœåŠ¡å‘ç°: é€šè¿‡ç¯å¢ƒå˜é‡å’ŒDNS é”™è¯¯å¤„ç† æ‰©å®¹ç¼©å®¹: é€šè¿‡Replication Controller å¯¹è±¡æè¿° Kubernetesä¸­çš„å¯¹è±¡ä½¿ç”¨Yaml(ä¸»è¦)æˆ–JSONæè¿°ã€‚ä¸»è¦åˆ†ä¸º4éƒ¨åˆ†ï¼š\ntypeMeta: å¯¹è±¡ç±»å‹çš„å…ƒä¿¡æ¯ï¼Œå£°æ˜å¯¹è±¡ä½¿ç”¨å“ªä¸ªAPIç‰ˆæœ¬ï¼Œå“ªä¸ªç±»å‹çš„å¯¹è±¡ã€‚ objectMeta: å¯¹è±¡çš„å…ƒä¿¡æ¯ï¼ŒåŒ…æ‹¬å¯¹è±¡åç§°ã€ä½¿ç”¨çš„æ ‡ç­¾ç­‰ã€‚ spec: å¯¹è±¡çš„æœŸæœ›çŠ¶æ€ï¼Œä¾‹å¦‚å¯¹è±¡ä½¿ç”¨ä»€ä¹ˆé•œåƒã€æœ‰å¤šå°‘å‰¯æœ¬ç­‰ã€‚ status: å¯¹è±¡çš„å®é™…çŠ¶æ€ï¼Œåªèƒ½åœ¨å¯¹è±¡åˆ›å»ºåçœ‹åˆ°ï¼Œåˆ›å»ºå¯¹è±¡æ—¶æ— éœ€æŒ‡å®šã€‚ç”±Kuberneteså®šä¹‰ï¼Œè¯¥å­—æ®µå¯¹äºæœ€ç»ˆç”¨æˆ·æ˜¯åªè¯»çš„ ç¤ºä¾‹æ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 # typeMeta: apiVersion: apps/v1 kind: Deployment # ObjectMeta: metadata: name: nginx labels: app: nginx # æœŸæœ›çŠ¶æ€ spec: selector: matchLabels: app: nginx replicas: 3 template: metadata: lalebs: app: nginx spec: containers: - name: nginx image: nginx:alpine resources: requests: cpu: 100m memory: 200Mi limits: cpu: 100m memory: 200Mi imagePullSecrets: - name: default-secret # å®é™…çŠ¶æ€ status: {} å·¥ä½œæµç¨‹ ","date":"2024-08-01T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/kubernetes%E6%A6%82%E8%A7%88/","title":"Kubernetesæ¦‚è§ˆ"},{"content":"æ ¸å¿ƒç»„ä»¶ Etcd (å…¬å…±æ ¸å¿ƒç»„ä»¶) etcdæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼key-valueå­˜å‚¨ç³»ç»Ÿï¼Œä¸ºKubernetesæä¾›åŸæ•°æ®çš„å­˜å‚¨ã€‚\næ¥å£ç®€å•ï¼š é€šè¿‡å®¢æˆ·ç«¯æˆ–HTTPçš„æ–¹å¼è®¿é—®ï¼› æ•°æ®è¡¨ç¤ºç®€å•ï¼š å­˜å‚¨key-valueæ•°æ®ï¼Œå¯ç†è§£ä¸ºä¸€ä¸ªæœ‰åºçš„mapï¼› æ–¹ä¾¿æ•°æ®è®¢é˜…ï¼š æ”¯æŒwatchæœºåˆ¶ï¼› Api-Server (Master) Api-Serveré€šè¿‡MasterèŠ‚ç‚¹ä¸Šçš„kube-apiserverè¿›ç¨‹æä¾›æœåŠ¡ï¼Œè¯¥æœåŠ¡æ˜¯é›†ç¾¤å†…å„ä¸ªåŠŸèƒ½æ¨¡å—ä¹‹é—´æ•°æ®äº¤äº’å’Œé€šä¿¡çš„ä¸­å¿ƒæ¢çº½ï¼Œå®ç°äº† Kubernetes å¯¹è±¡æ¨¡å‹ï¼ˆå¦‚ Pods, Services, Deployments ç­‰ï¼‰çš„ CRUD æ“ä½œã€‚\nç”±äºAPI Serveræ‰¿æ‹…äº†ç³»ç»Ÿå†…å…³é”®çš„æ•°æ®é€šä¿¡éƒ¨åˆ†ï¼Œæ‰€ä»¥API Serverçš„æ€§èƒ½é«˜ä½å†³å®šäº†é›†ç¾¤æ€§èƒ½çš„é«˜ä½ã€‚\nä½¿ç”¨ etcd æ•°æ®åº“ä½œä¸ºæŒä¹…åŒ–å­˜å‚¨åç«¯ã€‚æ‰€æœ‰ Kubernetes å¯¹è±¡çš„çŠ¶æ€éƒ½ä¿å­˜åœ¨ etcd ä¸­ã€‚\nAPI Serveræä¾›çš„API: /api/vi - æ ¸å¿ƒAPI /apis - åˆ†ç»„API /healthz - å¥åº·ç›‘æµ‹ /logs - æ—¥å¿— /swaggerapi - SwaggerAPI (OpenAPI) /metrics - æ€§èƒ½åº¦é‡ è®¿é—®æ§åˆ¶ æˆæƒ èº«ä»½éªŒè¯ å‡†å…¥æ§åˆ¶ æœåŠ¡æ³¨å†Œ Pod NameSpace Service Apps Storage \u0026hellip; Controller Manager (Master) åœ¨Kubernetesä¸­ï¼Œæ¯ä¸ªControlleræ˜¯ä¸€ä¸ªæ§åˆ¶å›è·¯ï¼Œé€šè¿‡APIServerç›‘è§†é›†ç¾¤å†…Nodeã€Podçš„ç­‰èµ„æºçš„çŠ¶æ€ï¼Œå¹¶ç¡®ä¿å…¶å½“å‰çŠ¶æ€ï¼ˆç”±specå­—æ®µè§„å®šï¼‰æ¥è¿‘æœŸæœ›çŠ¶æ€ã€‚\nControlleræŒ‰ç…§å…¶å®ç°æ–¹å¼ï¼Œå¯ä»¥åˆ†ä¸ºå†…éƒ¨æ§åˆ¶å™¨å’Œå¤–éƒ¨æ§åˆ¶å™¨ã€‚\nKuberneteså†…éƒ¨å‡ ä¹æ¯ç§ç‰¹å®šèµ„æºéƒ½æœ‰ç‰¹å®šçš„Controllerç»´æŠ¤ç®¡ç†ï¼Œè€ŒControllerManagerçš„èŒè´£ä¾¿æ˜¯æŠŠæ‰€æœ‰çš„Controllerèšåˆèµ·æ¥ï¼Œä»¥è¾¾åˆ°ä»¥ä¸‹ç›®çš„ï¼š\næä¾›åŸºç¡€è®¾æ–½ï¼Œå¯åŠ¨å’Œç»´æŒControllerçš„æ­£å¸¸è¿è¡Œï¼Œé™ä½Controllerçš„å®ç°å¤æ‚åº¦ã€‚ é€šè¿‡Watch apiserverç›‘æ§èµ„æºçŠ¶æ€å˜åŒ–ï¼Œå¯¹ä¸åŒçš„Controlleråˆ†å‘äº‹ä»¶é€šçŸ¥ã€‚ Controllerå·¥ä½œæµç¨‹ Controller Managerä¸»è¦æä¾›äº†ä¸€ä¸ªåˆ†å‘äº‹ä»¶çš„èƒ½åŠ›ï¼Œè€Œä¸åŒçš„Controlleråªéœ€è¦æ³¨å†Œå¯¹åº”çš„Handleræ¥ç­‰å¾…æ¥æ”¶å’Œå¤„ç†äº‹ä»¶ã€‚åœ¨Controller Managerçš„å¸®åŠ©ä¸‹ï¼ŒControllerçš„é€»è¾‘å¯ä»¥åšçš„éå¸¸çº¯ç²¹ï¼Œåªéœ€è¦å®ç°ç›¸åº”çš„EventHandlerå³å¯ã€‚ä»¥Deployment controllerä¸ºä¾‹:\nå†…éƒ¨æ§åˆ¶å™¨ Deployment Controllerï¼š ç”¨äºç®¡ç†åº”ç”¨ç¨‹åºçš„éƒ¨ç½²è¿‡ç¨‹ã€‚ å®ƒåŸºäº ReplicaSets æ¥ç®¡ç† Podsï¼Œå¹¶æ”¯æŒæ»šåŠ¨æ›´æ–°å’Œå›æ»šç­‰é«˜çº§éƒ¨ç½²ç­–ç•¥ã€‚ ReplicaSetï¼š ç¡®ä¿æŒ‡å®šæ•°é‡çš„å‰¯æœ¬ï¼ˆPodsï¼‰å§‹ç»ˆå¤„äºè¿è¡ŒçŠ¶æ€ã€‚å¦‚æœ Pod æ•°é‡å‡å°‘ï¼Œå®ƒä¼šè‡ªåŠ¨åˆ›å»ºæ–°çš„ Podï¼›å¦‚æœ Pod æ•°é‡è¶…è¿‡æœŸæœ›å€¼ï¼Œåˆ™åˆ é™¤å¤šä½™çš„ Podã€‚ StatefulSet Controller: ç®¡ç†æœ‰çŠ¶æ€çš„åº”ç”¨ç¨‹åºå®ä¾‹ã€‚ç»´æŠ¤æŒä¹…çš„æ ‡è¯†ç¬¦å’Œç¨³å®šçš„æŒä¹…å·ç»‘å®šã€‚ DaemonSet Controller: ç¡®ä¿æ‰€æœ‰ï¼ˆæˆ–æŸäº›ï¼‰èŠ‚ç‚¹ä¸Šè¿è¡Œä¸€ä¸ª Pod çš„å‰¯æœ¬ã€‚å¸¸ç”¨äºè¿è¡Œå®ˆæŠ¤è¿›ç¨‹ï¼Œå¦‚æ—¥å¿—æ”¶é›†æˆ–ç›‘æ§ä»£ç†ã€‚ Job Controller: ç¡®ä¿ä¸€ä¸ªæˆ–å¤šä¸ªä»»åŠ¡å®ŒæˆæŒ‡å®šæ¬¡æ•°çš„æ‰§è¡Œã€‚é€šå¸¸ç”¨äºæ‰¹å¤„ç†ä½œä¸šæˆ–ä¸€æ¬¡æ€§ä»»åŠ¡ã€‚ CronJob Controller: åˆ›å»ºåŸºäºæ—¶é—´çš„ Jobsï¼Œç±»ä¼¼äº Unix cron ä»»åŠ¡ã€‚ Namespace Controller: ç®¡ç† Namespace çš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬åˆ é™¤ Namespace åŠå…¶å…³è”èµ„æºã€‚ Node Controller: ç”¨äºç›‘æ§èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œæ ‡è®°ä¸å¥åº·çš„Nodeï¼Œå¹¶è¿ç§»å…¶ä¸Šçš„PODã€‚ Endpoints Controller: æ›´æ–°æ¯ä¸ªServiceçš„Endpointåˆ—è¡¨ï¼Œä»¥åæ˜ å®é™…å¯ç”¨çš„Podã€‚ Kube-Scheduler kube-schedulerç»„ä»¶æ˜¯kubernetesé»˜è®¤çš„è°ƒåº¦å™¨ï¼Œkube-schedulerç»„ä»¶å†…ç½®çš„é¢„é€‰å’Œä¼˜é€‰ç®—æ³•ï¼Œä¸»è¦è´Ÿè´£æŠŠåˆ›å»ºçš„Podè°ƒåº¦åˆ°å…·ä½“çš„å·¥ä½œèŠ‚ç‚¹ä¸Šï¼Œå®ŒæˆPodåˆ°Nodeçš„è°ƒåº¦å’Œé¢„ç»‘å®šå·¥ä½œã€‚\nå·¥ä½œæµç¨‹ Informerç»„ä»¶list-watch apiserverï¼ŒåŒæ­¥etcdä¸­Podï¼ˆspec.nodeNameï¼‰ä¿¡æ¯çš„å˜åŒ–ï¼› å°†æœªè°ƒåº¦Podçš„ä¿¡æ¯åŠ å…¥é˜Ÿåˆ—ä¸­ï¼ŒåŒæ—¶æ›´æ–°Scheduler Cacheç¼“å­˜ï¼Œå¹¶è·å–Nodeåˆ—è¡¨ï¼› é¢„é€‰é˜¶æ®µï¼Œé’ˆå¯¹Podå’ŒNodeåˆ—è¡¨æ‰§è¡ŒPredicateç®—æ³•ï¼Œè¿‡æ»¤æ‰ä¸åˆé€‚çš„èŠ‚ç‚¹ï¼› ä¼˜é€‰é˜¶æ®µï¼Œé’ˆå¯¹Podå’ŒNodeåˆ—è¡¨æ‰§è¡ŒPriorityç®—æ³•ï¼Œç»™èŠ‚ç‚¹æ‰“åˆ†ï¼Œæ ¹æ®æ‰“åˆ†ï¼Œè®¡ç®—å‡ºå¾—åˆ†æœ€é«˜çš„èŠ‚ç‚¹ï¼› å½“è°ƒåº¦å™¨ä¸ºPodé€‰æ‹©äº†ä¸€ä¸ªåˆé€‚çš„èŠ‚ç‚¹æ—¶ï¼Œé€šè¿‡Bindå°†Podå’ŒèŠ‚ç‚¹è¿›è¡Œç»‘å®šï¼› æ›´æ–°ç¼“å­˜ã€‚ Kubelet kubeletç”¨äºå¤„ç†masterèŠ‚ç‚¹ä¸‹å‘åˆ°æœ¬èŠ‚ç‚¹çš„ä»»åŠ¡ï¼Œç®¡ç†Podä»¥åŠPodä¸­çš„å®¹å™¨ã€‚kubeletçš„å·¥ä½œæ ¸å¿ƒï¼Œå°±æ˜¯ä¸€ä¸ªæ§åˆ¶å¾ªç¯ï¼Œå³ï¼šSyncLoopã€‚\nKube-Proxy Kube-proxyæ˜¯ä¸€ä¸ªç®€å•çš„ç½‘ç»œä»£ç†ç»„ä»¶ï¼Œå®ƒçš„ä½œç”¨ä¸»è¦æ˜¯è´Ÿè´£Serviceçš„å®ç°ã€‚\nå®ç°ä¸å·¥ä½œåŸç† Kube-proxyï¼š åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œä¸€ä¸ªkube-proxyæœåŠ¡ï¼Œç›‘å¬API serverä¸­Serviceã€EndpointåŠNodeçš„å˜åŒ–æƒ…å†µã€‚ Iptables/IPVSï¼š Kube-proxyæ ¹æ®ç›‘å¬èµ„æºå˜åŒ–ï¼Œæ“ä½œä»£ç†åç«¯æ¥ä¸ºæœåŠ¡é…ç½®è´Ÿè½½å‡è¡¡ã€‚ç›®å‰Kube-proxyå¸¸ç”¨çš„ä»£ç†æ¨¡å¼ä¸ºï¼š Iptablesï¼šLinuxå†…æ ¸çš„ä¸€é¡¹åŠŸèƒ½ã€‚kube-proxyä¸ºæ¯ä¸€ä¸ªSeriveåˆ›å»ºç›¸åº”çš„iptablesè§„åˆ™ï¼Œå¹¶å°†å‘é€åˆ°Serviceçš„VIPï¼ˆCluster IPï¼‰çš„æµé‡è½¬å‘åç«¯Podçš„ç›¸åº”ç«¯å£ä¸Šã€‚ IPVSï¼šä¸“é—¨ç”¨äºè´Ÿè½½å‡è¡¡çš„Linuxå†…æ ¸åŠŸèƒ½ï¼Œå…¶åŠŸèƒ½ä¾èµ–iptablesï¼Œå…·æœ‰æ›´å¥½çš„æ‰©å±•æ€§å’Œæ€§èƒ½ï¼Œæ”¯æŒæ›´åŠ å¤æ‚çš„è´Ÿè½½å‡è¡¡ç®—æ³•ã€‚ ","date":"2024-08-01T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/kubernetes%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6/","title":"Kubernetesæ ¸å¿ƒç»„ä»¶"},{"content":"Async åº“å’ŒPythonç›¸å…³å…³é”®å­— async - å…³é”®å­— - å®šä¹‰ä¸€ä¸ª Asyncå‡½æ•°æˆ–æ–¹æ³•\n1 2 async def func(): pass await - å…³é”®å­— - æŒ‚èµ· coroutine çš„æ‰§è¡Œä»¥ç­‰å¾…ä¸€ä¸ª awaitable å¯¹è±¡ã€‚ åªèƒ½åœ¨ coroutine function å†…éƒ¨ä½¿ç”¨ã€‚\nawait ä¼šåˆ›å»ºä¸€ä¸ªtaskï¼Œå°†Taskæ”¾å…¥äº‹ä»¶å¾ªç¯ï¼Œé‡Šæ”¾æ“ä½œå¥æŸ„äº¤ç»™è°ƒåº¦å™¨ï¼Œé˜»å¡ä¸Šä¸‹æ–‡çŸ¥é“awaitçš„Taskè¿”å›ç»“æœ\n1 2 3 4 import asyncio async def func(): await asyncio.sleep(1) coroutine - å®šä¹‰ - åç¨‹ coroutine function - å®šä¹‰ - ç”± async def å®šä¹‰çš„å‡½æ•°ï¼› conoutine object - å®šä¹‰ - coroutine functionçš„ä¸€ä¸ªå®ä¾‹ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå½“æˆ‘ä»¬ç›´æ¥è°ƒç”¨äº†ä¸€ä¸ª coroutine function çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šè°ƒç”¨è¯¥å‡½æ•°çš„å…·ä½“å†…å®¹ï¼Œè€Œæ˜¯ä¼šç”Ÿæˆä¸€ä¸ª coroutine objectï¼Œè¿™ä¸ªobjåªæœ‰åœ¨asyncio çš„ event_loop ä¸­è¢«è°ƒåº¦ã€‚è¿™ä¸ªè¿‡ç¨‹ç±»ä¼¼äºæˆ‘ä»¬ç”Ÿæˆå™¨å’Œç”Ÿæˆå™¨å‡½æ•°ã€‚\nawaitableå¯¹è±¡ - å®šä¹‰ - å¯ä»¥è¢«awaitè¯­å¥ä¸­ä½¿ç”¨çš„å¯¹è±¡ï¼Œå¯ä»¥æ˜¯coroutine function, æˆ–å®ç°äº† __await__ é­”æœ¯æ–¹æ³•çš„å¯¹è±¡ã€‚ asyncio.run() - å‡½æ•° - åç¨‹äº‹ä»¶å¾ªç¯çš„å…¥å£ã€‚ asyncio.create_task() - å‡½æ•°åˆ›å»ºä¸€ä¸ªconoutine objectåŒ…è£…ä¸ºTaskå¹¶åŠ å…¥åˆ°äº‹ä»¶å¾ªç¯ã€‚ asyncio.gather(*coros_or_futures, return_exceptions=False) - å‡½æ•° - è¿”å›ç»™å®šåç¨‹futures çš„æœªæ¥èšåˆç»“æœã€‚\nåç¨‹å°†è¢«åŒ…è£…åœ¨ future ä¸­å¹¶åœ¨äº‹ä»¶å¾ªç¯ä¸­è¿›è¡Œè°ƒåº¦ã€‚å®ƒä»¬ä¸ä¸€å®šæŒ‰ç…§ä¼ å…¥çš„é¡ºåºè¿›è¡Œå®‰æ’ã€‚\næ‰€æœ‰ future å¿…é¡»å…±äº«ç›¸åŒçš„äº‹ä»¶å¾ªç¯ã€‚å¦‚æœæ‰€æœ‰ä»»åŠ¡éƒ½æˆåŠŸå®Œæˆï¼Œåˆ™è¿”å›çš„ future çš„ç»“æœæ˜¯ç»“æœåˆ—è¡¨ï¼ˆæŒ‰ç…§åŸå§‹åºåˆ—çš„é¡ºåºï¼Œä¸ä¸€å®šæ˜¯ç»“æœåˆ°è¾¾çš„é¡ºåºï¼‰ã€‚å¦‚æœreturn_exceptionsä¸ºTrueï¼Œåˆ™ä»»åŠ¡ä¸­çš„å¼‚å¸¸å°†è¢«è§†ä¸ºä¸æˆåŠŸç»“æœç›¸åŒï¼Œå¹¶æ”¶é›†åœ¨ç»“æœåˆ—è¡¨ä¸­ï¼›å¦åˆ™ï¼Œç¬¬ä¸€ä¸ªå¼•å‘çš„å¼‚å¸¸å°†ç«‹å³ä¼ æ’­åˆ°è¿”å›çš„ futureã€‚ ç›¸å…³è§†é¢‘ï¼š ","date":"2023-02-13T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/async-%E5%8D%8F%E7%A8%8B%E5%85%A5%E9%97%A8/","title":"Async åç¨‹å…¥é—¨"},{"content":"Redis-Shake 2.+ ç‰ˆæœ¬\nåŒæ­¥è¿‡ç¨‹ä¸­ç»ˆæ­¢ æŠ¥é”™ï¼š é—®é¢˜åŸå› ï¼š åœ¨åŒæ­¥è¿‡ç¨‹ä¸­ä¼šå‡ºç°ä¸€äº›é›†ç¾¤ï¼ˆå‰¯æœ¬ï¼‰ç®¡ç†ç›¸å…³çš„æ“ä½œæŒ‡ä»¤ï¼Œè¿™äº›æŒ‡ä»¤ä¸åº”è¯¥è·¨é›†ç¾¤åŒæ­¥ã€‚\nè¿™äº›é”™è¯¯ç›®å‰å‘ç°ä¸»è¦å‡ºç°åœ¨æºé›†ç¾¤æœ‰slaveçš„æƒ…å†µä¸‹ã€‚\nè§£å†³æ–¹æ¡ˆï¼š åœ¨é…ç½®æ–‡ä»¶ä¸­åŠ å…¥æˆ–ä¿®æ”¹ é¡¹ï¼š filter.command.blacklist ä¸­è¿½åŠ  replconf ï¼Œç”¨äºè¿‡æ»¤replconf æŒ‡ä»¤çš„åŒæ­¥ã€‚\né‡è¿åå…¨é‡åŒæ­¥è¿‡æˆä¸­çš„RDB Save Error æŠ¥é”™ï¼š 1 [PANIC] restore command error key:gmv2022-09-18 00:00:00690047125391hyper1092HYPERCPC err:MISCONF Redis is configured to save RDB snapshot é—®é¢˜åŸå›  redis save rdb å¤±è´¥ï¼Œå…·ä½“æ ¹å› æœªçŸ¥ã€‚\nè§£å†³æ–¹æ¡ˆ åˆ é™¤å…¨éƒ¨é›†ç¾¤èŠ‚ç‚¹ä¸­çš„ rdb å’Œ aof æ–‡ä»¶ å¹¶é‡å¯é›†ç¾¤ã€‚\n","date":"2023-02-13T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/redis-shake-%E9%94%99%E8%AF%AF%E6%80%BB%E7%BB%93/","title":"Redis Shake é”™è¯¯æ€»ç»“"},{"content":"Linux ä¿®æ”¹æŒ‡å®šè¿›ç¨‹çš„æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ prlimit --pid {pid} --nofile=65535:65535\næŸ¥è¯¢æŒ‡å®šPIDæ‰“å¼€çš„å¥æ–‡ä»¶æŸ„æ•° lsof -n | awk '{print $2}' |sort |uniq -c |sort -nr |grep PID\næŸ¥è¯¢æŒ‡å®šPIDçš„limitä¿¡æ¯ cat /proc/$PID/limits\nTelnet è‡ªåŠ¨è¶…æ—¶é€€å‡º timeout --signal=9 {timout_sec} telnet {ip} {port}\nMySQLå¯¼å‡ºå‰100æ¡æ•°æ® mysqldump -uroot -p'password' {db} --where \u0026quot;1=1 limit 100\u0026quot; \u0026gt; test.sql\nä½¿ç”¨Pythonå¿«é€Ÿå¼€å¯ä¸€ä¸ªç®€å•çš„æ–‡ä»¶æœåŠ¡å™¨ python3 -m http.server (v3.4+) æˆ– python -m SimpleHTTPServer (v2.7+)\n","date":"2022-12-17T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/linux-%E5%B0%8F%E6%8A%80%E5%B7%A7/","title":"Linux å°æŠ€å·§"},{"content":"iproute2 æ¨¡å—åŒ…å«çš„å­å‘½ä»¤ ","date":"2022-11-19T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/ip%E5%91%BD%E4%BB%A4%E8%A7%A3%E6%9E%90/","title":"ipå‘½ä»¤è§£æ"},{"content":"èƒŒæ™¯ ","date":"2022-11-19T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/linux%E5%88%9B%E5%BB%BA%E8%B7%AF%E7%94%B1%E7%BD%91%E5%85%B3/","title":"Linuxåˆ›å»ºè·¯ç”±ç½‘å…³"},{"content":"ä½¿ç”¨å‘½ä»¤ ip -6 neigh\n","date":"2022-11-19T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/linux%E4%B8%8B%E6%9F%A5%E7%9C%8Bipv6%E9%82%BB%E5%B1%85%E7%9A%84%E6%96%B9%E6%B3%95/","title":"Linuxä¸‹æŸ¥çœ‹Ipv6é‚»å±…çš„æ–¹æ³•"},{"content":"iptables å®ç°ç«¯å£è½¬å‘ 1. ç¡®ä¿IPv4å†…æ ¸æµé‡è½¬å‘åŠŸèƒ½å¼€å¯ 1 2 echo net.ipv4.ip_forward=1 \u0026gt;\u0026gt; /etc/sysctl.conf sysctl -p 2. é…ç½®iptablesæŠ“å‘è§„åˆ™ æµé‡çŠ¶æ€ï¼š Inter \u0026ndash;\u0026gt; 10.0.4.14:13389 \u0026ndash;\u0026gt; 10.1.1.10:3389\n1 2 3 4 5 # å°†å¤–ç½‘è®¿é—®192.168.75.5çš„80ç«¯å£è½¬å‘åˆ°192.168.75.3:8000ç«¯å£ã€‚ iptables -t nat -A PREROUTING -d 10.0.4.14 -p tcp --dport 13389 -j DNAT --to-destination 10.1.1.10:3389 # å°†192.168.75.3 8000ç«¯å£å°†æ•°æ®è¿”å›ç»™å®¢æˆ·ç«¯æ—¶ï¼Œå°†æºipæ”¹ä¸º192.168.75.5 iptables -t nat -A POSTROUTING -d 10.1.1.10 -p tcp --dport 3389 -j SNAT --to 10.0.4.14 3. iptablesé…ç½®ä»…å†…ç½‘å¯ä»¥è®¿é—®è„šæœ¬ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 iptables -F # åˆ é™¤å…¨éƒ¨çš„è§„åˆ™ iptables -X # åˆ é™¤å…¨éƒ¨è‡ªå®šä¹‰çš„é“¾ iptables -A INPUT -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT # å…è®¸å·²ç»å»ºç«‹çš„è¿æ¥ # æ·»åŠ å…è®¸çš„IPåœ°å€æ®µç¤ºä¾‹ iptables -A INPUT -i lo -j ACCEPT # å…è®¸loæ¥å£çš„å…¨éƒ¨æµé‡ iptables -A INPUT -s 192.168.0.0/16 -j ACCEPT # å…è®¸192.168.0.0/16ç½‘æ®µçš„å…¥æ ˆæµé‡ iptables -A INPUT -s 10.0.0.0/8 -j ACCEPT # å…è®¸10.0.0.0/8ç½‘æ®µçš„å…¥æ ˆæµé‡ iptables -A INPUT -s 172.16.0.0/12 -j ACCEPT # å…è®¸172.16.0.0/12ç½‘æ®µçš„å…¥æ ˆæµé‡ iptables -A INPUT -s 100.64.0.0/12 -j ACCEPT # å…è®¸100.64.0.0/12ç½‘æ®µçš„å…¥æ ˆæµé‡ # æ·»åŠ å…è®¸ç«¯å£ç¤ºä¾‹ iptables -A INPUT -p tcp --dport 8000 -j ACCEPT # å…è®¸å…¨éƒ¨çš„IPåœ°å€è®¿é—®8000ç«¯å£ iptables -A INPUT -p tcp -s 10.0.0.0/8 --dport 8000 -j ACCEPT # ä»…å…è®¸10.0.0/8ç½‘æ®µè®¿é—®8000ç«¯å£ iptables -P INPUT DROP # é»˜è®¤æ‹’ç»INPUTé“¾ iptables -P OUTPUT ACCEPT # é»˜è®¤å…è®¸OUTPUTé“¾ iptables -P FORWARD DROP # é»˜è®¤æ‹’ç»FORWARDé“¾ ","date":"2022-11-17T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/iptables-%E5%AE%9E%E7%8E%B0%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/","title":"iptables å®ç°ç«¯å£è½¬å‘"},{"content":" 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 #!/bin/env python3 # coding: utf8 \u0026#34;\u0026#34;\u0026#34;æ•°æ®ç»“æ„ - å¯¹æ¯”å·¥å…· QA - \u0026#34;\u0026#34;\u0026#34; import csv import logging import time from typing import Union import pymssql import pymysql logger = logging.getLogger(\u0026#39;sql.contrast\u0026#39;) class SqlWriteError(Exception): pass class BaseSql: def __init__(self, host, port, user, password, db, charset=\u0026#39;utf8\u0026#39;, use_unicode=True, **kwargs): super().__init__() self.SQL_HOST = host # ä¸»æœº self.SQL_PORT = port # ç«¯å£ self.SQL_USER = user # ç”¨æˆ· self.SQL_PASSWD = password # å¯†ç  self.SQL_DB = db # æ•°æ®åº“ self.SQL_CHARSET = charset # ç¼–ç  self.use_unicode = use_unicode # è¡¨å‰ç¼€ self.TABLE_PREFIX = kwargs.pop(\u0026#39;prefix\u0026#39;, \u0026#39;\u0026#39;) self.kwargs = kwargs self.pooled_sql = None @property def _sql(self): raise NotImplementedError def set_use_db(self, db_name): \u0026#34;\u0026#34;\u0026#34;è®¾ç½®å½“å‰æ•°æ®åº“\u0026#34;\u0026#34;\u0026#34; return self._sql.select_db(db_name) def set_charset(self, charset): \u0026#34;\u0026#34;\u0026#34;è®¾ç½®æ•°æ®åº“é“¾æ¥å­—ç¬¦é›†\u0026#34;\u0026#34;\u0026#34; return self._sql.set_charset(charset) def close(self): \u0026#34;\u0026#34;\u0026#34;å…³é—­æ•°æ®åº“è¿æ¥\u0026#34;\u0026#34;\u0026#34; self._sql.close() def read_db(self, command, args=None, ): \u0026#34;\u0026#34;\u0026#34;æ‰§è¡Œæ•°æ®åº“è¯»å–æ•°æ®ï¼Œ è¿”å›ç»“æœ :param command :param args \u0026#34;\u0026#34;\u0026#34; if self.pooled_sql is not None: _sql = self.pooled_sql.connection() else: _sql = self._sql cur = _sql.cursor() cur.execute(command, args) results = cur.fetchall() cur.close() return results class MySqlAPI(BaseSql): @property def _sql(self): return pymysql.connect( host=self.SQL_HOST, port=self.SQL_PORT, user=self.SQL_USER, password=self.SQL_PASSWD, # å¯ä»¥ç”¨ passwdä¸ºåˆ«å database=self.SQL_DB, # å¯ä»¥ç”¨ db ä¸ºåˆ«åï¼› charset=self.SQL_CHARSET, use_unicode=self.use_unicode, **self.kwargs ) def tables_name(self): return [_c[0].decode() if isinstance(_c[0], bytes) else _c[0] for _c in self.read_db(\u0026#34;show tables\u0026#34;)] def columns(self, table, ): \u0026#34;\u0026#34;\u0026#34;è¿”å›tableä¸­åˆ—ï¼ˆå­—æ®µï¼‰çš„æ‰€æœ‰ä¿¡æ¯ +-------+-------+------+------+-----+---------+-------+ | index | 0 | 1 | 2 | 3 | 4 | 5 | +-------+-------+------+------+-----+---------+-------+ | dict | Field | Type | Null | Key | Default | Extra | +-------+-------+------+------+-----+---------+-------+ \u0026#34;\u0026#34;\u0026#34; return self.read_db(f\u0026#39;show columns from `{table}`\u0026#39;, ) def columns_name(self, table) -\u0026gt; list: \u0026#34;\u0026#34;\u0026#34;è¿”å› table ä¸­çš„ åˆ—ååœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­\u0026#34;\u0026#34;\u0026#34; return [_c[0].decode() if isinstance(_c[0], bytes) else _c[0] for _c in self.columns(table)] class MsSqlAPI(BaseSql): @property def _sql(self): return pymssql.connect( host=self.SQL_HOST, port=self.SQL_PORT, user=self.SQL_USER, password=self.SQL_PASSWD, # å¯ä»¥ç”¨ passwdä¸ºåˆ«å database=self.SQL_DB, # å¯ä»¥ç”¨ db ä¸ºåˆ«åï¼› charset=self.SQL_CHARSET, **self.kwargs ) def tables_name(self): \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; return [ _c[0].decode() if isinstance(_c[0], bytes) else _c[0] for _c in self.read_db(\u0026#34;select name FROM [sysobjects] where [xtype]=\u0026#39;u\u0026#39;\u0026#34;) ] def columns(self, table): \u0026#34;\u0026#34;\u0026#34; :param table: :return: \u0026#34;\u0026#34;\u0026#34; return [ _c for _c in self.read_db(f\u0026#34;sp_columns [{table}]\u0026#34;) if _c[1] == \u0026#39;dbo\u0026#39; ] class ContrastSQL: \u0026#34;\u0026#34;\u0026#34;æ•°æ®ç»“æ„å¯¹æ¯”\u0026#34;\u0026#34;\u0026#34; def __init__(self, sql_obj1, sql_obj2, attention_cols: Union[dict, list] = None): self.sql_1: MySqlAPI = sql_obj1 self.sql_2: MySqlAPI = sql_obj2 if type(sql_obj1) != type(sql_obj2): raise TypeError if type(sql_obj1) == MsSqlAPI: self.check_type = \u0026#39;sqlserver\u0026#39; self.column_name = \u0026#39;COLUMN_NAME\u0026#39; self.type_name_2_index = self.mssql_type_name_2_index elif type(sql_obj1) == MySqlAPI: self.check_type = \u0026#39;mysql\u0026#39; self.column_name = \u0026#39;Field\u0026#39; self.type_name_2_index = self.mysql_type_name_2_index else: raise self.attention_cols = set( attention_cols[self.check_type] if isinstance(attention_cols, (dict,)) else attention_cols or [] ) if len(self.attention_cols) == 0: if self.check_type == \u0026#39;sqlserver\u0026#39;: self.attention_cols = self.mssql_all else: self.attention_cols = self.mysql_all logger.info( \u0026#39;=\u0026#39; * 20 + f\u0026#39;[{self.check_type.upper()}] QA({self.sql_1.SQL_DB}) \u0026lt;--\u0026gt; PROD({self.sql_2.SQL_DB})\u0026#39; + \u0026#39;=\u0026#39; * 20 ) self.com_tables = self.tables_diff() for t in self.com_tables: self.columns_diff(t) def tables_diff(self): \u0026#34;\u0026#34;\u0026#34;æ•°æ®è¡¨å¯¹æ¯”\u0026#34;\u0026#34;\u0026#34; tables1 = set(self.sql_1.tables_name()) tables2 = set(self.sql_2.tables_name()) table_common = tables2 \u0026amp; tables1 logger.debug(\u0026#39;COMMON TABLE: %s\u0026#39;, table_common) if tables1 - table_common: logger.info(f\u0026#39;[{self.check_type.upper()}]QA_CLOUD. {self.sql_1.SQL_DB} ç‹¬æœ‰çš„è¡¨: {tables1 - table_common}\u0026#39;) if tables2 - table_common: logger.info(f\u0026#39;[{self.check_type.upper()}]PROD_CLOUD {self.sql_2.SQL_DB} ç‹¬æœ‰çš„è¡¨: {tables2 - table_common}\u0026#39;) return table_common mssql_all = [ \u0026#39;TABLE_QUALIFIER\u0026#39;, \u0026#39;TABLE_OWNER\u0026#39;, \u0026#39;TABLE_NAME\u0026#39;, \u0026#39;COLUMN_NAME\u0026#39;, \u0026#39;DATA_TYPE\u0026#39;, \u0026#39;TYPE_NAME\u0026#39;, \u0026#39;PRECISION\u0026#39;, \u0026#39;LENGTH\u0026#39;, \u0026#39;SCALE\u0026#39;, \u0026#39;RADIX\u0026#39;, \u0026#39;NULLABLE\u0026#39;, \u0026#39;REMARKS\u0026#39;, \u0026#39;COLUMN_DEF\u0026#39;, \u0026#39;SQL_DATA_TYPE\u0026#39;, \u0026#39;SQL_DATETIME_SUB\u0026#39;, \u0026#39;CHAR_OCTET_LENGTH\u0026#39;, \u0026#39;ORDINAL_POSITION\u0026#39;, \u0026#39;IS_NULLABLE\u0026#39;, \u0026#39;SS_DATA_TYPE\u0026#39; ] mysql_all = [ \u0026#39;Field\u0026#39;, \u0026#39;Type\u0026#39;, \u0026#39;Null\u0026#39;, \u0026#39;Key\u0026#39;, \u0026#39;Default\u0026#39;, \u0026#39;Extra\u0026#39; ] def mssql_type_name_2_index(self, name): \u0026#34;\u0026#34;\u0026#34;MSSQL COL_NAME è½¬ç´¢å¼•\u0026#34;\u0026#34;\u0026#34; return self.mssql_all.index(name) def mysql_type_name_2_index(self, name): \u0026#34;\u0026#34;\u0026#34;MYSQL COL_NAME è½¬ç´¢å¼•\u0026#34;\u0026#34;\u0026#34; return self.mysql_all.index(name) def columns_diff(self, table): \u0026#34;\u0026#34;\u0026#34;åˆ—å·®å¼‚å¯¹æ¯”\u0026#34;\u0026#34;\u0026#34; logger.info(\u0026#39;-\u0026#39; * 20 + f\u0026#39;{self.sql_2.SQL_DB}.{table}\u0026#39; + \u0026#39;-\u0026#39; * 20) def get_names(xs): return {_[self.type_name_2_index(self.column_name)] for _ in xs} def find_item(name, cols) -\u0026gt; dict: \u0026#34;\u0026#34;\u0026#34;åœ¨åˆ—ä¿¡æ¯ä¸­æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ \u0026#34;\u0026#34;\u0026#34; for _c in cols: if _c[self.type_name_2_index(self.column_name)] == name: return {_: _c[self.type_name_2_index(_)] for _ in self.attention_cols} raise Exception(f\u0026#39;{name}, {cols}, {self.column_name}, {self.type_name_2_index(self.column_name)}\u0026#39;) def zip_dict(dic1: dict, dic2: dict): if dic1.keys() != dic2.keys(): raise for key in dic1.keys(): yield key, dic1[key], dic2[key] columns1: list = self.sql_1.columns(table, ) columns2: list = self.sql_2.columns(table, ) col_name1 = set(get_names(columns1)) col_name2 = set(get_names(columns2)) col_common = col_name1 \u0026amp; col_name2 logger.debug(\u0026#39;COMMON COLUMNS : %s\u0026#39;, col_common) if len(col_name1 - col_common) != 0: logger.info(f\u0026#39;[{self.check_type.upper()}.QA]{self.sql_1.SQL_DB}.{table}ç‹¬æœ‰çš„åˆ—: {col_name1 - col_common}\u0026#39;) if len(col_name2 - col_common) != 0: logger.info( f\u0026#39;[{self.check_type.upper()}.PROD].{self.sql_2.SQL_DB}.{table}ç‹¬æœ‰çš„åˆ—: {col_name2 - col_common}\u0026#39;) for _col_name in col_common: c1 = find_item(_col_name, columns1) c2 = find_item(_col_name, columns2) logger.debug(f\u0026#39;{c1} -- {c2}\u0026#39;) if c1 == c2: continue logger.debug(\u0026#39;å·®å¼‚çš„åˆ—å±æ€§\u0026#39;) # db.table [Field] å­—æ®µå·®å¼‚: (å·®å¼‚å­—æ®µ) \u0026lt;å·®å¼‚å±æ€§å€¼QA\u0026gt; - \u0026lt;å·®å¼‚å±æ€§å€¼PROD\u0026gt;, \u0026lt;å·®å¼‚å±æ€§å€¼QA\u0026gt; - \u0026lt;å·®å¼‚å±æ€§å€¼PROD\u0026gt; ... diff_fields = ( f\u0026#39;({key})\u0026lt;{str(field1)}\u0026gt;-\u0026lt;{str(field2)}\u0026gt;\u0026#39; for key, field1, field2 in zip_dict(c1, c2) if field1 != field2 # TODO å¦‚æœ‰éœ€è¦ åæœŸæ­¤å¤„åˆ¤æ–­å¯ä»¥ä½¿ç”¨æ–¹æ³•åšå¤æ‚æ ¡éªŒ ) logger.info(f\u0026#39;[{self.check_type.upper()}]{self.sql_2.SQL_DB}.{table} [{_col_name}] å­—æ®µå·®å¼‚: %s\u0026#39;, \u0026#39;, \u0026#39;.join(diff_fields)) def create_sql(info, test=False): def _add_host(name: str): if name[0] in map(str, {1, 2, 3, 4, 5, 6, 7, 8, 9, 0}): return name if name.endswith(\u0026#39;.com\u0026#39;): return name # return name return name + \u0026#39;.cloud.wal-mart.com\u0026#39; db_qa = info[1] db_prod = info[8] if info[8] else info[1] if info[0].lower() == \u0026#39;mysql\u0026#39;: qa = MySqlAPI(host=_add_host(info[2]), port=3306, user=info[3], password=info[4], db=db_qa, ) prod = MySqlAPI(host=_add_host(info[5]), port=3306, user=info[6], password=info[7], db=db_prod, ) elif info[0].lower() == \u0026#39;sqlserver\u0026#39;: qa = MsSqlAPI(host=_add_host(info[2]), port=14481, user=info[3], password=info[4], db=db_qa, ) prod = MsSqlAPI(host=_add_host(info[5]), port=14481, user=info[6], password=info[7], db=db_prod, ) else: raise ValueError(f\u0026#39;å€¼é”™è¯¯: %s\u0026#39;, info) qa.zone, prod.zone = \u0026#39;qa\u0026#39;, \u0026#39;prod\u0026#39; if test: qa.tables_name(), prod.tables_name() return qa, prod def main(config_file: str): \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; map_ = { \u0026#39;mysql\u0026#39;: [\u0026#39;Field\u0026#39;, \u0026#39;Type\u0026#39;, \u0026#39;Key\u0026#39;, \u0026#39;Default\u0026#39;, \u0026#39;Extra\u0026#39;], \u0026#39;sqlserver\u0026#39;: [ \u0026#39;TABLE_OWNER\u0026#39;, \u0026#39;TABLE_NAME\u0026#39;, \u0026#39;COLUMN_NAME\u0026#39;, \u0026#39;TYPE_NAME\u0026#39;, \u0026#39;PRECISION\u0026#39;, \u0026#39;LENGTH\u0026#39;, \u0026#39;SCALE\u0026#39;, \u0026#39;RADIX\u0026#39;, \u0026#39;NULLABLE\u0026#39;, \u0026#39;COLUMN_DEF\u0026#39;, \u0026#39;SQL_DATA_TYPE\u0026#39;, \u0026#39;SS_DATA_TYPE\u0026#39; ] } for line in csv.reader(open(config_file, encoding=\u0026#39;gbk\u0026#39;)): if line[0] == \u0026#39;\u0026#39;: break if line[0].lower() in {\u0026#39;æ•°æ®åº“ç±»å‹\u0026#39;, } or line[0][-1] == \u0026#39;-\u0026#39;: logger.info(f\u0026#39;skip -- [{line[0].upper()}]{line[1]}\u0026#39;) continue if line[1] not in [\u0026#39;d_sam_logistics\u0026#39;]: # logger.info(\u0026#39;skip %s\u0026#39;, line[1]) continue if line[2] == \u0026#39;\u0026#39;: logger.info(f\u0026#39;=== Waring: (DB HOST Not Find [{line[0].upper()}]{line[1]})\u0026#39;) continue try: ContrastSQL(*create_sql(line), map_) # create_sql(line, test=True) print(f\u0026#39;{line[1]} Success \u0026#39;) except Exception as _e: logger.warning(\u0026#39;!=\u0026#39; * 20 + f\u0026#34;[{line[0].upper()}]{line[1]} Error\u0026#34; + \u0026#39;!=\u0026#39; * 10, ) logger.warning(f\u0026#39;!#!# {_e} !#!#\u0026#39;) logger.warning(\u0026#39;!=\u0026#39; * 20 + f\u0026#34;[{line[0].upper()}]{line[1]} Error\u0026#34; + \u0026#39;!=\u0026#39; * 10, ) if __name__ == \u0026#39;__main__\u0026#39;: logging.basicConfig(level=\u0026#39;DEBUG\u0026#39;) logger.setLevel(\u0026#39;INFO\u0026#39;) file = logging.FileHandler(\u0026#39;sql-2.log\u0026#39;, \u0026#39;w\u0026#39;, encoding=\u0026#39;utf8\u0026#39;) file.setLevel(\u0026#39;INFO\u0026#39;) logging.getLogger().addHandler(file) logger.info(time.strftime(\u0026#39;=== Start Time %x %X\u0026#39;)) pa = r\u0026#39;C:\\Users\\vn54lnb\\Desktop\\WMT\\bcdr_prod_qa_sql.csv\u0026#39; main(pa) logger.info(time.strftime(\u0026#39;=== End Time %x %X\u0026#39;)) ","date":"2022-11-17T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E7%BB%93%E6%9E%84%E5%AF%B9%E6%AF%94%E5%B0%8F%E5%B7%A5%E5%85%B7/","title":"æ•°æ®åº“è¡¨ç»“æ„å¯¹æ¯”å°å·¥å…·"},{"content":"esxi snmp é…ç½® esxi è¯¦ç»†æ–‡æ¡£è®¾ç½®VMware vSphere æ–‡æ¡£\nå¼€å¯ snmp 1 2 esxcli system snmp set --communities public,private esxcli system snmp set --enable true é…ç½®è½®è¯¢çš„ SNMP ä»£ç† 1 esxcli system snmp set --port 1600 ","date":"2022-10-29T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/yujunshu-2/","title":"esxi snmp é…ç½®"},{"content":" è‡ªåºï¼š\nç»™ä¸–ç•Œåˆ«ä¸€ä¸ªæˆ‘\næµ©ï¼š\nè¿™æ˜¯ä½ äºäºŒåäº”å²çš„ç››å¤ï¼Œäºåˆé—´åäº”æ—¶é›¶ä¹åˆ†åŠ¨ç¬”å†™çš„ä¿¡ï¼Œå¤©æ°”ç°è’™è’™çš„ï¼ŒåŸå¸‚åƒæ˜¯æŠ«äº†ä¸€å±‚ä¿æŠ¤è‰²ï¼Œä½ æ­¤æ—¶çš„å¿ƒæƒ…ï¼Œæœ‰ç‚¹å°å¿§ä¼¤ï¼Œä½†æ— å…³ç—›ç—’ï¼Œæ—¶å…‰å¦‚æ²™ï¼Œæ¸æ¸æ»´è½ï¼Œæœ‰ä¸€ç§å¿†ï¼Œå«åšæœ€ç¾ã€‚å°±åƒå”é¡¿åº„å›­é‡Œå†™çš„ä¸€æ ·ï¼šThe business of life is the acquisition of memories.In the end that's all there is. (äººç”Ÿå°±æ˜¯ä¸æ–­æ”¶é›†å›å¿†çš„è¿‡ç¨‹ï¼Œæœ€ç»ˆèƒ½é™ªä¼´æˆ‘ä»¬çš„ä¹Ÿåªæœ‰å›å¿†äº†ã€‚)é‚£ä¹ˆé•¿è¯çŸ­è¯´ï¼Œå°±åƒä»¥å‰é‚£æ ·ï¼Œè¯‰è¯´ä½ çš„è¿‡å¾€æ—¶å¹´ï¼Œå¯å¦ä¹æ„ï¼Ÿ (å…¶å®ä¸ç®¡ä¹æ„ä¸å¦æˆ‘è¿˜æ˜¯è¿˜è¯´ã€‚)\nå½“ç„¶å…ˆä»çˆ±æƒ…è¿™ä¸ªè¯é¢˜è¯´èµ· å±±æœ‰æœ¨å…®æœ¨æœ‰æï¼Œå¿ƒæ‚¦å›å…®å›ä¸çŸ¥ã€‚\nåœ¨å…³äºçˆ±çš„æ•…äº‹é‡Œï¼Œä½ æœ€çˆ±å¬çŸ¢å¿—ä¸æ¸ï¼›åœ¨æ‰€æœ‰çš„å©šå§»é‡Œï¼Œä½ æœ€çˆ±çš„æ˜¯å¿ è´ä¸ç§»ã€‚\nå¾ˆå¹´è½»çš„æ—¶å€™ä½ è°ˆèµ·æ‹çˆ±å°±å¥‹ä¸é¡¾èº«ã€é£è›¾æ‰‘ç«ï¼Œåæ¥çƒ§é€€äº†ã€æ¢¦é†’äº†ã€‚ä¹‹åä¸æ˜¯æ²¡æœ‰é‡åˆ°æ›´å¥½çš„ï¼Œåªæ˜¯æ¸©åº¦æ²¡é‚£ä¹ˆç®€å•ä¼ åˆ°å¿ƒé‡Œé¢äº†ã€‚ä½ ä¹ŸçŸ¥é“ä¸¤ä¸ªäººç»ˆå½’æ¯”ä¸€ä¸ªäººæ¸©æš–ï¼Œä½†ä½ è¿˜æ˜¯åœ¨ç­‰ã€‚ä½ è¯´é‚£äººå‡ºç°æ—¶ï¼Œä½ çš„æ¸©åº¦å°±ä¼šä»å¿ƒé‡Œä¼ æ¥ï¼Œä½ ä¸æ€•å‘çƒ§ï¼Œå› ä¸ºå¯¹æ–¹å’Œä½ ä¸€æ ·ã€‚è¿™ç§æ„Ÿè§‰è®©ä½ å®‰å¿ƒï¼Œå°±åƒä¸‡å®¶ç¯ç«ã€æ¼«å¤©æ˜Ÿæ˜Ÿå’Œç¨»ç”°é‡Œçš„è¤ç«è™«ã€‚ä½ æ˜¯çŸ¥é“çš„å˜›ï¼Œå°‘å¹´æ—¶å…‰ï¼Œæœ€ç¾ä¸è¿‡å–œæ¬¢ã€‚\nä½†ç»è¿‡äº†é‚£æ®µé£è›¾æ‰‘ç«çš„çˆ±æƒ…ï¼Œè®©ä½ å¯¹çˆ±æƒ…æœ‰äº›å®³æ€•ï¼Œä½ æ€»æ˜¯è®¤çœŸä¸”æ€‚ï¼Œä¸æ•¢å‘Šè¯‰é‚£ä¸ªä½ åœ¨å¤§ä¸€å°±å–œæ¬¢çš„å§‘å¨˜ï¼Œå–œæ¬¢å¥¹ï¼Œæ‰€ä»¥ä½ ä¸€ç›´åœ¨ç§¯æ”’ï¼Œç§¯æ”’ä½ å¯¹å¥¹çš„å–œæ¬¢ï¼Œæ€»æ˜¯åˆ¶é€ ä¸€äº›â€œå¶é‡â€ï¼Œè®©ä½ å‡ºç°åœ¨å¥¹çš„ç”Ÿæ´»ä¸­ï¼Œå…¶å®çˆ±æƒ…é‡Œæ²¡æœ‰å¶ç„¶ï¼Œåªæœ‰å¿…ç„¶ã€‚å°±åƒé‚£ä¸ªå¤å¤©ï¼Œå¥¹é—®ä½ ï¼Œæˆ‘ä»¬çš„æœªæ¥ä¼šæ˜¯æ€æ ·ï¼Ÿå¥¹é—­ä¸Šçœ¼ç›ã€‚ã€‚ã€‚ç„¶åä½ é—­ä¸Šçœ¼æ™´ï¼Œä¹Ÿçœ‹ä¸åˆ°è‡ªå·±ï¼Œä½†ä½ èƒ½çœ‹åˆ°å¥¹ã€‚å†ä¹‹åï¼Œå¥¹é—®ä½ ï¼Œä½ å–œæ¬¢çš„æ˜¯è°å•Šï¼Ÿä½ åªæ˜¯ä¸è¯´è¯ï¼Œå¾®ç¬‘ï¼Œçœ¼ç›é‡Œçœ‹åˆ°çš„ï¼Œå…¨æ˜¯å¥¹ã€‚ä½†ä½ è¿˜æ˜¯æ€‚ï¼Œä¸æ•¢è¯´ä½ å‡ºå¯¹å¥¹çš„å–œæ¬¢ï¼Œç»è¿‡ä¸€å¹´çš„æ²‰æ·€ï¼Œä½ å‘ç°ä½ å¯¹å¥¹çš„å–œæ¬¢æ—¥ç›ŠåŠ æ·±ï¼Œç»ˆäºåœ¨åæœˆåˆï¼Œåœ¨å¥¹é€¼é—®ä½ å°†è¿‘ä¸¤ä¸ªå°æ—¶çš„æƒ…å†µä¸‹ï¼Œä½ ç»ˆäºè¯´å‡ºäº†å¯¹å¥¹çš„å–œæ¬¢ï¼Œä½ æ»¡æ€€æœŸå¾…ï¼Œå¿å¿‘ä¸å®‰ï¼ŒæœŸå¾…ç€å¥¹çš„ç­”æ¡ˆï¼Œå¯æ˜¯è¿‡äº†ä¸¤å¤©ï¼Œä½ å‘ç°ï¼Œå¥¹ä»¥ä¸ºä½ åªæ˜¯å¼€ç©ç¬‘ï¼ˆå…¶å®é‚£æ—¶å€™ä½ å·²ç»çŸ¥é“äº†ç»“æœ)ï¼Œä½ ä¸ç”˜å¿ƒï¼Œäºæ˜¯ä½ ç»§ç»­ä½œæ­»ï¼Œä½ ç»™å¥¹å‘äº†å–œæ¬¢å¥¹çš„â€œå‰å› åæœâ€ï¼Œä½ è¿˜æ˜¯æœ‰å¯¹äºå¸Œæœ›çš„å¿ äºï¼Œä½†æ˜¯å¥¹çš„ç¬¬ä¸€å¥å›å¤å°±è®©ä½ çŸ¥é“è¿™æ˜¯ä¸€åœºæ„å¤–ï¼ˆæˆ‘æƒ³æˆ‘ä»¬ä»¥åè¿æœ‹å‹éƒ½åšä¸æˆäº†)ï¼Œè€Œå¥¹æ‹’ç»ä½ çš„ç†ç”±ï¼Œå°±æ˜¯ä½ ä¸å¤Ÿå‹‡æ•¢ï¼Œå¥¹å–œæ¬¢é‚£ç§â€œç›´æŠ’èƒ¸è‡†â€çš„ï¼Œæ˜¯å•Šï¼Œä½ å¯¹çˆ±æƒ…çš„æ€åº¦å°±æ˜¯è®¤çœŸä¸”æ€‚ï¼Œä½ æ€»æ˜¯åœ¨æƒ³ï¼Œå¦‚æœæ—©ä¸€ç‚¹ï¼Œèƒ½åœ¨å¥¹æƒ…çª¦åˆå¼€çš„æ—¶å€™äºå¥¹ç›¸é‡ï¼Œå“ªæ€•æ˜¯ç›¸é‡ä¸ç›¸è¯†éƒ½å¥½ï¼Œè®©ä½ åšä¸€ä¸ªç»è¿‡å¥¹èº«è¾¹çš„äººï¼Œä¸€ä¸ªåªæœ‰ä¸€é¢ä¹‹ç¼˜ï¼Œå´å› å¥¹å¿ƒèŠ±æ€’æ”¾çš„äººã€‚ä½ å¯¹çˆ±æƒ…çš„å®Œæ•´æ€åº¦å°±æ˜¯ â€”â€” è®¤çœŸä¸”æ€‚ï¼Œä»ä¸€è€Œç»ˆã€‚\nåæ¥æ˜ç™½ï¼Œå…¶å®æ‰€æœ‰å–œæ¬¢ï¼Œå°±ç®—æ²¡æœ‰åœ¨ä¸€èµ·ï¼Œä¹Ÿæ²¡æœ‰å…³ç³»,å› ä¸º,ä½ ä¹Ÿä¼šå–œæ¬¢é‚£ä¸ªå› ä¸ºå–œæ¬¢å¥¹è€Œé—ªé—ªå‘å…‰çš„è‡ªå·±ï¼Œä¸–ç•Œä¸Šå¤šå¾—æ˜¯çˆ±è€Œä¸å¾—å’Œäº²çˆ±çš„é™Œç”Ÿäººï¼Œè€Œè¿™ä¸–ä¸Šä¹Ÿå¤šå¾—æ˜¯æ¸©æŸ”å¾…ä½ å’Œç¬‘é¥å¦‚èŠ±çš„äººï¼Œæ‰€ä»¥ï¼ŒæŠŠè¿™ä»½å–œæ¬¢æ‚„æ‚„çš„æ”¾åœ¨å¿ƒåº•å°±å¥½ã€‚\næœ€åï¼Œä½ å†™ä¸‹è¿™æ ·ä¸€å¥è¯ä¸€ä¸€å³ä½¿æ˜¯æ²¡æœ‰ç»“æœçš„çˆ±ï¼Œå‘½ä¸­æ³¨å®šæ²¡æœ‰æœªæ¥ï¼Œæ˜¯ä¸ªåŠ«æ•°ä¹Ÿç½¢ï¼Œä¹Ÿç”˜æ„¿ã€‚ä»æ„Ÿæ¿€ä½ ã€‚æ˜¯ä½ ï¼Œè®©è¿™çˆ±ç»½äºå¿ƒä¸Šã€‚åªæ˜¯ï¼Œæ­¤åå®‰ç¨³å²æœˆï¼Œä¸å†æåŠã€‚è‡ªæ­¤ï¼Œç›¸å¿˜äºæ±Ÿæ¹–ã€‚\né£ ä½ è¦å»å“ªé‡Œå•Š å·å·å»è¿‡å¥¹è„¸é¢Šçš„äº‹ä½ å¿˜è®°äº†å— å¥¹ è¿˜ä¸€ç›´åœ¨ç­‰ä½ å•Š ç”¨æœ€ç¾å¥½çš„å¹´åæ¥è¯‰å°½è¡·è‚  ä½ è¯´ä½ æ˜¯é£ é¡·åˆ»é—´ä¾¿ä¸è§è¸ªå½± åæ¥ ä½ ä¸çŸ¥é“çš„æ˜¯ å¥¹å˜æˆäº†äº‘ æ¯ä¸€ä¸ªé£å¹è¿‡çš„åœ°æ–¹ éƒ½æœ‰å¥¹çš„è¶³è¿¹ è€Œä¼´äº†å¥¹ä¸€ç”Ÿçš„ ä¾¿æ˜¯é›¨ â€œæ—¶é—´çš„è·¨åº¦ä¸è¿‡æ˜¯ä¸€æ¬¡é‡è§å’Œå‘Šåˆ«ï¼Œâ€‹è€Œæˆ‘ä¸æ•¢å¾€æ—¶é—´é‡Œï¼Œå†çœ‹ä¸€çœ¼ã€‚â€\nåœ¨é‚£å³å°†æ­¥å…¥å¤§å››çš„å‡æœŸï¼Œé‚£ä¸ªæ—¶å€™è¡—ä¸Šåˆ°å¤„æ”¾ç€é™ˆé›ªå‡çš„ã€Šç»¿è‰²ã€‹ï¼Œå¤©æ°”æœ‰äº›é—·é—·çƒ­ï¼Œå°‘å¹´å’Œå°‘å¥³çš„åˆæ¬¡è§é¢å°±åœ¨ç™½é©¬æ¹–çš„å…¥å£ï¼Œæ²¿ç€æ²³ç•”ä¸€è·¯å‘å‰ï¼Œå°‘å¹´å’Œå°‘å¥³æ¯•ç«Ÿæ˜¯ç¬¬ä¸€æ¬¡è§é¢ï¼Œå¤§æŠµæ˜¯æ²‰é»˜çš„ï¼Œå°±åƒã€Šé—¨å‰ã€‹è¯—é‡Œä¸€æ ·â€œè‰åœ¨ç»“å®ƒçš„ç§å­ï¼Œé£åœ¨æ‘‡å®ƒçš„å¶å­ï¼Œæˆ‘ä»¬ç«™ç€ï¼Œä¸è¯´è¯ï¼Œå°±ååˆ†ç¾å¥½ã€‚â€å°±è¿™æ ·ä¸€è·¯èµ°åˆ°å¤§å°æ²³è¡—ï¼Œå¤©è‰²æ¸æ¸æš—äº†ä¸‹æ¥ï¼Œè‰å£°è½ä¸‹ï¼Œè›™å£°å“èµ·ã€‚é£å¾å¾å¹è¿‡è€³æ—ï¼Œå°±è¿™æ ·ï¼Œæ•…äº‹å¼€å§‹äº†ã€‚\nå°±å†å¾€æ—¶å…‰çš„å¤¹ç¼é‡Œå·å·çœ‹ä¸€çœ¼å§ï¼Œé‚£æ—¶å€™ï¼ŒèšŠå­åˆ†å¤–åš£å¼ ï¼Œå¤©æ°”é—·çƒ­é—·çƒ­çš„å´ä¹Ÿä¸æ„¿æ„æŠŠç‰µç€çš„æ‰‹åˆ†å¼€ï¼Œç™½é©¬æ¹–çš„è¡—é“å¥½ä¼¼æ²¡æœ‰å°½å¤´ï¼ŒçŸ³æ¡¥ä¸‹çš„æ¸©å­˜ï¼Œå›å®¿èˆæ—¶å…¬æ”¾ç€çš„ã€Šå±±æ¥‚æ ‘ä¹‹æ‹ã€‹ï¼Œæˆ–è€…æ˜¯è¾¹èµ°è¾¹å†™è¯—å¿µç»™å°‘å¥³å¬çš„å°‘å¹´ï¼Œä¸€èµ·çœ‹çš„ã€Šéšå½¢å®ˆæŠ¤è€…ã€‹ï¼Œå°‘å¹´è¯´ç€å¿ƒé‡Œçš„å¿§è™‘ï¼Œå°‘å¥³å®‰é™çš„å¬ç€ï¼Œé™é™çš„æ²»æ„ˆç€å°‘å¹´ï¼Œè¿˜æœ‰é‚£æ—¶å€™æ€»ä¼šä¹°ä¸€ç“¶é…¸å¥¶ç»™å°‘å¥³çš„å°‘å¹´ï¼ŒåŸæ¥é‚£æ—¶å€™çš„æ™šé£ï¼Œéƒ½å¾ˆæ¸©æŸ”ã€‚\næœ‰äº›æ•…äº‹ç»ˆç©¶æ˜¯æ²¡æœ‰ç»“å°¾çš„ï¼Œå°±åƒæ—¥è½æ—¶è½»è½»å‘å‡ºçš„é‚£å£°å¹æ¯å•Šï¼Œæ—¶å…‰éƒ½ä¸å¿æƒŠå¹ç››å¤çš„é‚£å£°å‘“è¯­ã€‚\nå°±åƒç¦»å¼€é‚£å¤©ï¼Œç¡è²ç¾å“’å“’çš„è—åœ¨è²å¶é‡Œå¼ æœ›ç‚¹æ°´çš„èœ»èœ“ï¼Œèœ»èœ“ä¹Ÿä¸è¯´è¯ï¼Œåªæ˜¯ç”¨åŒç¿¼è½»æ‹‚é£çš„è„¸é¢Šï¼Œé£ä¹Ÿä¸è¯´è¯ï¼Œåªæ˜¯æ»¡å«ç¬‘æ„åœ°çœ‹ç€äº‘æœµï¼Œäº‘æœµä¹Ÿä¸è¯´è¯ï¼Œåªæ˜¯å®‰é™åœ°æœ›ç€é‚£ç‰‡è”šè“çš„å¤©ç©ºï¼Œå¤©ç©ºä¹Ÿä¸è¯´è¯ï¼Œåªæ˜¯æ˜ ç…§é˜³å…‰ä¸‹çš„å°‘å¹´ï¼Œå°‘å¹´ä¹Ÿä¸è¯´è¯ï¼Œåªæ˜¯é»˜é»˜çœ‹ç€æ—¶å…‰æ·±å¤„çš„å°‘å¥³ï¼Œå°‘å¥³ä¹Ÿä¸è¯´è¯â€¦â€¦\nåªæ˜¯æœ€åé‚£å£°å†è§ä¸ä¸ºä»»ä½•äººã€‚\né‚£ä¸ªç››å¤ï¼Œåªæ˜¯è¿˜æ²¡æ¥å¾—åŠå¥½å¥½é“åˆ«ï¼Œå°±è¢«é£å¹å‘åˆ«ç¦»ã€‚é£æ¥è¿‡çš„ï¼Œåªæ˜¯å¹äº†ä¸€é˜µï¼Œå°±åªä½™ç››å¤æ—¶è½»è½»å‘å‡ºçš„ä¸€å£°å¹æ¯ï¼Œå°‘å¹´æ€»è§‰å¾—æ˜¯æœ‰äºæ¬ çš„ï¼ŒæŠ±æ­‰ï¼Œé‚£æ—¶å€™çš„å°‘å¹´åœ¨å››é¢éƒ½æ˜¯å¢™çš„ç©ºé—´é‡Œï¼Œç½¢äº†ï¼Œç½¢äº†ï¼Œå·²æ˜¯é»„æ˜ç‹¬è‡ªæ„ï¼Œæ›´ç€é£å’Œé›¨ã€‚æ˜¯å•Šï¼Œæœ‰äº›äººï¼Œåªè§è¿‡ä¸€é¢ï¼Œä½™ä¸‹çš„åªå‰©å‘Šåˆ«äº†ã€‚ä½†é‚£ä¸€é¢ï¼Œä¹ŸæƒŠè‰³è¿‡å°‘å¹´çš„æ—¶å…‰ï¼Œè«å¬ç©¿æ—æ‰“å¶å£°ï¼Œä½•å¦¨åŸå•¸ä¸”å¾è¡Œã€‚å°‘å¥³ï¼Œå‘å‰çœ‹å§ï¼Œæµ·å­æ›¾è¯´ï¼šä½ æ¥äººé—´ä¸€è¶Ÿï¼Œä½ å¾—çœ‹çœ‹å¤ªé˜³ï¼Œå’Œä½ çš„å¿ƒä¸Šäººï¼Œä¸€èµ·èµ°åœ¨è¡—ä¸Šã€‚å°±åƒä»Šå¤©ï¼Œè½éœæ‰“ç¿»äº†ä¸€ç›æ®‹é˜³ï¼Œæµè´¨çš„äº‘éœæ¼«éè¥¿å¤©ï¼Œå¸¦ç€è€³æœºå¬æ­Œçš„å°‘å¹´ï¼Œæ¼«æ­¥åœ¨æ—é—´å°è·¯ï¼Œæƒ³ç€ä¸–é—´æ™´æœ—ï¼Œä¸‡ç‰©å¯çˆ±ã€‚å¯¹å•Šï¼Œé£æ¥è¿‡çš„ï¼Œç‚™çƒ­çš„ï¼Œæ¸©æš–çš„ï¼Œæ€…ç„¶çš„â€¦å¯æ˜¯é£æ€»æ˜¯è¦èµ°çš„å•Šï¼Œæ—¢ç„¶ç•™ä¸ä½ï¼Œä¸å¦‚è®©é£æŠŠæ€å¿µå¸¦èµ°å§ã€‚\næœ€åï¼Œå°‘å¹´è¿™ä¸‹è¿™æ ·ä¸€å¥è¯â€”â€”æˆ‘ä»¬è¿™ä¸€ç”Ÿä¼šé‡è§å¤šå°‘äººï¼Œç¼˜ä»½å¦‚è¿™éœ²ç ä¸€èˆ¬ï¼Œæœç”Ÿæš®æ­»ï¼ŒæƒŠè‰³ä¸€åˆ¹ã€‚é‚£äº›åœ¨ç”Ÿå‘½ä¸­ç•™ä¸‹æƒŠé¸¿ä¸€ç¥çš„äººä»¬ï¼Œæ­¤åå±±é«˜æ°´è¿œï¼Œå„è‡ªçé‡ã€‚\né£æ›¾å¬è¿‡ ä¸€ç‰‡è½å¶çš„æ€å¿µ ä¸€æœµæ¢¨èŠ±çš„å“€æ€¨ ä¸€åœºç››å¤çš„ç›¸é‡ æ‰€æœ‰æ•…äº‹çš„å¼€å§‹ ç¾å¾—å†’æ³¡ æ‰€æœ‰æ•…äº‹çš„ç»“æŸ æ‚²çš„åƒç‹— ç»†ç»†å“å° äººæƒ…å†·æš– ä¸–æ€ç‚å‡‰ çº¢å°˜æ¼«æ¼« æ»šæ»šå¿ƒäº‹ å”¯è‡ªå·±æ‡‚ å¿ƒé‡Œçš„é‚£ä¸ªäºº é•¿å¾—å¥½åƒä½  ä»é‡Œåˆ°å¤–æ— ä¸€ä¸åˆæˆ‘å¿ƒæ„ è¿½é€ç€ç¨»ç”°çš„å°è€é¼ ï¼Œä¸‰ä¸¤å£°è¯´ç€å…¥å†¬çš„æ•…äº‹ï¼Œæ™šç§‹çš„é£å¹ç€æ²³å²¸ï¼Œæ¢§æ¡çš„è½å¶è½»å»æ¡‚èŠ±çš„è„¸é¢Šï¼Œç”·å­©æŠŠæ™šé£è—è¿›æ€å¿µé‡Œï¼Œå»åˆ°é‚£ä¸ªä¸é¦™èŠ±ä¼¼çš„å¥³å­©ã€‚\næ€»å½’æ˜¯ä¸¤ä¸ªå­¤ç‹¬çš„çµé­‚ï¼Œäºè¿™å†¬æ—¥ç›¸é€¢ï¼Œâ€œåœ¨æ—¶é—´çš„æ— æ¶¯çš„è’é‡é‡Œï¼Œæ²¡æœ‰æ—©ä¸€æ­¥ï¼Œä¹Ÿæ²¡æœ‰æ™šä¸€æ­¥ï¼Œåˆšå·§èµ¶ä¸Šäº†ã€‚â€é‚£æ—¶å€™çš„ç”·å­©åˆšç»å†äº†ä¸€åœºé‡å¤§çš„ã€ä¸å¯è¨€å–»çš„ç—›è‹¦ï¼Œè€Œå¥³å­©åˆ™æ˜¯æŠ‘éƒä¸å‰çš„ã€‚å¹¸è¿çš„äººæ€»æ˜¯ç›¸ä¼¼çš„ï¼Œè€Œä¸å¹¸çš„äººæ˜¯ä¼šç›¸äº’å¸å¼•çš„ï¼Œé‚£äº›æ¸©æŸ”çš„è¯è¯­ï¼Œæ„ŸåŠ¨çš„ç¬é—´ï¼Œå¿ƒæ…¢æ…¢é è¿‘ï¼Œå°±åƒç”·å­©è¯—é‡Œå†™çš„ï¼š\nè·¯è¾¹å¶é‡ä¸€æœµé‡å±±èŒ¶èŠ± åœ¨ç­‰ç€æ˜¥å¤© ä¼šç››å¼€çš„ å¸¦ç€æ³¥åœŸçš„èŠ¬èŠ³ çº¯å‡€ ç¾å¥½ é™é™æœ›ç€å¯¹é¢é‚£é¢—æ¢¨æ ‘ æ²‰é»˜ éª„å‚² æ ¹æ·±æ·±æ‰è¿›åœŸé‡Œ ç—´æƒ… è“¬å‹ƒ æˆ‘ç›¸ä¿¡çš„ ä¸€ç›´ç›¸ä¿¡ æ€»æœ‰ä¼šç››å¼€çš„é‚£å¤© èŠ±é¦™å››æº¢ æ²äººå¿ƒè„¾ ä»–ä»¬å†æ¬¡ç›¸é‡çš„é‚£å¤©ï¼Œç”·å­©ä»è®°å¾—å›å»çš„æ—¶å€™ï¼Œç«è½¦ç«™å¤–æ‰“äº†ä¸€å±‚åšåšçš„éœœï¼Œå¯’é£åˆºéª¨ä¹Ÿå†·æ¸…ï¼Œå¥³å­©ç‹¬è‡ªç«™åœ¨æ¥åº”å£ç­‰ç€ï¼Œå››ä¸ªå°æ—¶çš„ç­‰å¾…ï¼Œå¥³å­©çš„æ‰‹è„šå·²ç»å†°å‡‰ï¼Œå´ä»æœ›ç€ç«™å£ï¼Œç”·å­©å› ä¸ºæ ¸é…¸çš„ç¼˜æ•…ç„¦æ€¥çš„ç­‰å¾…ç€ç»“æœï¼Œç»“æœä¸‹æ¥ä¹‹åé©¬ä¸åœè¹„çš„èµ¶å‘è½¦ç«™å£ï¼Œå¿«æ­¥èµ°å‘å†»åˆ°å‘æŠ–çš„å¥³å­©ï¼Œä¸¤ä¸ªå­¤å¯‚çš„çµé­‚ï¼Œæ…¢æ…¢é åœ¨ä¸€èµ·ã€‚\nä»–ä»¬åœ¨ä¸€èµ·äº†ï¼Œæ²¡æœ‰æµ·èª“å±±ç›Ÿï¼Œäº¦æ²¡æœ‰ç›¸äº’å°†å°±ï¼Œåªæ˜¯å¹³å¹³æ·¡æ·¡çš„ä»é›ªä¸­èµ°è¿‡ï¼Œæ˜¯å•Šï¼æ­¤é—´é•¿æƒ…ã€‚å¥³å­©å¯¹ç”·å­©è¯´ï¼šâ€œæˆ‘ä»¬éƒ½æ˜¯æš—æ·¡çš„äººï¼Œå´åœ¨å½¼æ­¤çš„äº¤é›†é‡Œå‘ç°äº†å…‰ã€‚â€ç”·å­©å›é“ï¼šâ€œæ¸…æ™¨ï¼Œæœéœ²ï¼Œæ—è«ï¼Œæ™šéœï¼Œé»„æ˜ï¼Œä¸ä½ ã€‚â€æ˜¯å•Šï¼Œæ­¤é—´æƒ…é•¿ã€‚\nä»–ä»¬çƒ­æ‹äº†ï¼Œä¸€èµ·åƒé¥­ï¼Œä¸€èµ·é€›å•†åœºï¼Œä¸€èµ·è¯´ç€ç”Ÿæ´»é‡Œçš„è¶£äº‹ï¼Œä¸€èµ·åæ§½ç€å·¥ä½œçš„æ— è¶£ï¼Œåªæ˜¯é›ªä¸åœ¨ä¸‹äº†ï¼Œä¸‡ç‰©å¼€å§‹å¤è‹ï¼Œç§¯é›ªå¼€å§‹èåŒ–ã€‚é™ªä¼´å°±æ˜¯æœ€é•¿æƒ…çš„å‘Šç™½ï¼Œç”·å­©æ˜¯è¿™æ ·æƒ³çš„ã€‚\nä»–ä»¬ä¸åœ¨ä¸€èµ·äº†ï¼Œæ˜¯å•Šï¼Œç»ˆç©¶é™ªä¼´åªæ˜¯é™ªä¼´ï¼Œè§£å†³ä¸äº†é—®é¢˜çš„æ ¹æœ¬ï¼Œå¥³å­©ä¾æ—§æ˜¯å¤„åœ¨æŠ‘éƒçš„ç¯å¢ƒé‡Œï¼Œç”·å­©æ— åŠ›æ”¹å˜è¿™äº›ï¼Œè™½ç„¶ç”·å­©ä¹Ÿæ›¾æƒ³é™ªå¥³å­©èµ°å‡ºè¿™æ ·çš„ç¯å¢ƒé‡Œï¼Œå¯å¥³å­©ç»ˆç©¶æ˜¯æ²¡èƒ½èµ°å‡ºæ¥ï¼Œæœ€åï¼Œå¥³å­©ç»ˆç©¶æ˜¯å¯¹ç”·å­©è¯´äº†ï¼šæˆ‘ä»¬ä¸èƒ½åœ¨è¿™æ ·ä¸‹å»äº†ï¼Œæˆ‘ä»¬åˆ†å¼€å§ã€‚ç”·å­©å¿ƒé‡Œä¸€åƒä¸ªä¸€ä¸‡ä¸ªä¸æ„¿æ„ï¼Œè¯åˆ°å£è¾¹å´æ˜¯åŒæ„äº†åˆ†å¼€ï¼Œå› ä¸ºç”·å­©çŸ¥é“è‡ªå·±æ²¡åŠæ³•æ”¹å˜å¥³å­©ï¼Œç»ˆç©¶æ˜¯ä¸åˆé€‚çš„ä¸¤ä¸ªäººï¼Œåªæ˜¯åœ¨å†¬å¤œé‡Œçœ‹äº†ä¸€åœºé›ªï¼ŒåŒæ·‹äº†ä¸€åœºé›¨ï¼Œå°±è¦å„è‡ªå›åˆ°è‡ªå·±çš„ç”Ÿæ´»é‡Œäº†ã€‚é‚£å¤©çš„é£å¾ˆå¹³é™ï¼Œå´å¹ä¸æ•£äº›è®¸ç¦»æ„ï¼Œå¤©æ°”æ ¼å¤–çš„çƒ­ï¼Œç”·å­©å´ä¸è‚¯å½’å»ï¼Œæ¼«æ­¥åœ¨é“ºæ»¡å›å¿†çš„å°è·¯ä¸Šï¼Œä¸é¦™èŠ±ç›ˆç›ˆæ’’æ’’ï¼Œè¿œå¤„ä¼ æ¥æ­Œå£°â€œè°å®¶çš„å§‘å¨˜æœ‰ç€é»é»‘é»é»‘çš„çœ¼â€å—“éŸ³æ²™å“‘ï¼Œå´åˆåŠ¨äººå¿ƒå¼¦ï¼Œå¤œè‰²æ­£æœ¦èƒ§ï¼Œç”·å­©ä»ä¸è‚¯å½’å»ï¼ŒæŠ“ç€è®°å¿†æ®‹ç•™çš„å½±å­ï¼Œç»†æ•°é‚£äº›å¼¥ç•™çš„æ¸©æŸ”ã€‚\næ²³å¯¹å²¸å¹æ¥ä¸€é˜µé£ é£å¹åˆ°å²¸è¾¹ å²¸é‚£è¾¹ ä¼«ç«‹ç€ä¸€ä¸ªä½ ï¼ˆå¥³å­©ï¼‰ æœ€åï¼Œç”·å­©å†™ä¸‹è¿™æ ·ä¸€å¥è¯â€”â€”æ•…äº‹çš„å¼€å¤´æ€»æ˜¯æå…·æ¸©æŸ”çš„ï¼Œå¤è‡³çš„é£ã€ç«‹ç§‹çš„é›¨ï¼Œæ³ªèŠ±ç‚¹ç¼€åœ¨å¾®ç¬‘çš„ç¦»åˆ«ä¸Šã€‚æ— å¦¨ï¼Œæ— å¦¨ï¼Œé£è›¾ä¹Ÿæ›¾æ‰‘è¿‡é‚£ç«ï¼Œå°½æƒ…ç‡ƒçƒ§çš„å²æœˆï¼Œå€¾å°½ä¸€ç”Ÿï¼Œä¸è¿‡æ˜¯å¤§æ¢¦ä¸€åœºï¼Œä¹Ÿç½¢ï¼Œæœ€ç‚™çƒ­çš„å­£èŠ‚ï¼Œå´æ‰¿è½½ç€æœ€ç››å¤§çš„åˆ«ç¦»ã€‚æ•…äº‹çš„ç»“å°¾ä¹Ÿæå…·æ¸©æŸ”ï¼Œç«‹æ˜¥çš„æš–ï¼Œå†¬è‡³çš„å¯’ï¼Œæ‚²å–œè—åœ¨æ¬¢æ„‰çš„å›å¿†é‡Œã€‚\næˆ‘æŠŠä¸–ä¿—ä¸€é¥®è€Œå°½ å´ä¸çŸ¥ä½•æ—¶æ³ªæŒ‚åœ¨çœ¼è§’ æˆ‘çŸ¥ æˆ‘å¿µ æˆ‘ç—› å°±è¿™æ ·æŠ“ç€ä¸€å¤§æŠŠå›å¿† å¾’åŠ³çš„ æˆ‘æœ‰å¹¸ä¼´ä½ è¿‡å¯’å†¬ è¿˜è·¯è¿‡æš–æ˜¥ å‘ç€å¤è‡³ ä½ æ€è¿˜ä½ç€å¤´ å‘å—èµ° æˆ‘æ’ç ´å—å±± å»åˆ°äº‘é‚£è¾¹ ä½ è½¬èº«å¾®ç¬‘ç€ è½»è½»çš„å‘èŒ«ç„¶çš„æˆ‘æŒ¥æŒ¥æ‰‹ ä»æ­¤æ™šé£ä¸å†æ¸©æŸ” ç”·å­©å†æ— æ˜¥å» äº¦æ— ç§‹æ¥ å…­å¹´æ—¶å…‰è¿‡å»ï¼Œçˆ±æƒ…ä¸è¿‡æ˜¯å¾€è¿™æ±ªæ´‹å¤§æµ·é‡ŒæŠ•äº†ä¸€å—çŸ³å­ï¼Œåªæ˜¯æ³›äº†äº›æ³¢æ¾œï¼Œæ—¥å­ä¾¿åˆå½’äºå¹³é™ï¼Œæ˜¯å•Šï¼Œçˆ±æƒ…ä¸æ˜¯ç”Ÿæ´»çš„å…¨éƒ¨ï¼Œé‚£ç”Ÿæ´»è¿˜æœ‰ä»€ä¹ˆå‘¢ï¼Ÿå½“ç„¶è¿˜æœ‰è‡ªæˆ‘ï¼Œå°±æ¯”å¦‚å¦‚ä»Šçš„æˆ‘ä»ç„¶æ„Ÿè°¢é‚£äº›åœ¨å²æœˆé‡ŒæƒŠè‰³è¿‡æˆ‘çš„äººå„¿ï¼Œè®©æˆ‘æˆä¸ºè‡ªå·±çš„å…‰ï¼Œå¸å¼•åŠ›æ³•åˆ™å‘Šè¯‰æˆ‘ä»¬ï¼Œä½ è¦æˆä¸ºçˆ±çš„ç£é“ï¼Œæ˜¯å•Šï¼Œæ³°æˆˆå°”è¯´è¿‡ï¼šä¸æ˜¯æˆ‘é€‰æ‹©é‚£æœ€å¥½çš„ï¼Œæ˜¯é‚£æœ€å¥½çš„é€‰æ‹©æˆ‘ã€‚å¦‚ä»Šä»å¿ƒæ€€æ„Ÿæ¿€ï¼Œæ¯•ç«Ÿï¼Œæ•™ä¼šæˆ‘å¦‚ä½•å»çˆ±ï¼Œå¦‚ä½•å»è¢«çˆ±ã€‚æœ€åï¼Œå†™ä¸‹è¿™æ ·ä¸€å¥è¯ï¼šé‚£äº›æ›¾åœ¨å¿ƒåº•é‡Œå¾…è¿‡ä¸€æ®µæ—¶é—´çš„äººå„¿ï¼Œå°±å¥½åƒæ—¶å…‰é…¿çš„ä¸€å›çƒˆé…’ï¼Œæ²‰é†‰äº†å›å¿†ï¼Œäº¦æ¸…é†’äº†äººç”Ÿã€‚ä¸æ›¾è¨€è¯­çš„çˆ±æ‹ï¼Œå°±è®©é£æŠŠå®ƒå¹å‘è¿‡å¾€å§ã€‚å€¼å¾—æ€€å¿µå§ï¼Œæ¯•ç«Ÿå•Šï¼Œæ”’äº†å¤šå°‘ä¸ªå¤•é˜³ä»¥åŠæœéœ²ã€‚\nè‡ªä¸Šè€Œä¸‹çš„é›¨æ»´ è½åœ¨å…‰æ»‘çš„é•œé¢ä¸Š æ—¥å­è¿‡å¾—å€’ä¹Ÿæ¸…é—² é€æ¸äº†ç„¶ é£ä¸ºä½•å¸¦èµ°æ¸©æŸ” ä¸€å®šæ˜¯è—äº†å¤ªå¤šæƒ³å¿µäº†å§ é›¨ä¸ºä½•åŸ‹ç€å“€æ€¨ ä¸€å®šæ˜¯è¯´äº†å¤ªå¤šèª“è¨€äº†å§ æ²¹çº¸ä¼ä¸‹çš„æ³¥æ³ é‚£äº›æƒŠè‰³äº†æ—¶å…‰çš„å€’å½± æ±‡èšæˆä¸ƒè‰²çš„äº‘çƒŸ é›¨å£°åœäº† æˆ‘ä»¬éƒ½è¦æˆä¸ºå…‰å‘€ ä¸åªæ˜¯ç…§åœ¨ä¸€ä¸ªäººçš„å¿ƒä¸Š è€Œæ˜¯è¦æ‰“è´¥é‚£äº›å¿ƒåº•é‡Œçš„å°å°æ€ªå…½ è¿œæ–¹æœ‰æ¢¦ æ¢¦è¿˜å¾ˆé•¿ æ¥ä¸‹æ¥ï¼Œä¾¿æ˜¯è‡ªæˆ‘è¿™ä¸ªè¯é¢˜ï¼Œç«Ÿç„¶æ˜¯å…³äºè‡ªæˆ‘ï¼Œä¾¿ç”¨ä½ çš„è§†è§’æ¥å†™è¿™ä¸€æ®µè¿‡å¾€å§ã€‚\nå…­å¹´çš„æ—¶å…‰æ‰ç¢æˆå½±ï¼Œæ’’åœ¨æ¯ä¸€æ¡åä¸ºé’æ˜¥çš„è·¯ä¸Šã€‚è¿™ä¹ˆäº›å¹´ï¼Œä½ çš„æ€§æ ¼æ¸æ¸è¶‹äºå¹³å’Œï¼Œè®²åˆ°è‡ªæˆ‘ï¼Œå°±å¾—è¯´è¯´ä¸Šæ–‡ä¸­é‚£åœºé‡å¤§çš„ã€ä¸å¯è¨€å–»çš„ç—›è‹¦å§ã€‚\nä½ çŸ¥é“ä½ ç”Ÿç—…äº†ï¼Œç—…äº†å¥½äº›å¹´äº†ï¼Œåœ¨ä¸å›ä¹¦ï¼ˆä¸€ï¼‰é‡Œå°±æåˆ°è¿‡çš„ï¼Œæ¯åˆ°é›¨å¤©ï¼Œå°±ä¼šæœ‰ä¸€ç§æ·±å…¥éª¨é«“çš„å†·ï¼Œé‚£æ˜¯æŠ‘éƒç—‡çš„ç”Ÿç†ååº”ï¼Œåæ¥èº«è¾¹çš„äººè®©ä½ æ„Ÿåˆ°æ¸©æš–ï¼Œç—…æƒ…ä¹Ÿæœ‰æ‰€ç¼“è§£ï¼Œç”Ÿç†ä¸Šçš„ååº”ä¹Ÿæ¸æ¸æ¶ˆå¤±ï¼Œä¾¿åˆè§‰å¾—è¿™äººé—´å¯è´µã€‚\nç›´åˆ°ç–«æƒ…å¼€å§‹çš„æ—¶å€™ï¼ŒäºŒé›¶å¹´åˆï¼Œå­¦ä¸šå’Œç”Ÿæ´»çš„åŒé‡å‹åŠ›ä¹‹ä¸‹ï¼Œç—…æƒ…åŠ é‡äº†ã€‚\näºŒæœˆåä¸‰å·\nâ€œæˆ‘ç”Ÿç—…äº†â€â€œèµ°é¥­ï¼Œç­‰æˆ‘é†’æ¥å°±å¸¦æˆ‘èµ°å¥½å—ï¼Ÿç®—æˆ‘æ±‚ä½ ã€‚â€ï¼ˆèµ°é¥­å› ä¸ºæŠ‘éƒç—‡è€Œç¦»å¼€çš„ä¸–é—´ï¼‰\nä»è®°å¾—èµ°é¥­çš„æœ€åä¸€æ¡å¾®åšâ€œæˆ‘æœ‰æŠ‘éƒç—‡ï¼Œæ‰€ä»¥å°±å»æ­»ä¸€æ­»ï¼Œæ²¡ä»€ä¹ˆé‡è¦çš„åŸå› ï¼Œå¤§å®¶ä¸å¿…åœ¨æ„æˆ‘çš„ç¦»å¼€ï¼Œæ‹œæ‹œå•¦ã€‚â€é‚£æ ·é²œæ´»çš„ç”Ÿå‘½ï¼Œå°±æ°¸è¿œå®šæ ¼åœ¨äº†12å¹´3æœˆ17å·çš„å‡Œæ™¨ã€‚\nåŒæ˜¯äºŒæœˆåä¸‰å·è¿™å¤©ä½ å†™ä¸‹â€œä¸‹è¾ˆå­åšç‰›åšé©¬ï¼Œå®åœ¨ä¸è¡Œåšå¤´çŒªã€‚â€\nå› ä¸ºä½ ä¸æ„¿æ„å†åšä¸€æ¬¡äººï¼Œæ´»åœ¨è¿™ä¸–ä¸Šã€‚\nè¿˜æ˜¯åœ¨è¿™ä¸€å¤©ï¼Œä½ å†™ä¸‹â€œå°±åƒä¸€æ¡æ— äººé—®æ´¥çš„å°è·¯ï¼Œé›¨æ°´å†²åˆ·äº†æ‰€æœ‰ç—•è¿¹ï¼Œäºæ˜¯å°±å˜æˆäº†æ³¥åœŸä¸­çš„ä»»æ„ä¸€å‘˜ï¼Œåˆåƒæ˜¯ä¸‡åƒå°˜åŸƒä¸­çš„ä¸€ç²’ï¼Œä¹Ÿæ›¾éšé£èµ·èˆï¼Œå¯æœ€ç»ˆè¿˜æ˜¯å½’äºå¹³é™ã€‚â€\nä½ æ´»åœ¨ä¸€ä¸ªå››é¢éƒ½æ˜¯å¢™çš„ç¯å¢ƒé‡Œï¼Œçœ‹ä¸è§å…‰ï¼Œçœ¼åº•é‡Œå°½æ˜¯ç°è‰²ï¼Œåªå‰©æ²‰é»˜ï¼Œä¹Ÿåªæœ‰æ²‰é»˜ã€‚\näºŒæœˆåå››å·\nâ€œèº«ä½“å®ƒå¥½åƒæœ‰è‡ªå·±çš„æƒ³æ³•äº†ï¼â€\nç”Ÿç†ä¸Šçš„è‹¦ç—›ä½¿ä½ ç²¾ç¥ä¸Šè¶Šå‘æŒ¯å¥‹ã€‚\näºŒæœˆåäº”å·\nâ€œä½ å¾—äº‰æ°”ï¼Œä½ å¾—å¯¹å¾—èµ·æˆ‘ä»¬â€¦â€¦æ²¡äº‹ï¼Œå¿«ç»“æŸäº†ï¼Œè¿™åœºæ¢¦ã€‚â€\nå°±å¥½åƒåšäº†ä¸€åœºæ¢¦ï¼Œç”Ÿä¸å¸¦æ¥æ­»ä¸å¸¦å»çš„ï¼Œåªæ˜¯æƒ³å¿«ç‚¹é†’æ¥ï¼Œå´æ€ä¹ˆä¹Ÿé†’ä¸è¿‡æ¥ã€‚\näºŒæœˆåå…­å·\nâ€œé›ªè‰çš„ä¸–ç•Œä¸æ¬¢è¿ä»»ä½•é²œæ´»çš„ç”Ÿå‘½ã€‚â€\né‚£ä¸ªç¬‘é¥å¦‚èŠ±çš„å§‘å¨˜å°±æ°¸è¿œåœç•™åœ¨äº†25å²ã€‚ä½ è§‰å¾—å¹¶ä¸æ²‰é‡ï¼Œåªæ˜¯è§‰å¾—æƒ‹æƒœã€‚æ¯•ç«Ÿä½ ä¹ŸåŒæ˜¯é²œæ´»çš„ç”Ÿå‘½ä¹‹ä¸€ã€‚\näºŒæœˆåä¸ƒå·\nâ€œæ²¡æœ‰äººå‘ç°æˆ‘æŠ‘éƒäº†ï¼Œä»–ä»¬åªæ˜¯è§‰å¾—æˆ‘å˜æ‡’äº†ï¼Œä¸çˆ±åŠ¨ï¼Œä¸çˆ±è¯´è¯ï¼Œä¸çˆ±åƒé¥­äº†ï¼Œåªæœ‰æˆ‘è‡ªå·±å¯Ÿè§‰åˆ°è‡ªå·±å¥½ç—›è‹¦ï¼Œå¥½ç—›è‹¦ã€‚â€\nä¸€ä¸ªæ˜ŸæœŸè¯´çš„å­—æ•°ä¸è¶…è¿‡10ä¸ªå­—ï¼Œé‚£ä¹ˆå¤–å‘çš„ä½ åœ¨æ‰€æœ‰äººçœ¼é‡Œæ˜¯è¿™ä¹ˆçš„â€œå†…å‘â€ã€‚\nâ€œæˆ‘ä¸€ç›´åœ¨æ’’è°ï¼Œä½†ä»–ä»¬ä¸çŸ¥é“çš„æ˜¯ï¼Œæˆ‘ä¸€æ—¦ä¸æ’’è°äº†ï¼Œæˆ‘å°±çœŸçš„å†ä¹Ÿä¸æ’’è°äº†ã€‚â€\nä¸€ç›´éª—è‡ªå·±éª—è¯´æˆ‘å¾ˆå¥½ï¼Œå¾ˆå¥½ã€‚å°±æ˜¯æ¯”è¾ƒâ€œå†…å‘â€ã€‚\nâ€œè¦æ˜¯ä¸Šå¤©å†ç»™æˆ‘ä¸€æ¬¡é€‰æ‹©çš„è¯ï¼Œæˆ‘ä¸æƒ³æ´»ç€â€”â€”ç”šè‡³æ´»è¿‡ã€‚â€\nå·²ç»æµä¸å‡ºä¸€æ»´çœ¼æ³ªäº†ï¼Œä½ ç”šè‡³æƒ³å›åˆ°äºŒåå¤šå¹´å‰æ€æ­»é‚£ä¸ªæ‰å‡ºç”Ÿçš„è‡ªå·±ã€‚\nâ€œæˆ‘æ€ä¹ˆå°±å˜æˆäº†å°æ—¶å€™æœ€è®¨åŒçš„è‡ªå·±å‘¢ ç”šæ˜¯åŒæ¶ å¯¹äº† æˆ‘åªæ˜¯è½»è§†äº†è‡ªå·±å¹¶æœªè½»è§†ç”Ÿå‘½ã€‚â€\nç”Ÿå‘½ä»ç„¶å¯è´µï¼Œåªæ˜¯ä½ è‡ªå·±è§‰å¾—å¯ä»¥å¯¹è‡ªå·±çš„ç”Ÿå‘½åšå‡ºå†³æ–­ç½¢äº†ã€‚\näºŒæœˆåå…«å·\nâ€œæˆ‘æ„¿åŒ–ä¸ºå°˜åŸƒ è€Œå æ¸æ¸æ¶ˆå¤±ä¸è§â€\nç”Ÿå‘½ä¸è¿‡å°±åªæ˜¯ä¸€åˆ¹é‚£ï¼Œåƒæ¯›ä¸æ˜“æ­Œé‡Œå†™çš„â€œä¸€ç”Ÿå¤ªçŸ­ï¼Œä¸€ç¬å¥½é•¿â€ä¸€æ ·ï¼Œåšè¿™æ¶ˆå¼­äºä¸–é—´çš„å°˜åŸƒä¹Ÿä¸é”™ã€‚\näºŒæœˆåä¹å·\nâ€œä»–ä»¬åˆå¼€å§‹å’Œæˆ‘è°ˆæœªæ¥äº†ï¼Œè¦æ­»è¦æ´»ä¹Ÿä¸ç®¡æˆ‘ï¼Œè¦æ´»æˆ‘ä¸çŸ¥é“ï¼Œå»æ­»æ˜¯è‚¯å®šçš„ã€‚â€\nâ€œåŸºç£æ•™å¾’ä¸å…è®¸è‡ªæ€ï¼Œæˆ‘å°±ç¬‘ç¬‘ä¸è¯´è¯ã€‚â€\näººç”Ÿæ¥å°±æ˜¯è¢«æŸç¼šç€çš„ï¼Œä¸è®ºæ˜¯è°éƒ½é€ƒè„±ä¸äº†ã€‚\näºŒæœˆäºŒåäºŒå·\nâ€œæ¯å¤©æ—©ä¸Šæˆ‘éƒ½åœ¨æƒ³è¯¥æ€ä¹ˆå»æ­»å¥½äº›ã€‚â€\nè·³æ¥¼æ­»ç›¸å¤ªéš¾çœ‹ï¼Œæœæ¯’è‚šå­ä¼šå¾ˆç–¼ï¼Œåƒä¸€ç“¶å®‰çœ è¯ä¹Ÿåªæ˜¯æ¶¨è‚šå­ï¼Œæ ¹æœ¬æ­»ä¸äº†ã€‚\näºŒæœˆäºŒåå››å·\nâ€œå•¥æ—¶å€™å¯ä»¥é£ç¿”å‘¢ï¼Ÿâ€\nè¿˜æ˜¯ä¼šå‘å¾€å¤©ç©ºï¼Œä»é«˜å¤„å¾€ä¸‹è·³å°±åƒé£èµ·æ¥äº†ä¸€æ ·ã€‚\näºŒæœˆäºŒåå…­å·\nâ€œæ˜¨å¤œæ¢¦é‡Œå¼€äº†ä¸ªæ‰¹æ–—å¤§ä¼šï¼Œå¾ˆè£å¹¸çš„æ˜¯ï¼Œæˆ‘æ˜¯ä¸»è§’ã€‚â€\näºŒæœˆäºŒåå…«å·\nâ€œä¸–é—´ä¸ºä½•å¦‚æ­¤è¿™èˆ¬ï¼Œå¦‚æ­¤è¿™èˆ¬ã€‚â€\næ²‰é»˜ä¸­ä¹Ÿçˆ†å‘ä¸äº†ï¼Œåªèƒ½åœ¨æ²‰é»˜ä¸­æ¶ˆäº¡ã€‚é¡¿æ—¶æ„Ÿè§‰å¾ˆå¯¹ä¸èµ·é²è¿…å…ˆç”Ÿã€‚\nâ€œæˆ‘è¦è‹¥æ— å…¶äº‹çš„è£…ä½œé¥­èœå¾ˆå¥½åƒçš„æ ·å­ï¼Œå…¶å®æ¯ä¸€å£æˆ‘éƒ½æƒ³åã€‚â€\nç”Ÿç†ä¸Šçš„ååº”è¶Šå‘ä¸¥é‡ã€‚\näºŒæœˆäºŒåä¹å·\nâ€œæœ€åé‚£å£°å†è§ä¸ä¸ºä»»ä½•äººã€‚â€\nä¹Ÿä¸éœ€è¦ä¸ºäº†ä»€ä¹ˆäººï¼Œå°±åªæ˜¯ä¸ºäº†è‡ªå·±è¯´ä¸€è¯´çš„å§\nä¸‰æœˆäºŒå·\nâ€œå¸¦ä¸Šå®‰å…¨å¸½ä¹‹åå°±åœ¨æƒ³ä»æ¥¼ä¸Šè·³ä¸‹å»ææ€•ä¸ä¼šæ­»å§ï¼Œå…«æˆæ˜¯é«˜ä½æˆªè‚¢ã€‚â€\nå·²ç»å†³å®šå¦‚ä½•ç¦»å¼€äº†ï¼ŒçœŸå¥½ã€‚\nâ€œæˆ‘ä¸æ„¿æ„ä¸ºè‡ªå·±è€Œæ´»ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©å»æ­»ã€‚â€\nä¸‰æœˆä¸‰å·\nâ€œæŠ‘éƒæ˜¯çˆ±çš„é™„å±å“ã€‚â€\nä»–ä»¬æ˜¯ä½ æœ€äº²è¿‘çš„äººï¼ŒåŒæ—¶ä¹ŸæŠŠåˆ€å­æ…è¿›äº†ä½ å¿ƒé‡Œã€‚\nä¸‰æœˆä¸ƒå·\nâ€œæˆ‘éš¾è¿‡çš„å¿«è¦åŒ–æ‰äº†ã€‚â€\nâ€œçœŸç¾¡æ…•é‚£äº›æ„å¤–æ­»äº¡çš„äººï¼Œå•Šï¼Œä¸å¯¹ï¼Œè¿™æ ·æ˜¯å¾ˆä¸å°Šé‡é‚£äº›æ„å¤–æ­»äº¡çš„äººï¼Œæ‰€ä»¥æ¢ä¸€ç§è¡¨è¾¾ï¼ŒçœŸå¸Œæœ›æˆ‘èƒ½æˆä¸ºæ„å¤–æ­»äº¡çš„äººã€‚â€\nåƒæ­»ç¥æ¥äº†é‡Œé¢ä¸€æ ·ï¼Œå’‹æ ·ä¹Ÿé€ƒè„±ä¸äº†çš„æ­»äº¡å¯å¤ªå¥‡å¦™äº†ã€‚\nä¸‰æœˆå…«å·\nâ€œå¾®é£å¹è¿‡ï¼ŒæèŠ±å¼€äº†ã€‚â€\nç­‰ä¹‹åç¦»å¼€ï¼Œå¸Œæœ›èƒ½ç”¨æèŠ±æ¥è®°å¿µå°±å¥½ã€‚\nâ€œä¸æ˜¯æˆ‘ä»¬è‡ªæ„¿æ¥åˆ°è¿™ä¸ªä¸–é—´çš„ï¼Œåˆä¸ºä½•åœ¨æ¥åˆ°ä¹‹åï¼Œå°±ä¸€å®šè¦èƒŒè´Ÿä»€ä¹ˆå‘¢ï¼Ÿâ€\nå¦‚æœå¯ä»¥é€‰æ‹©ï¼Œå®æ„¿ä¸è¦æ¥è¿™ä¸–é—´ã€‚\nä¸‰æœˆä¹å·\nâ€œåŸ‹æ€¨ï¼Œè´£éª‚ï¼Œæš´åŠ›â€¦â€\nâ€œè¯­è¨€æ˜¯æœ‰æ¸©åº¦çš„ã€‚â€\né‚£æ¸©åº¦è®©äººè§‰å¾—å¾ˆåˆºéª¨ï¼Œç”šè‡³æƒ³é€ƒç¦»ã€‚\nä¸‰æœˆåå·\nâ€œç”Ÿå­˜è¿˜æ˜¯æ­»äº¡ã€‚è¿™ä¸æ˜¯é—®é¢˜ã€‚â€\nä½†é€‰æ‹©é¢˜å˜æˆåªæœ‰ä¸€ä¸ªç­”æ¡ˆçš„å•é€‰é¢˜ä¹‹åï¼Œé—­ç€çœ¼ç›éƒ½èƒ½ç­”å¯¹ï¼\nä¸‰æœˆåä¸‰å·\nâ€œæˆ‘ä»¬æœ‰æƒåˆ©æ´»ç€ï¼Œå°±åƒæˆ‘ä»¬æœ‰æƒåˆ©å»æ­»ä¸€æ ·ã€‚â€\nè¿™æ˜¯å¤–ç•Œæ— æ³•å¹²é¢„çš„ï¼Œç»ç»å¯¹å¯¹çš„ç”±è‡ªæˆ‘å»é€‰æ‹©ã€‚\nä¸‰æœˆåå…­å·\nâ€œä½ ç”Ÿå‘½çš„æœ€åä¸€å¤©ä½ ä¼šåšä»€ä¹ˆï¼Ÿ\nå¾ˆå¤šæœ‰å›ç­”è¯´å¥½å¥½ç©è€ä¸€æ•´å¤©\nä¹Ÿæœ‰å›ç­”è¯´è¦é™ªå®¶äººå¥½å¥½å‘†ä¸€æ•´å¤©\nä¹Ÿæœ‰åšè‡ªå·±æƒ³åšå´ä»æœªæ•¢åšçš„äº‹\nè¯¸å¦‚æ­¤ç±»ã€‚ã€‚ã€‚å¤§å¤šæ˜¯å¾ˆç¾å¥½çš„ä¸€å¤©\næˆ‘å°±æ¯”è¾ƒå‰å®³äº†\næˆ‘å›ç­”è¯´\nå»æ­»ã€‚\nå€’ä¹Ÿä¸€ç‚¹é—®é¢˜ä¹Ÿæ²¡æœ‰â€\nä¸‰æœˆåä¹å·\nâ€œå¸Œæœ›ä¸è¦æœ‰ä¸‹è¾ˆå­äº†ã€‚â€\nâ€œäººæ€»æœ‰ä¸€æ­»ï¼Œæˆ–ä»Šå¤©æˆ–æ˜å¤©ï¼Œå®åœ¨ä¸è¡Œå¤§åå¤©ã€‚â€\nä¸‰æœˆäºŒåå·\nâ€œæˆ‘ä¸çŸ¥é“æ€ä¹ˆäº†ï¼Œä¸Šå•æ‰€å…¨æ˜¯è¡€ã€‚â€\nâ€œä¸€ç›´å¹²å‘•ï¼Œæˆ‘å¿«å¿ä¸ä¸‹å»äº†å•Šï¼Œè€å¤©ä½ æœ‰ç§å¼„æ­»æˆ‘ï¼Œç„¶åæˆ‘è¿˜è¦è°¢è°¢ä½ ã€‚â€\nâ€œå¹²å‘•å®Œèƒƒå°±æŠ½ç—›ï¼ŒæŠ½ç—›å®Œç»§ç»­å¹²å‘•ï¼ŒçœŸæ£’ï¼â€\nç”Ÿç†ä¸Šçš„ååº”è¶Šæ¥è¶Šä¸¥é‡ï¼Œèˆæ›²æ—ç‰‡åƒä¸‹å»æ˜¯è‹¦çš„ï¼Œå¿ƒå´æ˜¯ç”œçš„ã€‚\nè‡³æ­¤ï¼Œä½ å·²ç»å†³å®šè¦åœ¨äº”æœˆç¦»å¼€äº†ï¼Œä½ æŠŠç­¾åæ”¹æˆèµ°é¥­çš„è¯â€œå¥½åƒæ˜å¤©å°±è¦æµæµªå»è¿œæ–¹â€ï¼Œ ä½ é€‰å¥½äº†æ—¶é—´ï¼Œåœ°ç‚¹ï¼Œä½ ç‹¬è‡ªå‰å¾€ã€‚ç”šè‡³äºé—ä¹¦ä½ éƒ½å†™å¥½äº†ï¼Œæˆ‘ä»è®°å¾—ä½ é—ä¹¦é‡Œæœ‰è¿™ä¹ˆä¸€å¥è¯â€œæˆ‘å¯¹ä¸èµ·æ‰€æœ‰äººï¼Œé™¤â€ƒäº†è‡ªå·±ã€‚â€\näº”æœˆäºŒåäºŒå·\nä½ ç«™åœ¨äºŒåå±‚çš„åºŸå¼ƒå¤©å°ä¸Šï¼Œæ˜æ˜é‚£ä¹ˆæé«˜çš„äººå´å‘ä¸‹æœ›ç€ã€‚\nâ€œä¸å®³æ€•å—ï¼Ÿâ€\nâ€œå½“ç„¶å®³æ€•å•Šã€‚â€\nâ€œé‚£ä¸ºä»€ä¹ˆè¿˜è¦å¾€ä¸‹è·³ã€‚â€\nâ€œå› ä¸ºä¸æƒ³æ´»ç€ã€‚â€\nå·¦è„šè¿ˆä¸Šå›´æ ä¸Šï¼Œè¿™æ—¶åé¢çªç„¶æœ‰ä¸ªäººæŠŠä½ æ­»æ­»æŠ±ä½ã€‚\nâ€œä½ æ˜¯è°å•Šï¼Ÿâ€\nâ€œå°ä¼™å­ï¼Œæ²¡ä»€ä¹ˆè¿‡ä¸å»çš„ï¼Œå¿«ä¸‹æ¥ã€‚â€\nâ€œä½ æ”¾å¼€æˆ‘ã€‚â€æ·±å‘¼å¸äº†ä¸¤å£æ°”\nâ€œæˆ‘ä¸æ”¾ï¼â€\nå°±è¿™æ ·ï¼Œä½ è¢«ä¸€ä¸ªå…­åå¤šå²çš„è€å¤§çˆ·ç´§ç´§æŠ±ä½ï¼Œå¯èƒ½æ˜¯å»æ­»çš„å¿µå¤´èŠ±å…‰äº†ä½ æ‰€æœ‰æ°”åŠ›ï¼Œä»¥è‡³äºä½ ç«Ÿç„¶æŒ£è„±ä¸å¼€ã€‚\nå½“æ—¶æ˜¯æ™šä¸Šåç‚¹åŠå·¦å³ï¼Œå¤©è‰²æ—©å·²ç°æš—ï¼Œä½ ç‰¹æ„é€‰åœ¨è¿™ä¸ªæ—¶é—´è·¯ä¸Šéƒ½æ²¡ä»€ä¹ˆè¡Œäººé€‰æ‹©åœ¨è¿™æ ·ä¸€ä¸ªååƒ»çš„åœ°æ–¹ç¦»å¼€ï¼Œå´æ²¡æƒ³åˆ°ç«Ÿç„¶è¿˜æœ‰è¿™æ ·çš„ä¸€ä¸ªäººï¼Œå°¾éšäº†ä½ ä¸€è·¯ã€‚å¯èƒ½æ˜¯ä½ å‡€æƒ³ç€æ€ä¹ˆå»æ­»äº†ï¼Œä»¥è‡³äºéƒ½æ²¡å‘ç°åé¢çš„äººã€‚\nâ€œä½ ç´¯ä¸ç´¯ï¼Ÿä½ æ”¾å¼€ã€‚â€\nâ€œä¸æ”¾ï¼Œé™¤éä½ ç­”åº”æˆ‘ä½ ä¸è·³äº†æ‰è¡Œã€‚â€\nâ€œä½ æ”¾å¼€ï¼Œæˆ‘éƒ½æ²¡åŠ›æ°”äº†ï¼Œè¿˜å’‹è·³ã€‚â€\nâ€œå°ä¼™å­ï¼Œæˆ‘ç»™ä½ è¯´ï¼Œæ²¡ä»€ä¹ˆäº‹æ˜¯è¿‡ä¸å»çš„ï¼Œæƒ³å¼€ä¸€ç‚¹ï¼Œæƒ³æƒ³å®¶é‡Œäººï¼Œæƒ³æƒ³â€¦â€\nåæ¥ä½ çš„å¤§è„‘ä¸€ç‰‡ç©ºç™½ï¼Œåé¢è€å¤§çˆ·ä¸€ä¸ªåŠ²çš„å˜€å’•ç€ï¼Œå°±æ˜¯ä¸æŠŠæ‰‹æ¾å¼€ï¼Œç„¶åä½ å°±æ°”ç¬‘äº†ã€‚\nâ€œä½ å¿«æ”¾å¼€ï¼Œæˆ‘ä¸è·³äº†ã€‚â€\nç„¶è€Œè€å¤§çˆ·ä¸€ç‚¹æ”¾å¼€çš„æ„æ€éƒ½æ²¡æœ‰ï¼Œç¡¬ç”Ÿç”Ÿæ‹–ç€ä½ å¾€åæ‹‰ã€‚ä½ å·²ç»æ— åŠ›å»åæŠ—äº†ï¼Œåªèƒ½ä»»ç”±ä»–æ‹–ç€ï¼Œæ‹–åˆ°æ¥¼æ¢¯å£ï¼Œè€å¤§çˆ·æ‰æ”¾ä¸€åªæ‰‹ï¼Œå¦ä¸€åªæ‰‹è¿˜æŠ“ç€ä½ çš„æ‰‹è‡‚ï¼Œç”Ÿæ€•ä½ å†å¾€å›è·‘ã€‚å°±è¿™æ ·ä¸€è·¯èµ°ä¸‹æ¥¼æ¢¯ã€‚\nâ€œä½ æ˜¯ä¸æ˜¯è·Ÿäº†æˆ‘ä¸€è·¯ï¼Ÿâ€\nâ€œå°ä¼™å­ï¼Œæˆ‘ä¹°å®Œèœå°±çœ‹è§ä½ ä¸å¯¹åŠ²ï¼Œä½ è¯´ä½ ä¸€ä¸ªäººè·‘è¿™ä¹ˆè’åƒ»çš„åœ°æ–¹å¹²å•¥ï¼Œæˆ‘ä¸æ”¾å¿ƒï¼Œå°±ä¸€è·¯è·Ÿç€æ¥äº†ï¼Œä½ å°±åƒä¸¢äº†é­‚å„¿ä¸€æ ·ã€‚â€\nâ€œè¡Œäº†ï¼Œæˆ‘ä¸è·³äº†ï¼Œä½ å›å»å§ï¼Œè€å¤§çˆ·ã€‚â€\nâ€œå”‰ï¼Œå°±æ˜¯æˆ‘çš„èœä¸çŸ¥é“æ‰”å“ªå„¿å»äº†ï¼Œç®—äº†ï¼Œä½ èµ¶ç´§æ‰“è½¦å›å®¶å»å§ï¼Œæˆ‘çœ‹ç€ä½ ä¸Šè½¦ã€‚â€\nå›åˆ°å®¿èˆï¼Œçœ‹åˆ°é‚£ç›†å¤šè‚‰ï¼Œæœ¬æ¥å¥„å¥„ä¸€æ¯çš„å®ƒï¼Œ ç«Ÿç„¶æ´»è¿‡æ¥äº†ï¼Œæ›¾ä»¥ä¸ºå®ƒæ³¨å®šä¼šåœ¨è¿™ä¸ªå¤å¤©ç¦»å¼€çš„ï¼Œå¸¦ç€é‚£ä»½æ¯…ç„¶å†³ç„¶çš„æ­»äº¡ï¼Œå®ƒç”Ÿç—…å¥½ä¹…å•¦ï¼Œå¶å­ä¹Ÿæ¸æ¸æ³›é»„äº†ï¼Œå¯èƒ½å®ƒä¹Ÿæ›¾æƒ³è¿‡å°±è¿™ä¹ˆä¸€äº†ç™¾äº†å§ï¼Œå´æ²¡æƒ³åˆ°å®ƒè¦å¼€èŠ±äº†ï¼Œæƒ³èµ·é‚£æ—¶å€™ï¼Œå®ƒåªæ˜¯éœ€è¦ä¸€ç‚¹ç‚¹æ°´å°±å¯ä»¥æ´»è¿‡æ¥äº†ï¼Œå¯å®ƒçŸ¥é“ï¼Œåªæœ‰è‡ªå·±å¯ä»¥è¡¥ç»™è‡ªå·±ï¼Œå®ƒæŠŠæ‰€æœ‰ä½“å†…çš„æ°´åˆ†æ¦¨å¹²ï¼Œæƒ³æ¢ä¸€ä¸ªæœªæ¥ï¼Œå¯èƒ½æ˜¯å¤©è§çŠ¹æ€œï¼Œå®ƒç»ˆç©¶æŒºè¿‡é‚£ä¸ªå¤å¤©äº†ï¼Œå¹¶ä¸”è¦å¼€å‡ºèŠ±æ¥ã€‚\næœ€åï¼Œä½ å†™ä¸‹è¿™æ ·ä¸€å¥è¯â€”â€” å¤ªå®°æ²»è¯´:æˆ‘æœ¬æƒ³è¿™ä¸ªå†¬æ—¥å°±æ­»å»çš„ï¼Œå¯æœ€è¿‘æ‹¿åˆ°ä¸€å¥—é¼ ç°è‰²ç»†æ¡çº¹çš„éº»è´¨å’Œæœï¼Œæ˜¯é€‚åˆå¤å¤©ç©¿çš„å’Œæœï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯å…ˆæ´»åˆ°å¤å¤©å§ã€‚\nä½ çœ‹ï¼Œç”Ÿå‘½å¦‚æ­¤å®¹æ˜“æ»¡è¶³ï¼Œæˆ‘ä»è®°å¾—å»å¹´çš„è¿™ä¸ªæ—¶å€™ï¼Œæƒ³æ•‘ä¸€åªå‚æ­»æŒ£æ‰çš„é¸Ÿå„¿ï¼Œæœ€ååªä½™ä¸‹ä¸€æ»´çœ¼æ³ªï¼Œä½ å°½åŠ›äº†å•Šï¼Œä¸€ä¸ªæƒ³å»æ­»çš„äºº\nä¸€å®šæ˜¯å› ä¸ºæ´»çš„å¤ªè¿‡è®¤çœŸã€‚\nâ€œä½ è¦ç¬‘å•Šï¼â€\nâ€œå¥½çš„ã€‚â€\né£å„¿å•Š ä½ èƒ½å¬ä¸€å¬æˆ‘çš„æ€å¿µå— é‚£æ‰¾ä¸åˆ°å‡ºè·¯çš„ä¸€è…”å­¤å‹‡ ä½ èƒ½å¬ä¸€å¬å— å¦‚è‹¥ä¸èƒ½ é‚£ä½ å°±æŠŠä»–åŸ‹è‘¬äº†å§ é¡ºå¸¦ç€è¿æˆ‘çš„å¿ƒ ä¸€èµ· è‘¬äº†å§ é›¨å„¿å•Š ä½ èƒ½è¯´ä¸€è¯´æˆ‘çš„è¿‡å¾€å— é‚£ä¸ªå¸ƒæ»¡ä¼¤ç—›çš„å•è–„å°‘å¹´ ä½ èƒ½è¯´ä¸€è¯´å— å¦‚è‹¥ä¸èƒ½ é‚£ä½ å°±æŠŠä»–åŸ‹è‘¬äº†å§ é¡ºå¸¦ç€è¿è¿™å‰¯èº¯å£³ ä¸€èµ· è‘¬äº†å§ é›·å„¿å•Š ä½ èƒ½çœ‹ä¸€çœ‹æˆ‘çš„å½’é€”å— é‚£å¸ƒæ»¡è†æ£˜å´åˆçœ‹ä¸è§å°½å¤´çš„è·¯ ä½ èƒ½çœ‹ä¸€çœ‹å— å¦‚è‹¥ä¸èƒ½ é‚£ä½ å°±æŠŠä»–åŸ‹è‘¬äº†å§ é¡ºå¸¦ç€è¿æˆ‘çš„çµé­‚ ä¸€èµ· è‘¬äº†å§ å…‰å„¿å•Š æˆ‘å·²ç»æ²¡æœ‰ä»€ä¹ˆå¯ä»¥ç»™ä½ çš„äº† é‚£ä¾¿æŠŠæˆ‘æ‰€æœ‰éª¨å­é‡Œåˆ»ç€çš„ å¿ƒåº•é‡Œå°ç€çš„ ä¹Ÿä¸€å¹¶ è‘¬äº†å§ ç„¶è€ŒæŠ‘éƒç—‡å¹¶ä¸åƒæ„Ÿå†’äº†åƒè¯å°±ä¼šå¥½ï¼Œå‘çƒ§äº†æ‰“é’ˆå°±ä¼šå¥½ï¼Œæˆ‘åªæ˜¯çŸ­æš‚çš„é€ƒç¦»äº†é‚£ä¸ªåœ°æ–¹ï¼ˆå››é¢éƒ½æ˜¯ç°è‰²çš„å¢™ï¼‰ï¼Œç„¶è€Œæ¯•ä¸šä¹‹åæˆ‘ä»è¦å›åˆ°é‚£ä¸ªç¯å¢ƒã€‚åªæ˜¯æ’’äº†ä¸€ç‚¹æœˆå…‰çš„å¢™ï¼Œåˆæ¸æ¸è¢«é»‘æš—åæ²¡ã€‚\näº”æœˆä¸‰åä¸€å·\nâ€œæˆ‘æ˜¯å­¤ç‹¬ã€‚â€\nå…­æœˆä¸‰å·\nâ€œæˆ‘çš„éª¨å­é‡Œå¼¥æ¼«ç€æ‚²ä¼¤ã€‚â€\nå…­æœˆä¹å·\nâ€œä¸è¨€è¯­ã€‚â€\nå…­æœˆåäºŒå·\nâ€œç›¸é‡å’Œç¦»åˆ«å°±åœ¨ä¸€å¤©ï¼Œç”Ÿä¸æ­»ä¹‹é—´åªéš”äº†ä¸€åˆ¹é‚£ã€‚â€\nå…­æœˆåå››å·\nâ€œæˆ‘çš„è®°å¿†åŠ›åœ¨æ…¢æ…¢è¡°é€€ï¼Œå¥½å¤šäº‹æƒ…è¿‡äº†ä¸€ä¸¤å¤©æˆ‘å°±ä¸è®°å¾—äº†ï¼Œå°±åƒå¿«é€’ä»Šå¤©åˆ°äº†ï¼Œæˆ‘åå¤©æ‰æƒ³èµ·æ¥æˆ‘æœ‰å¿«é€’ã€‚â€\nå…­æœˆåä¸ƒå·\nâ€œä¸€ä¸ªäººçš„ç»†æ°´é•¿æµï¼Œä¸€ä¸ªäººçš„æµ®ä¸–æ¸…æ¬¢ã€‚â€\nå…­æœˆäºŒåå·\nâ€œæˆ‘å°±åƒä¸ªå“‘å·´ï¼Œä»–ä»¬è¿˜è¦æˆ‘å·´æ‹‰å·´æ‹‰â€¦â€\nå…­æœˆäºŒåä¸€å·\nâ€œå¦‚æœæœ‰å¦ä¸€ç§å¯èƒ½ï¼Œæˆ‘ä¸æ„¿åšæˆ‘ï¼Œç”šè‡³æˆ‘ä¸æ„¿æ„åšä»»ä½•äººã€‚â€\nå…­æœˆäºŒåä¸‰å·\nâ€œä»Šå¤©å°ä¾„å­é—®æˆ‘ï¼šå”å”æˆ‘æ„Ÿè§‰ä½ å¥½ä¹…éƒ½ä¸å¼€å¿ƒï¼Œä½ èƒ½ä¸èƒ½å¼€å¿ƒä¸€ç‚¹ã€‚æˆ‘é¡¿æ—¶æƒŠè§‰ï¼Œç”šè‡³è§‰å¾—æœ‰æ³ªåœ¨å³ã€‚å¤äººè¯šä¸æ¬ºæˆ‘ï¼Œå°å­©å­çœ‹å¾…äº‹ç‰©æœç„¶æ˜¯é€è¿‡ç°è±¡çœ‹æœ¬è´¨çš„ã€‚â€\nå…­æœˆäºŒåäº”å·\nâ€œè¶Šäº²è¿‘çš„äººå¾€å¾€è¶Šåˆ»è–„ï¼Œè€Œæˆ‘å°±ä¸æ˜¯ï¼Œæˆ‘å®½å®å¤§é‡ï¼Œç”šè‡³å¯ä»¥è¯´æˆ‘çš„è‚šå­é‡Œæœ‰ä¸€è‰˜èˆ¹ã€‚â€\nå…­æœˆäºŒåä¸ƒ\nâ€œä»Šå¤©å»æ‰¾å·¥ä½œäº†ï¼Œä»–ä»¬ç«Ÿç„¶è¯´æˆ‘è®²çš„å¾ˆä¸é”™ï¼Œæˆ‘æƒŠè®¶äº†ï¼Œæˆ‘ç«Ÿç„¶è¯´äº†è¿™ä¹ˆå¤šè¯ï¼Œæœç„¶ï¼Œé¢å¯¹å­©å­æˆ‘è¿˜æ˜¯èƒ½è¯´ä¸€äº›è¯çš„ã€‚â€\nå…­æœˆä¸‰åå·\nâ€œæˆ‘åˆå»é¢è¯•äº†ä¸€å®¶ï¼Œä»–ä»¬è¯´æˆ‘çš„å­—ä¸‘ï¼Œä½†ä»–ä»¬è¿˜æ˜¯åŒæ„è®©æˆ‘å®ä¹ ï¼Œéš¾ä¸æˆæ˜¯å› ä¸ºå¤ªç¼ºäººäº†ï¼Ÿâ€\nä¸ƒæœˆä¸€å·\nâ€œä»Šå¤©ä»–ä»¬æ‰¹è¯„ä»¥åŠåŸ‹æ€¨äº†æˆ‘ä¸€æ•´å¤©ï¼Œçªç„¶æ²¡å•¥æƒ³è¯´çš„äº†ï¼Œä¹Ÿæ²¡å•¥æƒ³å†™çš„äº†â€\nä¸ƒæœˆäºŒå·\nâ€œä»Šå¤©å’Œçˆ¶äº²â€œå¤§åµä¸€æ¶â€ï¼Œå½“ç„¶ï¼Œæˆ‘éƒ½æ˜¯æŠ½è‡ªå·±ï¼Œæˆ‘å’Œçˆ¶äº²éƒ½å“­äº†ï¼Œæœ¬æ¥æˆ‘æ²¡å“­ï¼Œç›´åˆ°çˆ¶äº²å“­äº†æˆ‘æ‰å“­äº†ï¼Œå°±è§‰å¾—ä¸–ç•Œå®‰é™äº†ï¼Œæˆ‘ä¸æƒ³å†è¯´ä»»ä½•ä¸€å¥è¯äº†ã€‚â€\nä¸ƒæœˆä¸‰å·\nâ€œä¸æ›¾è¨€è¯­ï¼Œä¸æ›¾å–œæ¶ï¼ˆwuï¼‰â€\nè‡³æ­¤ï¼Œä½ ç¦»å¼€äº†é‚£ä¸ªåœ°æ–¹ï¼Œæˆ–è€…è¯´ä½ é€ƒç¦»äº†é‚£ä¸ªå››é¢éƒ½æ˜¯ç°è‰²çš„å¢™çš„ç¯å¢ƒï¼Œè¯´å®è¯ï¼Œä¸æ˜¯ä»€ä¹ˆå¤§åŠ¨å¹²æˆˆçš„å¿ƒäº‹äº†ï¼ŒæŒ‰ç…§åŒ»ç”Ÿè¯´çš„ï¼ŒæŒ‰æ—¶åƒè¯ï¼Œè½¬æ¢å¿ƒæƒ…ï¼Œä¸€åˆ‡éƒ½ä¼šå¥½çš„ã€‚\næ›¾ç»æˆ‘ä¹Ÿæƒ³è¿‡ä¸€äº†ç™¾äº†ï¼Œå› ä¸ºå¿ƒæ—©å°±è¢«æç©ºï¼Œä¸èƒ½è¢«å¡«æ»¡ï¼Œå› ä¸ºæˆ‘ä»æ¸´æœ›æ´»ç€ï¼›æ›¾ç»æˆ‘ä¹Ÿæƒ³è¿‡ä¸€äº†ç™¾äº†ï¼Œå› ä¸ºé‚£æ¾å¼€çš„é‹å¸¦ï¼Œæˆ‘æ— æ³•å¥½å¥½å°†å®ƒç³»ç´§ï¼Œå¦‚åŒä¸æ‡‚å¾—ç³»ç´§è¿™ç›¸å¤„çš„å…³ç³»ä¸€èˆ¬ï¼›æ›¾ç»æˆ‘ä¹Ÿæƒ³è¿‡ä¸€äº†ç™¾äº†ï¼Œå› ä¸ºé‚£å¤©ç‹¬è‡ªç››å¼€çš„æèŠ±ï¼Œå®ƒä¸€å®šæ˜¯é‚£ä¹ˆåŠªåŠ›çš„æ´»ç€æ‰èƒ½ç››å¼€å•Šã€‚\nä¼¤ç–¤éƒ½ç•™ç»™å›å¿†å§ï¼Œæ”¾ä¸‹æ‰èƒ½å¾—åˆ°æ›´å¥½å•Šï¼ŒæŠ‘éƒç—‡ä¸æ˜¯ä»€ä¹ˆå¯ä»¥è®©äººæƒŠå¹çš„äº‹ï¼ŒåŒæ—¶ä¹Ÿä¸æ˜¯ä»€ä¹ˆè®©äººå¼‚ç›®çš„äº‹ï¼Œå°±ä»…ä»…æ˜¯ç”Ÿç†ä¸Šçš„ç—…ï¼Œæ²¡ä»€ä¹ˆå¥½åŒæƒ…ä»¥åŠæ€œæ‚¯çš„ã€‚\næœ€åï¼Œä½ å†™ä¸‹è¿™æ ·ä¸€å¥è¯ï¼šæˆ‘æ›¾ä¹Ÿæ˜¯æ­»äºä¸€åœºæ‚£éš¾çš„å­¤ç‹¬è€…ï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¥½æ‹æ¡ˆå«ç»çš„æ³¢æ¾œï¼Œä»…ä»…æ˜¯ä¸€é¢ç°è‰²çš„å¢™ï¼Œæ’’äº†ä¸€ç‚¹æœˆå…‰ï¼Œå°±ç…§äº®äº†ä¸€ä¸ªç››å¤ï¼Œæ„Ÿè°¢é‚£äº›ï¼Œæ„¿æ„æ’’ä¸€ç‚¹æœˆå…‰çš„äººå„¿ï¼Œè‡³æ­¤ï¼Œç”Ÿæ´»æ…¢æ…¢å½’äºå¹³é™ï¼Œæ²¡æœ‰ä»€ä¹ˆå¥½æ€èµ·å¿ƒç»ªçš„æ•…äº‹äº†ã€‚\nè¸Ÿè¹°ç€ æ­¥å±¥è¹’è·šç€ åƒæ˜¯é»„æ˜æœ€åçš„é‚£æŠ¹å¤•é˜³ å½³äºç€ ç»†æ°´é•¿æµç€ åƒæ˜¯æ ‘è«åçš„é‚£ä¸€ç‰‡è’è‰ å¾å¾ç€ å§—å§—æ¥è¿Ÿç€ åƒæ˜¯åˆå†¬åçš„ä¸€ç¬æš–é˜³ é‚£æ–œé˜³ä¸‹çš„ç¿…å½± è¢«æ—¶é—´æ‹‰é•¿çš„å½±å­ ä¸æ›¾è¨€è¯­ ä¸æ›¾å–œæ¶ é£å¹è¿‡æ¥äº†ï¼Œæˆ‘ä»¬éƒ½è¦åšæ›´å¥½çš„è‡ªå·±å•Šã€‚\nç„¶è€Œç”Ÿæ´»ä¸­ä¸ä»…ä»…åªæ˜¯èƒŒå…‰çš„é‚£ä¸€é¢ï¼Œä¹Ÿæœ‰å‘å…‰çš„é‚£ä¸€é¢å‘€ã€‚å°±åƒé‚£å¤©å»çš„ç¦åˆ©é™¢ï¼Œç„¶åä½ å‘ç°èº«ä½“ä¸Šçš„æ®‹ç¼ºå¾€å¾€å¿ƒçµæ›´ç¾ï¼Œä»–ä»¬çš„çœ¼ç›æ²¡æœ‰ä¸€ä¸æ‚è´¨ï¼Œç¬‘èµ·æ¥çš„æ ·å­æ˜¯ä½ è§è¿‡æœ€ç¾çš„å¤©ä½¿ï¼Œæœ‰çœ‹èµ·æ¥å‡¶å‡¶çš„å®é™…ä¸Šè¿æœ€åä¸€ä¸ªæ‰“æ‰«å«ç”Ÿçš„ä»–éƒ½ä¸å¿˜å–Šä»–ä¸Šå»ä¼‘æ¯çš„å¤§å®¶ä¼™ï¼Œä¹Ÿæœ‰ä¸ä¼šè¯´è¯ä½†å´ç¬‘çš„å¥½çº¯å¥½çº¯çš„å°å¯çˆ±â€¦â€¦å°±åœ¨å›æ¥çš„è·¯ä¸Šï¼Œå¸æœºé—®ä½ ä»¬å»é‚£ï¼ˆç¦åˆ©é™¢ï¼‰å¹²å˜›ï¼Ÿå‰æ’çš„ä¸€ä¸ªå°å­¦å¼Ÿè¯´ç¤¾å›¢ç»„ç»‡æ´»åŠ¨ï¼Œæˆ‘ä»¬å»ç©ã€‚ç„¶è€Œä½ å¿ƒé‡Œæƒ³çš„æ˜¯ï¼šæˆ‘æ˜¯å»çœ‹æœ€ç¾çš„å¤©ä½¿ï¼Œéƒ½æ˜¯è¿™è¾ˆå­æŠ˜äº†ç¿¼çš„ï¼Œå´åŠªåŠ›é£è¡Œçš„å°å¤©ä½¿ï¼Œæ„¿ä»¥åçš„æ—¥å­æˆ‘èƒ½çœ‹è§ä»–ä»¬å¼ å¼€åŒç¿¼ï¼Œå¸¦ç€æœ€ç¾çš„ç¬‘å®¹ï¼Œå‘å¤©è¾¹é£å»ã€‚\næ˜¯å•Šï¼Œé‚£ä¸ªæ—¶å€™çš„ä½ å‘å¾€ç€ç”Ÿæ´»ï¼Œè¯´æ¥ä¹Ÿæœ‰äº›å¥½ç¬‘ï¼Œä½ å¼€å§‹çœ‹å°çº¢ä¹¦ï¼Œç²¾å¿ƒæŒ‘é€‰æ­é…ï¼Œç”¨ç€ä¸çŸ¥æ˜¯å“ªå„¿çš„åæ–¹ï¼Œç”¨ç™½é†‹ã€é£Ÿç›ã€æ°´ï¼ˆæ¯”ä¾‹3ï¼š1ï¼š9ï¼‰æ¥æ´—è„¸ä»è€Œå˜ç™½ï¼Œå“ˆå“ˆï¼Œåæ¥ä½ æœçœŸå˜ç™½äº†ï¼Œä¸çŸ¥æ˜¯çœŸçš„æœ‰ç”¨è¿˜æ˜¯å¿ƒç†ä½œç”¨ã€‚å¾ˆå¤šæœ‹å‹é—®ä½ è¿‘æ¥æ€ä¹ˆå‘ç”Ÿäº†è¿™ä¹ˆå¤§çš„æ”¹å˜ï¼Œå…¶å®æ²¡ä»€ä¹ˆå¤§çš„æ”¹å˜ï¼Œåªæ˜¯æˆä¸ºäº†æ›´å–œæ¬¢çš„è‡ªå·±ï¼Œå¯¹ï¼Œè¿™ä¹ˆä¸­äºŒçš„è¯ä½ ç”šè‡³æƒ³è¦å¤§å£°å¯¹èº«è¾¹æ‰€æœ‰äººè¯´å‡ºæ¥ï¼Œç°åœ¨æˆ‘éƒ½æ›¿ä½ å°´å°¬ï¼ä¸è¿‡é‚£ä¸ªæ—¶å€™çš„ä½ æ˜¯çœŸçš„ç²¾è‡´çš„ï¼Œæ´—é¢å¥¶ã€çˆ½è‚¤æ°´ã€é¢è†œã€ç²¾åæ¶²â€¦é™¤äº†æ²¡æœ‰åŒ–å¦†ä½ ç”šè‡³æƒ³å¾€è„¸ä¸Šè´´ä¸€å±‚ä¿æŠ¤è†œï¼Œå½“ç„¶ï¼Œä¸ä»…å¦‚æ­¤ï¼Œä½ å¼€å§‹â€œèŠ±é‡Œèƒ¡å“¨â€çš„æ­é…å„ç§é¢œè‰²çš„è¡£æœï¼Œç»¿è‰²ã€ç±³å¥‡è‰²ã€æµ…è“ã€æ·¡çº¢ï¼Œç”šè‡³ç²‰è‰²ä½ ä¹Ÿæ²¡æ”¾è¿‡â€¦ ä½ è¿˜å†™ä¸‹å…¶å®æˆ‘ä¹Ÿåªæ˜¯çªç„¶ä¸æƒ³è®©è‡ªå·±å†ç³™ä¸‹å»äº†ï¼Œå¹¶æ²¡æœ‰å› ä¸ºæŸä»¶äº‹æˆ–è€…æŸä¸ªäººè€Œå»æ”¹å˜è‡ªå·±ï¼Œç²¾è‡´åªæ˜¯ä¸€ç§ç”Ÿæ´»å“è´¨ï¼Œå¸Œæœ›å¤§å®¶éƒ½å¯ä»¥æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„â€œç²¾è‡´â€ï¼Œåªè¦è‡ªå·±è§‰å¾—å¼€å¿ƒï¼Œé‚£åšå°±å¯¹äº†ã€‚å“ˆå“ˆå“ˆï¼Œé‚£ä¸ªæ—¶å€™ä½ ç”šè‡³è¿˜é…ä¸Šäº†å¤´å‘é•¿åˆ°ç«æ¯›çš„è‡ªæ‹ï¼å¦‚æ­¤ä¹‹ä¸­äºŒï¼Œå¦‚æ­¤ä¹‹ç¥ç»ï¼Œè®©æˆ‘æŠ å‡ºä¸‰å®¤ä¸€å…ã€‚\nå½“ç„¶ï¼Œæ–‡å­—å§‹ç»ˆé™ªä¼´ç€ä½ ï¼Œå°±åƒé‚£å¤©ä½ å†™ä¸‹ï¼šæ„¿ä½ å†å°½åƒå¸†ï¼Œå½’æ¥ä»æ˜¯å°‘å¹´ï¼Œå–œæ¬¢çš„äº‹å°±å»åšå§ï¼Œå–œæ¬¢çš„äººå°±å»è¡¨ç™½å§ï¼Œè¿™é’è‘±å²æœˆï¼Œä¸å¹²ä¸€ä¸¤ä»¶è®©è‡ªå·±ç–¯ç‹‚çš„äº‹ï¼Œé‚£åˆæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Œè¶æˆ‘ä»¬è¿˜å¹´è½»ï¼Œè¶æ—¶å…‰è¿˜æœªè€ã€‚\næˆ–è€…æ˜¯ï¼šäººé—´å››æœˆï¼Œæš–åˆ°è½æ³ªã€‚\näº¦æˆ–è€…æ˜¯ï¼šå…¶å®æ‰€æœ‰å–œæ¬¢ï¼Œå°±ç®—æ²¡æœ‰åœ¨ä¸€èµ·ï¼Œä¹Ÿæ²¡æœ‰å…³ç³»,å› ä¸º,ä½ ä¹Ÿä¼šå–œæ¬¢é‚£ä¸ªå› ä¸ºå–œæ¬¢ä»–è€Œé—ªé—ªå‘å…‰çš„è‡ªå·±ï¼Œä¸–ç•Œä¸Šå¤šå¾—æ˜¯çˆ±è€Œä¸å¾—å’Œäº²çˆ±çš„é™Œç”Ÿäººï¼Œè¿˜è¯·å–„å¾…è‡ªå·±ï¼Œè€Œè¿™ä¸–ä¸Šä¹Ÿå¤šå¾—æ˜¯æ¸©æŸ”å¾…ä½ å’Œä¸€è§ä½ å°±ç¬‘çš„äººï¼Œæ‰€ä»¥ï¼ŒæŠŠè¿™ä»½å–œæ¬¢æ‚„æ‚„çš„æ”¾åœ¨å¿ƒåº•å°±å¥½ã€‚\nä½ çœ‹ï¼Œæ—¥å­å¯ä»¥å¦‚æ­¤ç®€å•ä¸”å……è£•ï¼Œç”Ÿæ´»ä¹Ÿå¯ä»¥å¦‚æ­¤è¯—æ„ä¸”æµªæ¼«ã€‚æœ€åï¼Œä½ å†™ä¸‹è¿™æ ·ä¸€å¥è¯ï¼šæˆ‘å»åˆ°è¿‡é»‘å¤œï¼Œä¹Ÿæ›¾è§è¿‡æš–é˜³ï¼Œå–è¿‡ä¸€ç¢—ç‚™çƒ­é†‡åšçš„çƒˆé…’ï¼Œä¹Ÿå“è¿‡ä¸€æ¯çƒ­é¦™æ‰‘é¼»çš„æµ“èŒ¶ï¼Œä¹Ÿè§åˆ°æ¢§æ¡çš„æ¯å¶å¹å‘è¿œæ–¹ï¼Œæ˜¯å•Šï¼Œç”Ÿå‘½å°±æ˜¯è¿™æ ·ä¸€åŠè’èŠœï¼Œä¸€åŠç››æ”¾ã€‚\né€å»çš„é’æ˜¥ å·å·å¬æ¸…é£ ç§è¯­ æ³ªèŠ±ç»½æ”¾å‡ºç¬‘çš„çœ¼è§’ å²æœˆçš„å˜å±ä½œå“ å¾˜å¾Šä¸å» æœ€æ˜¯é‚£ä¸€ä½å¤´çš„æ¸©æŸ” å¿ƒå¦‚æ­¢æ°´ æ³›èµ·æ³¢æ¾œ è¢«æ—¶å…‰æ¸©æ’’çš„å²æœˆ æ¸…æ™¨æœéœ² åˆé—´ç»¿èŒµ å‚æ™šéœå…‰ ä¸€å£¶é…’ é—²è¯´è¿‡å¾€ç¦»æ„ ä¸€æ¯èŒ¶ æ·¡å“å²æœˆæ¸…é¦™ ä¸€æ•…äºº è½»è¨€ä¸–é—´æ¸©æŸ” å¾å¾ å…­æœˆæœ«æš–é˜³çš„å¾®ç¬‘ çš„éœ‡é¢¤é‡Œ æˆ‘åœ¨ç­‰é£ å…­å¹´çš„æ—¶é—´è§æƒ¯äº†å¤šå°‘ç¦»åˆ«ï¼Œè€Œå¦‚ä»Šæ—¥å­è¿‡å¾—è¿˜å¥½ï¼Œæœ‰å‡ æ»´æ¸…é…’èˆ¬çš„æ•…äººä¹‹è°Šï¼Œæœ‰å‡ æ›²éªŠæ­Œèˆ¬çš„æ®·åˆ‡æ€å¿µï¼Œæ¥äººç…§æˆ‘ç¬‘é¥ï¼Œå»è€…ä¸å¼•æˆ‘æ‚²ä¼¤ï¼Œå¤æœ‰ä½•æ±‚ã€‚\næ¥ä¸‹æ¥ä¾¿æ˜¯ç¦»åˆ«è¿™ä¸ªè¯é¢˜ è¿™æ˜¯ä¸€åœºå¹³é™ä¸”å­¤ç‹¬çš„ç¦»åˆ«ã€‚\nå°±è®©æ—¶é—´å›åˆ°é‚£ä¸ªåå…«å²çš„å¹´åï¼ŒèƒŒä¸Šè¡Œå›Šï¼Œæ€»è§‰å¾—å¤–é¢çš„ä¸–ç•Œå¾ˆæ–°å¥‡ï¼Œä¸€ä¸ªäººçš„æ—…é€”ï¼Œä¸ƒåä¸ªå°æ—¶çš„ç«è½¦ï¼Œä¸€è·¯å‘å—ã€‚é‚£æ—¶å€™çš„å°‘å¹´è¿˜å¸¦ç€å€”å¼ºçš„æ¨¡æ ·ï¼Œè®¤ä¸ºè¿™ä¸–é—´ä¸è¿‡æ˜¯ä¸€åœºå‡‰è–„çš„æˆå‰§ï¼Œç”šè‡³è§‰å¾—æ²¡æœ‰ä»€ä¹ˆèƒ½ä½¿å°‘å¹´åœç•™ï¼Œå°‘å¹´åƒä¸ªä¸ç³»ä¹‹èˆŸä¸€èˆ¬ï¼Œæ¨ªå†²ç›´æ’çš„ã€é‡è›®ç”Ÿé•¿çš„æ”¾è‚†é’æ˜¥ã€‚ï¼ˆåæ¥å°‘å¹´æ‰çŸ¥é“ï¼Œæœ‰äººä¸ºæˆ‘ä»¬æ²äº†ä¸€ç¢—æ„Ÿæƒ…æ·±è‡´çš„æµ“èŒ¶ï¼Œæˆ‘ä»¬å´æ€»è¯´æ¥æ—¥æ–¹é•¿ï¼Œäºæ˜¯å°†èŒ¶ç¢—æç½®ï¼Œå¾…èŠ±é—´ä¸€æ¸¸å†å›ï¼Œæˆ–ä»–å¤„å°é…Œè€Œå½’ï¼Œä»¥ä¸ºå®ƒä¾æ—§ä¼šçƒ­é¦™æ‰‘é¼»ç­‰åœ¨é‚£é‡Œï¼Œæ®Šä¸çŸ¥åœ¨è¿™ä¸–ä¸Šå›é¦–ä¹‹é—´ï¼Œä¾¿æ˜¯äººèµ°èŒ¶å‡‰ã€‚ å› æ­¤è¦è®°å¾—ï¼Œæ„Ÿæƒ…è¿™ç¢—èŒ¶ï¼Œä¸€å®šè¦è¶çƒ­å–ã€‚ï¼‰\næ¯ä¸ªç¦»åˆ«çš„æ—¥å­ï¼Œéƒ½åœ¨ä¸‹é›¨ã€‚é‚£å¤©çš„é›¨å¾ˆé™è°§ï¼Œå¸¦ç€äº›è®¸ä¸èˆï¼Œä¸æ„¿å›å¤´ï¼Œå°‘å¹´æƒ³è¯æ˜ä»–æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ä¸”èƒ½å¤Ÿç…§é¡¾å¥½è‡ªå·±çš„ä¸ªä½“ã€‚é‚£ä¸ªæ—¶å€™å°‘å¹´å¿ƒé‡Œæƒ³ç€ï¼šæ›¾ç»åœ¨å¿ƒåº•é‡Œä½è¿‡çš„æ•…äº‹ï¼Œä»Šå¤©å°±è®©å®ƒå‘Šåˆ«å§ï¼Œæœ‰ä¸€å¤©ä½ ç»ˆä¼šå¯¹é‚£äº›åœ¨ä½ ç”Ÿå‘½é‡Œä½è¿‡åˆç¦»å¼€çš„äººæä¸èµ·ä¸€ä¸æ¨æ„ã€‚æ€»æœ‰ä¸€å¤©æˆ‘ä¸€å®šä¼šå¿˜è®°æˆ‘ä»€ä¹ˆæ—¶å€™é‡è§çš„ä½ ä»¬ï¼Œä½†è¿˜å¥½å‘Šåˆ«å‰æˆ‘ä»¬éƒ½åœ¨å²æœˆçš„å°½å¤´äº’ç›¸å¼ æœ›è¿‡ã€‚å¦‚ä»Šçš„æˆ‘ç»ˆäºå¯ä»¥ç¡®ä¿¡ï¼Œæˆ‘æ¥åˆ°è¿™ä¸ªåŸå¸‚ï¼Œä¹Ÿè®¸å°±æ˜¯ä¸ºäº†é‡è§ä½ ä»¬ï¼›è€Œæˆ‘é‡è§ä½ ä»¬çš„å…¨éƒ¨æ„ä¹‰ï¼Œå°±æ˜¯ä¸ºäº†ä¸ä½ ä»¬å‘Šåˆ«ã€‚å†è§ï¼Œä¼Šå®ï¼›å†è§ï¼Œæ•…äººã€‚\näºæ˜¯å°±è¿™æ ·ï¼Œå°‘å¹´è½¬è¿‡èº«ï¼Œæ²¡æœ‰çœ‹è§çˆ¶äº²çš„é‚£æ»´çœ¼æ³ªä»¥åŠé¬“è§’çš„é‚£æ ¹ç™½å‘ã€‚å°‘å¹´ç»ˆæ˜¯å¤§æ­¥çš„å¾€å‰èµ°äº†ï¼Œæ¯•ç«Ÿè¿œæ–¹æœ‰æ¢¦ï¼Œäº¦æœ‰è¯—ã€‚\nåˆ°è¾¾çš„é‚£å¤©ï¼Œå¤œè‰²æœ¦èƒ§ï¼Œæ¸…é£å¾å¾é€è¿‡å°‘å¹´çš„è„¸é¢Šï¼Œåç€10å—çš„æ‘©æ‰˜è½¦èµ¶å¾€æ ¡å›­ï¼ˆæƒ³æ¥æœ‰äº›å¥½ç¬‘ï¼Œå‡ºç§Ÿè½¦çš„è´¹ç”¨ä¹Ÿæ˜¯10å—ï¼Œä½ å°±è¿™æ ·è¢«éª—äº†ï¼Œè¿˜ç¾å…¶åæ›°ä¸ºäº†å…œé£ï¼‰ï¼Œå°±è¿™æ · \u0026hellip;\u0026hellip;\nå››å¹´ä¸€æ™ƒè€Œè¿‡ã€‚\né‚£æ˜¯æ—¥è½æ—¶è½»è½»å‘å‡ºçš„å¹æ¯å•Šï¼Œè¿™ä¸€å¹ï¼ŒåŒ†åŒ†å››å¹´è¿‡å»äº†ï¼Œæ€»æ„Ÿè§‰è¿˜æ˜¯å½“åˆé‚£ä¸ªåœ¨å°ä¸Šè‡ªæˆ‘ä»‹ç»æ—¶è…¼è…†çš„å°‘å¹´ï¼Œé‚£ä¸ªè¯´ç€â€œäºšå…‹è¥¿â€çš„å°‘å¹´ï¼Œå¤§å­¦å¥½ä¼¼åªæœ‰ä¸‰å¹´ï¼ŒçœŸçš„è¿˜æ¥ä¸åŠå¥½å¥½é“åˆ«ï¼Œå°±å·²ç»åŒ†åŒ†è¯´äº†å†è§ï¼Œæœ€èˆä¸å¾—è«è¿‡äº349çš„å°ä¼™ä¼´ï¼Œä»¥åŠå°è™å’Œæ–°è¾‰ï¼Œè¿˜æ˜¯è¦é“ä¸€å¥æ„Ÿè°¢ï¼Œè°¢è°¢å°ä¸‰ç­çš„åŒå­¦ï¼Œè®©å°‘å¹´æœ‰äº†è¿™ä¸€æ®µæ—…ç¨‹ï¼Œå”¯ä¸€çš„é—æ†¾å°±æ˜¯è¿˜æ²¡æœ‰å’Œä»–ä»¬ä¸€èµ·æ‹æ¯•ä¸šç…§ï¼Œæƒ³èµ·å½“å¹´ï¼Œæ€»è§‰å¾—æ¥æ—¥æ–¹é•¿â€¦æ¥æ—¥æ–¹é•¿ï¼Œå´åªå‰©æ¥æ—¥ï¼Œæ²¡äº†æ–¹é•¿ï¼Œæ€»è§‰å¾—æœ‰åƒè¨€ä¸‡è¯­â€¦åƒè¨€ä¸‡è¯­ï¼Œå´åªå‰©ä¸€å£°çé‡ï¼Œé‚£å°±ç¥ç¦å§ï¼Œæ„¿å°ä¸‰ç­çš„å„ä½å‰ç¨‹ä¼¼é”¦ï¼Œä»Šåæœ‰è‰¯äººç›¸ä¼´ï¼Œåœ¨å°˜ä¸–è·å¾—è¾›ç¦ã€‚å¸Œæœ›ä»¥åç›¸è§ï¼Œèƒ½è½»è½»è¯´ä¸€å¥:å¥½ä¹…ä¸è§ï¼Œä¸‰å‘Šã€‚æ­¤åï¼Œå±±é«˜æ°´è¿œï¼Œä¸‡äº‹èƒœæ„ã€‚\nç¦»å¼€çš„é‚£å¤©ï¼Œæ«å¶è½åœ¨æœ¨åˆ¶è‰²é¦™çš„é•¿æ¤…ä¸Šï¼ŒçŸ³æ¿è·¯ä¸Šè°æ›¾æ¥è¿‡ï¼Ÿé‚£äº›è¯—ç¯‡ã€é‚£äº›æŸ³çµ®ã€é‚£äº›é›¶é›¶ç¢ç¢ï¼ŒçŒ›ç„¶æƒŠè§‰â€œèŠ±å¼€çš„é‚£ä¸€å¤©ï¼Œå¤©é’è‰²ç­‰çƒŸé›¨ï¼Œé›¨æ¸æ¸å¤§åˆ°æˆ‘çœ‹ä½ ä¸è§â€é‚£äº›éƒ½æ˜¯å‘¨æ°ä¼¦çš„æ­Œå•Šã€‚ä¸ï¼Œé‚£ä¸æ˜¯â€¦é‚£æ˜¯â€¦â€¦æˆ‘çš„æ•´ä¸ªé’æ˜¥ã€‚çº¯ç™½è‰²çš„å¸†å¸ƒé‹ï¼Œåªæˆ´ä¸€è¾¹çš„é»‘è‰²è€³æœºï¼Œè½é›¨æ—¶ç‹‚å¥”çš„å‚»å­ï¼Œæ€»å¹»æƒ³é€ƒè¯¾å»èŠ±è½çš„åœ°æ–¹ï¼ŒæŠŠæ‰€æœ‰çƒ­æƒ…éƒ½è—è¿›å¤©é’è‰²çš„çƒŸé›¨é‡Œï¼Œæ–¹ä¾¿é¢çš„è°ƒæ–™æ€»è¦èˆ”çš„å¹²å¹²å‡€å‡€ï¼Œæ˜æ˜åªæœ‰ä¸€åŒ…è¾£æ¡å¯é¦™å‘³ä¼ çš„æ»¡é—´æ•™å®¤éƒ½æ˜¯ï¼Œå½“ç„¶è¿˜æœ‰æ€»æ˜¯ä¸åŠæ ¼çš„è€ƒå·ã€‚\nâ€¦â€¦\néƒ½è¿‡å»äº†å‘€ï¼Œéƒ½è¿‡å»äº†â€¦æ«å¶è½åœ¨çŸ³æ¿è·¯ä¸Šï¼Œæœ¨åˆ¶è‰²é¦™çš„é•¿æ¤…ç©ºæ— ä¸€äººï¼Œæ“åœºä¸Šçš„æ­Œè¿˜ç»§ç»­å”±ç€ï¼ŒåŸæ¥â€¦â€¦æ˜¯ä¸€åœºæ¢¦å•Šã€‚\næœ€åï¼Œä½ å†™ä¸‹è¿™æ ·ä¸€å¥è¯ï¼šæ€»æœ‰äº›æƒŠå¥‡çš„é™…é‡ï¼Œæˆ–è€…è¯´ï¼Œæ˜¯æ¯ä¸€ä¸ªåœ¨é»‘å¤œä¸­æ’’ä¸‹äº†ä¸€ç‚¹æœˆå…‰çš„äººï¼Œå€Ÿç€è¿™ç‚¹æœˆå…‰ï¼Œå°±è¿™æ ·æ‹¼å‡‘å‡ºä¸€ä¸ªæˆ‘ã€‚æˆ–è®¸ä¹Ÿä¸å®Œç¾ï¼Œä½†æ‰€è§å³æ˜¯æˆ‘ï¼Œæˆ‘è‡ªè®¤ä¹Ÿç®—åŠä¸ªæœ‰è¶£çš„äººã€‚ æ­¤è‡´ï¼Œä¸‡äº‹èƒœæ„ã€‚\né£åœ¨ç­‰æˆ‘ éœ‡é¢¤é‡Œçš„ å¾®ç¬‘çš„å…­æœˆæœ«æš–é˜³ å¾å¾ æ¸©æŸ”ä¸–é—´è½»è¨€ äººä¸€æ•… æ¸…é¦™å²æœˆæ·¡å“ èŒ¶ä¸€æ¯ ç¦»æ„è¿‡å¾€é—²è¯´ é…’ä¸€å£¶ éœå…‰å‚æ™š ç»¿èŒµåˆé—´ æœéœ²æ¸…æ™¨ å²æœˆ è¢«æ—¶å…‰æ¸©æ’’çš„ æ³¢æ¾œæ³›èµ· æ­¢æ°´å¦‚å¿ƒ æ¸©æŸ”çš„ æœ€æ˜¯é‚£ä¸€ä½å¤´ ä¸å» å¾˜å¾Š å˜å±ä½œå“çš„å²æœˆ çœ¼è§’çš„æ³ªèŠ±ç»½æ”¾å‡ºç¬‘ ç§è¯­ æ¸…é£å·å·å¬ é’æ˜¥çš„é€å» è¿™æ˜¯ä¸€åœºæ— å£°ä¸”æµªæ¼«çš„å‘Šåˆ« è¿™ä¸€åœºï¼šæµ©ï¼Œå°±ç”¨ä½ çš„å›å¿†æ¥è¯´å§ã€‚\nå¬åˆ°è‰é¸£ï¼Œçœ‹åˆ°èš‚èšæ¬å®¶ï¼Œæœç„¶ä¸‹äº†äº›é›¨ï¼Œé£æœ‰äº›å¤§ï¼Œæˆˆå£æ»©ä¸Šæ”¾ç‰§çš„å­©ç«¥åœ¨é©±èµ¶ç€ç‰›ç¾Šï¼Œæƒ³èµ·å¾ˆä¹…ä¹‹å‰å®¶é‡Œå…»äº†ä¸€å¤´é©´ï¼Œé‚£æ—¶æ€»æƒ³ç€æœ‰ä¸€å¤©å¯ä»¥éª‘ä¸Šå®ƒå»å¤–é¢çš„ä¸–ç•Œè½¬ä¸€è½¬ï¼Œç­‰æˆ‘ä»å¤–é¢çš„ä¸–ç•Œå›æ¥ï¼Œå®ƒå´æ—©å·²ç»ä¸åœ¨äº†ã€‚æ˜¯å•Šï¼Œé€è€…å¦‚æ–¯å¤«ï¼Œé‚£äº›æ·‹è¿‡çš„é›¨ï¼Œé‚£äº›æ„¿æ„ä¸ºä½ æ’‘ä¸€æŠŠä¼çš„äººå„¿ï¼Œé‚£äº›æ²‰é»˜çš„ç¬é—´ï¼Œé‚£äº›è¿˜æ²¡æ¥å¾—åŠå¼€å£çš„é“åˆ«ï¼Œå°±è¿™æ ·è¢«é£å¹è¿›å›å¿†é‡Œï¼Œä¹Ÿè®¸æ˜¯åœ¨æŸä¸ªé»„æ˜ï¼Œä¹Ÿè®¸æ˜¯åœ¨æŸä¸ªæ¸…æ™¨ï¼Œé‚£äº›è€æ—§ç›¸ç‰‡ï¼Œçè—åœ¨ç»ç’ƒç“¶é‡Œçš„å›å¿†ï¼Œä¼šæ‚„æ— å£°æ¯çš„åœ¨è„‘æµ·é‡Œæ‹‚è¿‡ï¼Œæ³›èµ·æ³¢æ¾œï¼Œä¹Ÿè®¸ä¼šå¹å¾€äº‹å¦‚æ˜¨ï¼Œæ—§äº‹å¦‚å°˜ï¼Œåˆæˆ–è®¸çºµæœ‰åƒè¨€ä¸‡è¯­ï¼Œä¹Ÿåªä½™ä¸€å£°å¹æ¯ï¼Œä¸€å¥æ„éš¾å¹³ã€‚ç„¶è€Œæœæš®è½®è½¬ï¼Œå¦‚ä»Šä»è¦å¤§æ­¥å‘å‰ã€‚\næˆ‘æ€»æ˜¯ä¼šæ¢¦èµ·ï¼Œé‚£æ®µæ•™ä¹¦çš„æ—¶å…‰ï¼Œå­©å­ä»¬çš„å’¿å’¿å‘€å‘€ï¼Œåˆšå¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘æ˜¯æä¸æ„¿æ„çš„ï¼Œå› ä¸ºæœ¬èº«æ•™ç”Ÿç‰©çš„æˆ‘è¢«è°ƒåº¦åˆ°æ•°å­¦ï¼Œæˆ‘æ€•è‡ªå·±åšçš„ä¸å¤Ÿå¥½ï¼Œæ¯•ç«Ÿæˆ˜å‰æ¢å°†æ˜¯å¤§å¿Œï¼Œå¥ˆä½•äº‹å‡ºçªç„¶ï¼Œä¹Ÿåªèƒ½ä¸´é˜µç£¨æªäº†ã€‚å¹¸è€Œï¼Œå‡†å¤‡è™½ä¸è¶³ï¼Œä½†è¿˜å¥½æœ‰äº›åº•å­ï¼Œä½†ä¹Ÿæ²¡æœ‰å‡ºä»€ä¹ˆå¤§çš„å·®é”™ã€‚å­©å­ä»¬çš„ç¬‘å®¹æ€»æ˜¯çº¯ç²¹çš„ï¼Œå½“ç„¶é™¤äº†ä¸å†™ä½œä¸šçš„æ—¶å€™ï¼Œè€Œæˆ‘æœ¬ç€æœ‰æ•™æ— ç±»çš„æƒ³æ³•ï¼Œä¸ä»…ä»…æ•™ä»–ä»¬æ•°å­¦ï¼Œç”šè‡³äºè¿˜æ•™ä»–ä»¬å†™ä½œï¼Œä»è®°å¾—æœ‰ä¸ªè€ƒè¯•ä½œæ–‡è®©ä»–ä»¬å†™ã€Šæœ€çˆ±_____ã€‹ï¼Œæœ‰äº›è°ƒçš®åŒ…å†™çš„æ˜¯ã€Šæœ€çˆ±é’±ã€‹ï¼Œã€Šæœ€çˆ±åƒé¥­ã€ç¡è§‰ã€‹ï¼Œå¥½å®¶ä¼™ï¼Œä»€ä¹ˆä¸ç›¸å…³çš„åè¯å’”å’”å¾€ä¸Šé¢å†™ï¼Œå°±æ˜¯ä¸å†™æ­£å¸¸çš„ï¼Œæˆ‘ç—›å¿ƒç–¾é¦–ï¼Œè¾¹æ”¾ç€ã€Šä¸–ç•Œç¾å¥½ä¸ä½ ç¯ç¯ç›¸æ‰£ã€‹ä¸€è¾¹ä¸€å¥ä¸€å¥çš„ç»™ä»–ä»¬è®²å¦‚ä½•è¿ç”¨æ­Œè¯å†™åˆ°ä½œæ–‡é‡Œï¼ˆæ¯•ç«Ÿå½“åˆçš„æˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆå¹²çš„ï¼‰ï¼Œå°±æ¯”å¦‚ç”¨â€œæ­¤æ—¶å·²èºé£è‰é•¿ï¼Œçˆ±çš„äººæ­£åœ¨è·¯ä¸Šï¼Œæˆ‘çŸ¥ä»–é£é›¨å…¼ç¨‹ï¼Œé€”ç»æ—¥æš®ä¸èµã€‚â€æ¥å†™ã€Šæœ€çˆ±çˆ¶æ¯ã€‹ï¼Œå¤šå¥½çš„å¥å­å‘€ï¼Œå­©å­ä»¬åœ¨ä¸€ä¸ªå°é—­å¼ç®¡ç†çš„å­¦æ ¡ï¼Œçˆ¶æ¯éƒ½åªæœ‰åœ¨å‘¨å¤©è¿™ä¸€å¤©æ‰èƒ½å’Œå­©å­ä¸€èµ·åº¦è¿‡ï¼Œå¤§å¤šæ•°å­©å­å®¶é‡Œéƒ½æ¯”è¾ƒè‰°è‹¦ï¼Œè¿˜æœ‰å¥½å¤šçˆ¶æ¯å¤–å‡ºæ‰“å·¥ä¾›å­©å­è¯»ä¹¦ï¼Œâ€œå–å´å±‹è¾¹ä¸‰äº©åœ°ï¼Œæ·»æˆçª—ä¸‹ä¸€åºŠä¹¦ã€‚â€è™½ç„¶å­©å­ä»¬å¤§å¤šæ•°å­¦ä¹ ä¸å¥½ï¼Œç”šè‡³å¯ä»¥è¯´é™¤äº†å­¦ä¹ å…¶ä»–éƒ½ä¼šï¼Œä½†æˆ‘èƒ½æ„Ÿå—åˆ°ä»–ä»¬ç”Ÿå‘½çš„ç‚™çƒ­ï¼Œé‚£ç§é€å½»ä¸æ²¾æŸ“ä¸–ä¿—çš„çœ¼çœ¸ï¼Œå¦‚ä»Šä»éš¾ä»¥å¿˜æ€€ã€‚æ˜¯å•Šï¼ç”Ÿå‘½ä¸­æ€»æœ‰äº›è®©äººæ€€å¿µçš„å²æœˆï¼Œå°±åƒé‚£å¤©çš„æ•™å¸ˆé•¿è·‘æ¯”èµ›åªæ‹¿äº†ç¬¬ä¸‰ï¼Œé‚£äº›è¯•å·åªå†™äº†ä¸€åŠï¼Œé‚£é¦–æ­Œåªå”±äº†ä¸€åŠï¼Œè™½ç„¶é—æ†¾ï¼Œå´å¦‚æ­¤ç¾å¥½ï¼Œæ™šé£å¹è¿‡çš„æ—¶å€™ï¼Œå°±ä»£æ›¿æˆ‘å»çœ‹çœ‹é‚£ç¾¤å­©å­ä»¬å§ï¼Œçºµç„¶å±±é«˜æ°´è¿œï¼Œå´ä»å¸Œæœ›æ™šé£èƒ½æŠŠå¸Œæœ›æ’’ä¸€ç‚¹ç»™ä»–ä»¬ã€‚\næœ€åï¼Œä½ å†™ä¸‹è¿™æ ·ä¸€å¥è¯ï¼šæ„Ÿè°¢è¿™ä¹ˆä¹…çš„é™ªä¼´ï¼Œæ˜¯ä½ ä»¬ï¼Œå¾€è¿™æ°´é¢æŠ•äº†ä¸€é¢—çŸ³å­ï¼Œç¿»èµ·äº†é‚£ä¹ˆå¤šçš„æ³¢æ¾œï¼Œæ¯”åå®‰ç¨³å²æœˆï¼Œæ„¿æ—¥åä¼¼ç«ï¼Œç…§äº®ä½ ä»¬å‰ç¨‹ä¼¼é”¦ï¼›æ„¿æœˆåä¼¼æ°´ï¼Œæ¸©æš–ä½ ä»¬çš„è¿‡å¾€æ—¶å¹´ã€‚\né‚£å¤©æœ‰é£å¹è¿‡ äºæ˜¯æˆ‘ä»¬å°±æŠŠå›å¿†æ”¾åœ¨ æ¯ä¸€ä¸ªå¯»å…‰çš„å²æœˆé‡Œ æˆ–è®¸ä¸æ˜¯ æ˜¯æ”¾åœ¨é‚£æµ…æµ…çš„å°æ²³æµé‡Œ æ—¶å…‰é™é™çš„æ·Œè¿‡ é‡‘è‰²çš„å…‰å½±æ‹æ‰“è“è‰²çš„æµ·å²¸ ç”»å‡ºä¸€æ¡ä¸ƒå½©çš„æ¢¦ æˆ–è®¸ä¹Ÿä¸æ˜¯ æ˜¯æ”¾åœ¨é‚£æ¹›è“æ— è¾¹çš„æ˜Ÿç©ºé‡Œ æµæ˜Ÿæ‚„æ‚„çš„åˆ’è¿‡ æ·±é‚ƒçš„é“¶æ²³ç‚¹ç¼€ç¿çƒ‚çš„æ˜Ÿå…‰ è®¸ä¸‹åˆ‡åˆ‡åœ¨å¿ƒçš„ç§˜å¯† åˆ«å“­ é£æ€»æ˜¯ä¼šèµ°çš„ å²æœˆæ·»äº†äº›ç—•è¿¹ è¶³å¤Ÿ åˆ«å›å¤´ æ³ªç ä¹Ÿè¦æ’’åœ¨è¾›å‹¤çš„æ±—æ°´ä¸Š æ­¤å é“é˜»ä¸”é•¿ æ„¿å›çé‡ è¿™æ˜¯ä¸€åœºæ²‰é‡ä¸”å“€è«çš„ç¦»åˆ«\nåœ¨æ­¤ä¹‹å‰çš„ä¸‰å‘Šè¿˜æœªäº²èº«ç»å†è¿‡ä»ä½•ä¸€åœºç”Ÿç¦»æ­»åˆ«ã€‚é‚£ä¸ªæ—¶å€™ï¼Œæ€»è§‰å¾—æ­»äº¡æ˜¯é‚£ä¹ˆé¥ä¸å¯åŠï¼Œè™½ç„¶ä¹Ÿæ›¾å‘å¾€è¿‡æ­»äº¡ï¼Œä½†ä¸€åˆ‡æ¥çš„æ˜¯é‚£ä¹ˆçªç„¶ï¼ŒäºŒä¸€å¹´åæœˆäºŒåä¸€å·çš„é‚£ä¸ªå¤œæ™šï¼Œçªç„¶æ¥åˆ°çˆ¶äº²çš„ç”µè¯ï¼Œè¯´å§‘çˆ·ï¼ˆçˆ¶äº²å§å§çš„ä¸ˆå¤«ï¼‰å‡ºäº‹äº†ï¼Œå‡ºäº†è½¦ç¥¸ï¼Œåœ¨æ€¥æ•‘å®¤é‡ŒæŠ¢æ•‘ï¼Œæ‰‹æœºä¸€ä¸‹å°±æ‰åœ¨äº†åœ°ä¸Šï¼Œçˆ¶äº²å†è¯´ä»€ä¹ˆå·²ç»å¬ä¸å¤ªæ¸…äº†ï¼Œæ…Œå¿™çš„æ‹¿èµ·æ‰‹æœºæŒ‚æ–­ï¼Œèµ¶å¿™æ‰“ç”µè¯ç»™å¬¢å¬¢ï¼ˆçˆ¶äº²çš„å§å§ï¼‰ï¼Œæ²¡æ¥ï¼Œèµ¶å¿™å‘æ¶ˆæ¯ç»™å¬¢å¬¢å’Œå ‚å“¥ï¼ˆå§‘çˆ·çš„å„¿å­ï¼‰ï¼Œæ²¡å›ï¼Œå› ä¸ºç–«æƒ…çš„ç¼˜æ•…ï¼Œæ²¡æ³•å‡ºé—¨ï¼Œå°±è¿™æ ·ç„¦æ€¥ç­‰å¾…äº†ä¸¤ä¸ªå°æ—¶3åˆ†é’Ÿï¼Œå ‚å“¥å›äº†å¥ï¼šå·²ç»èµ°äº†ã€‚\né‚£æ ·é²œæ´»çš„ç”Ÿå‘½ï¼Œå°±è¿™æ ·å› ä¸ºä¸€åœºæ„å¤–è€Œç¦»å¼€äº†è¿™ä¸ªä¸–é—´ã€‚ä¸‰å‘Šä»è®°å¾—çš„ï¼Œåœ¨é‚£ä¸‰ä¸ªæœˆå‰å§‘çˆ·è¿˜ä¸“é—¨å«ä»–è¿›å»ä¸€èµ·åƒå¤å‘³ï¼Œä¸€èµ·å–å¡ç“¦æ–¯ï¼Œç”šè‡³å§‘çˆ·è¿˜è°ƒä¾ƒç€ä¸‰å‘Šæ˜¯ä¸ªæ‡’è™«ï¼Œåœ¨é‚£ä¸ªæ—¶å…‰é‡Œï¼Œä¸‰å‘Šè¿˜åœ¨å§‘çˆ·çš„æ°´æ³¥å‚é‡Œé¢å½“ç€è®°å½•å‘˜ï¼Œé‚£é‡Œçš„ç¯å¢ƒæ˜¯è‰°è‹¦ä¸”å……æ»¡çƒŸå°˜çš„ï¼Œæ··æ³¥åœŸåœ¨æ…æ‹Œæœºé‡Œæ…æ‹Œçš„æ—¶å€™ï¼Œç²‰å°˜æŠŠä¸–ç•ŒæŸ“æˆäº†ç°è‰²ä¸€èˆ¬ï¼Œä¸‰å‘Šåœ¨æ“ä½œå®¤é‡Œè¿˜è¦å»æ…æ‹Œæœºå‰æ‹¿é“é”¹æ¥ä½ä»æ…æ‹Œæœºä¸‹è½çš„æ··å‡åœŸï¼Œå“—å•¦å•¦çš„ä¸€ç‰‡ï¼Œæ‰‹æ¡ç€é“é”¹ï¼Œæ„Ÿè§‰å°±åƒä¸‹è½çš„é“æ‹³å‹åœ¨é“é”¹ä¸Šä¸€æ ·ï¼Œç„¶åæ‹¿å‡ºæ¥ï¼Œçœ‹ä¸€ä¸‹æ··æ³¥åœŸçš„æˆè‰²ï¼Œåœ¨ä¹‹åè°ƒæ•´æ°´å’Œæ°´æ³¥ä»¥åŠé…æ–™çš„æ¯”ä¾‹ã€‚å§‘çˆ·ä»–æ˜¯æ•´ä¸ªå›¢é˜Ÿçš„é¢†è¢–ï¼Œåœ¨å“ªä¸€ä¸ªåœ°æ–¹éƒ½æœ‰ä»–çš„èº«å½±ï¼Œå¤§è€æ¿ç¡¬ç”Ÿç”Ÿè¢«ä»–å˜æˆäº†å°é›¶å·¥ï¼Œä»æ—©åˆ°æ™šï¼Œä¸€ç›´å¿™ç¢Œç€ï¼Œä¸æ—¶æ£€æŸ¥ä¸€ä¸‹æœºå™¨ï¼Œåˆä¸æ—¶å»æ‰¾éœ€æ±‚æ–¹è°ˆè®ºä»·æ ¼ã€‚æœ‰å•å­æ—¶å¾ˆå¿™ï¼Œä¸€è½¦ä¸€è½¦çš„æ‰“æ··å‡åœŸç„¶åé€å»ç›®çš„åœ°ï¼Œå–æ°´çš„æ—¶é—´éƒ½ä¸å¤šï¼Œæ¯ä¸€åˆ†éƒ½æ˜¯è¾›è‹¦é’±ï¼Œç”šè‡³æœ‰æ—¶å€™æ‰“åˆ°å‡Œæ™¨ä¸¤ä¸‰ç‚¹ï¼Œç„¶åæ—©ä¸Šå…­ä¸ƒç‚¹å°±èµ·æ¥ç»§ç»­ï¼Œè™½ç„¶å¾ˆç´¯ï¼Œä½†å´å¾ˆå……å®ï¼Œä¹Ÿæœ‰é—²æš‡çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´ä¸‹é›¨å¤©ï¼Œåœ¨é‚£ä¸ªè’æ— äººçƒŸçš„é«˜åŸä¸Šï¼Œæ²¡æœ‰ç»µç»µç»†é›¨ï¼Œåªæœ‰å€¾ç›†å¤§é›¨ï¼Œæ¯å½“ä¸‹é›¨ï¼Œä¸‰å‘Šæ€»æ˜¯å·å·è·‘å»å§‘çˆ·å’Œå¬¢å¬¢ä½çš„æˆ¿é—´é‡Œè½å¾—æ¸…é—²ï¼Œä»–ä»¬æ€»æ˜¯ä¸åœ¨ï¼Œè¦ä¹ˆæ˜¯å›å®¶äº†æ²¡ä½åœ¨å‚å­é‡Œï¼Œè¦ä¹ˆå°±å‡ºé—¨å»è§å®¢æˆ·äº†ã€‚å¬¢å¬¢è¦é—²ä¸€äº›ï¼Œå¥¹ä¼šç…§çœ‹é¸­å­å’Œç§æ¤ä¸€äº›èœè‹—ï¼Œæ²¡è£…æ …æ çš„æ—¶å€™é¸­å­æ€»æ˜¯è·‘è¿‡æ¥æŠŠæ‰å†’å‡ºå¤´çš„èœè‹—åƒç‚¹ï¼Œç•™ä¸‹çš„ä¸€åœ°è„šå°éƒ½æ˜¯è¯æ®ã€‚\nä¸€å‘¨åªåƒä¸€æ¬¡è‚‰ï¼Œå…¶ä½™åŸºæœ¬éƒ½æ˜¯é…ç€è”¬èœåƒæˆ–è€…åƒæŠ“é¥­ï¼Œå¹¸å¥½ä¸‰å‘Šæ˜¯ä¸æŒ‘é£Ÿçš„ï¼Œå§‘çˆ·å’Œå¬¢å¬¢ä¹Ÿä¼šå·å·ä»å®¶é‡Œå¸¦ä¸€äº›â€œåŠ é¤â€ï¼Œå·å·æ”¾åœ¨ä»–ä»¬æˆ¿å­é‡Œï¼Œç„¶åå«ä¸‰å‘Šè¿‡å»åƒï¼Œéƒ½æ˜¯äº›å¸¦è‚‰çš„é£Ÿç‰©ï¼Œéƒ½æ˜¯ä¸€å®¶äººåå¿ƒäº›å€’ä¹Ÿæ­£å¸¸ã€‚å§‘çˆ·çš„æ€§æ ¼åœ¨ä¸‰å‘Šçœ‹æ¥æ˜¯å¾ˆå¥‡æ€ªçš„ï¼Œæœ‰æ—¶å€™ååˆ†å’Œè”¼å¯äº²ï¼Œæœ‰æ—¶å€™åˆååˆ†è‹›åˆ»ä¸è‹Ÿè¨€ç¬‘ï¼Œæœ‰æ—¶å€™åˆååˆ†è€ä¸æ­£ç»çš„ã€‚å°æ—¶å€™çš„ä¸‰å‘Šï¼Œæ˜¯å’Œå¬¢å¬¢å’Œå§‘çˆ·ä»–ä»¬åŒä½åœ¨ä¸€ä¸ªé™¢å­é‡Œçš„ï¼Œé‚£ä¸ªæ—¶å€™ä¸‰å‘Šç»å¸¸å»å§‘çˆ·å®¶é‡Œç©ï¼Œå¤§å ‚å“¥çš„ç©å…·æ€»æ˜¯å¾ˆæ—¶é«¦ï¼Œæœ‰æ—¶å€™ç©çš„æµè¿å¿˜è¿”ï¼Œå§‘çˆ·å’Œå¬¢å¬¢å°±ç›´æ¥è®©ä¸‰å‘Šç•™ä¸‹æ¥åƒé¥­ï¼Œé‚£ç§ç•™åœ¨è¡€æ¶²é‡Œçš„æ„Ÿæƒ…ï¼Œæ€»å½’æ˜¯è®©äººæ·±åˆ»çš„ã€‚\nç„¶è€Œå§‘çˆ·å°±è¿™æ ·ç¦»å¼€äº†ï¼ŒäºŒä¸€å¹´åäºŒæœˆå››å·å‚åŠ çš„ä»–çš„è‘¬ç¤¼ï¼Œå ‚å§å–Šä¸‰å‘Šä¸è¦çœ‹ï¼Œè¯´ä¸‰å‘Šå’Œå§‘çˆ·åŒæ˜¯ä¸€ç”Ÿè‚–ï¼ŒçŠ¯å†²ã€‚å°±è¿™æ ·ï¼Œä¸‰å‘Šç›¯ç€é—¨ï¼Œä¸çŸ¥é“æƒ³äº›ä»€ä¹ˆï¼Œåªæ˜¯çœ¼è§’æœ‰äº›æ³ªèŠ±ï¼Œåƒä¸ªé¢å£æ€è¿‡çŠ¯äº†é”™çš„å­©å­ä¸€æ ·ï¼Œä¸‹è‘¬çš„è½¦ä¸‰å‘Šä¹Ÿä¸èƒ½åï¼Œé…ç€å¬¢å¬¢ä¸¤ä¸ªäººåœ¨æˆ¿å­é‡Œç›¯ç€æ‰‹æœºï¼Œä¸€å¼€å§‹ä¸¤ä¸ªäººéƒ½æ˜¯æ²‰é»˜çš„ï¼Œåæ¥ä¸çŸ¥æ˜¯ä¸æ˜¯é£æ²™å¤ªå¤§äº†ï¼Œçœ¼ç›å°±æœ‰çœ¼æ³ªæ‰ä¸‹æ¥äº†ï¼Œä¸çŸ¥é“æ˜¯è°å…ˆæ‰çœ¼æ³ªçš„ï¼Œéƒ½åœ¨å®‰æ…°ç€å¯¹æ–¹è¯´ç€åˆ«å“­ã€‚\nåœ¨é‚£ä¸€å¤©ï¼Œä¸‰å‘Šå†™ä¸‹â€”â€”ç°åœ¨æ‰æ˜ç™½ï¼Œç›¸é‡å’Œç¦»åˆ«çœŸçš„å°±åœ¨ä¸€å¤©ï¼ŒçœŸçš„å¥½å¤šäººå’Œäº‹è¿˜æ²¡æ¥å¾—åŠå¥½å¥½é“åˆ«ï¼Œå°±å·²ä¸å†é‡é€¢ï¼Œä¸è¦å›å¤´ï¼Œå¤ªè¿‡æ²‰é‡ï¼Œå°±æŠŠå¾€è¥¿ç•™åœ¨å›å¿†é‡Œå§ã€‚ç™½è‰²çš„é¸¢å°¾ï¼Œçº¢è‰²çš„ç°çƒ¬ï¼Œé»„è‰²çš„çº¸é’±ï¼Œé›¾ç°çš„è“å¤©ï¼Œè¿œå¤„æœ‰ä¸€ç‚¹å¾®å…‰ï¼Œåªæœ‰é£çš„å£°éŸ³ï¼Œåªä½™ä¸€å£°å¹æ¯ã€‚ 12æœˆ4å·ï¼Œé€è€…å·²é€ï¼Œæ„¿å®‰æ¯ã€‚\nç„¶åä¸€èµ·å»åƒå¸­ï¼Œä¸‰å‘Šåœ¨é—¨å£ç­‰ç€æ¯ä¸€ä¸ªæ›¾åœ¨å§‘çˆ·ç”Ÿå‘½ä¸­ä½è¿‡ä¸€æ®µæ—¶é—´çš„æ•…äººï¼Œè®°å½•ç€ï¼Œé¥­èœä¸Šè¶³ä¹‹åï¼Œæ‹¿ç€é…’æ¯ï¼Œæ¯ä¸€æ¡Œéƒ½é èº¬å·²è¡¨ç¤ºæ„Ÿè°¢ï¼Œçƒˆé…’ä¸‹å–‰ï¼Œå‰å°˜å¾€äº‹è«è¦å†æã€‚\næœ€åï¼Œä¸‰å‘Šå†™ä¸‹è¿™æ ·ä¸€å¥è¯â€”â€”æ¯ä¸€ä¸ªäººçš„ç”Ÿå‘½é‡Œï¼Œæ€»æœ‰äº›æ—¶å€™ä¼šæ¥è§¦é‚£äº›ç”Ÿç¦»æ­»åˆ«ï¼Œå°±åƒé‚£äº›å†¬å¤©ï¼Œä½ æ€»æ˜¯ä¸€ä¸ªäººè¸©ç€è½åœ¨é›ªåœ°ä¸Šçš„æ«å¶ç„¶åè½ä¸‹è„šå°ï¼Œæ¯•ç«Ÿé‚£åœºé›ªï¼Œä¸æ˜¯è½åœ¨æ‰€æœ‰äººèº«ä¸Šçš„ï¼Œä½ è¦æ˜ç™½ï¼Œæ¯ä¸€ä¸ªäººéƒ½åœ¨è‡ªå·±ç”Ÿå‘½é‡Œï¼Œå­¤ç‹¬çš„è¿‡å†¬ã€‚\né‚£å¤œ é›ª æ¥è¿‡ çœ¼é‡Œéƒ½æ˜¯ç™½è‰² ä¸æ­¢çœ¼é‡Œ ä¸–ç•Œçš„å°½å¤´éƒ½æ˜¯ç™½è‰² å°±åƒæ›¾ç»ä½åœ¨å¿ƒåº•é‡Œçš„é‚£ä¸ªäºº ç•™ä¸‹äº†ä¸€ä¸ªç™½è‰²çš„ å……æ»¡å­¤å¯‚çš„ èƒŒå½± åªæ˜¯ä»¥å é›ª å†æ¥è¿‡ å¯é‚£ä¸€æœ›æ— é™…çš„ç™½ è¢«æ°¸è¿œå®šæ ¼åœ¨äº† é‚£é™é»˜çš„æ—¶å…‰é‡Œ äºæ˜¯ ä¾¿ä¸å†ç§çª—å¤–çœ‹ä»»ä½•ä¸€çœ¼äº† â€”â€”æœªå®Œå¾…ç»­\n","date":"2022-06-26T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/yujunshu-2/","title":"ä¸å›ä¹¦ï¼ˆäºŒï¼‰"},{"content":"video test æ”¯æŒçš„ Shortcodes è¯¦è§: https://docs.stack.jimmycai.com/zh/writing/shortcodes\nHTML Code 1 \u0026lt;video src=\u0026#34;https://alist.leecq.cn/onedrive/1_1_48ed6325509e3d97c2b6eed7eabd821dc61c7518.mp4\u0026#34; controls \u0026gt;\u0026lt;/video\u0026gt; HTML video æµ‹è¯•1 Your browser does not support the video tag.\rHTML video æµ‹è¯•2 Shortcodes bilibili æµ‹è¯• Shortcodes è…¾è®¯è§†é¢‘ Shortcodes æœ¬åœ°è§†é¢‘ 1 2 3 4 5 \u0026lt;!-- just video src --\u0026gt; Your browser doesn't support HTML5 video. Here is a link to the video instead. \u0026lt;!-- Other option --\u0026gt; Your browser doesn't support HTML5 video. Here is a link to the video instead. Your browser doesn't support HTML5 video. Here is a link to the video instead. ","date":"2021-07-31T00:33:55+08:00","image":"https://one.p.leecq.cn/E5Drive/imgs/1.jpg","permalink":"https://blog-g.leecq.cn/p/video-test/","title":"video-test"},{"content":"Hugo ships with several Built-in Shortcodes for rich content, along with a Privacy Config and a set of Simple Shortcodes that enable static and no-JS versions of various social media embeds.\nYouTube Privacy Enhanced Shortcode Twitter Simple Shortcode Vimeo Simple Shortcode ","date":"2021-07-30T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/%E8%87%AA%E5%AE%9A%E4%B9%89/","title":"è‡ªå®šä¹‰"},{"content":"Hugo è§£æmarkdownæ—¶ï¼Œ æ— æ³•æ˜¾ç¤ºå…¶ä¸­çš„HTMLè¯­å¥æ®µ é—®é¢˜ï¼š hugoé»˜è®¤æƒ…å†µä¸‹æ— æ³•æ­£å¸¸æ˜¾ç¤ºmarkdownä¸­å†…åµŒçš„htmlï¼Œåœ¨ç”Ÿæˆçš„ç½‘é¡µä¸­ï¼Œhtmlä»£ç ä¼šè¢«\u0026lt;!-- raw HTML omitted --\u0026gt;æ›¿ä»£ã€‚\nåŸå› ï¼š åœ¨2019å¹´11æœˆçš„hugoæ›´æ–°ä¸­ï¼Œä½¿ç”¨äº†Goldmarkä½œä¸ºé»˜è®¤åº“ï¼Œè¯¥åº“è®¤ä¸ºåœ¨mdæ–‡æ¡£ä¸­åµŒå…¥HTMLæ˜¯ä¸å®‰å…¨çš„è¡Œä¸ºï¼›\nè§£å†³æ–¹æ³•ï¼š åœ¨Hogoçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç æ®µï¼Œä»¥å±è”½å…¶å®‰å…¨æœºåˆ¶ï¼š\n1 2 3 4 [markup] [markup.goldmark] [markup.goldmark.renderer] unsafe = true æˆ–è€…æ˜¯yaml:\n1 2 3 4 5 # æ³¨æ„yamlçš„ç¼©è¿›å¯èƒ½ä¸é€‚ç”¨äºä½ çš„æ–‡ä»¶ markup: goldmark: renderer: unsafe: true æ¥æºï¼š ä½œè€…ï¼šnewæˆ¿æ˜­ä¹‹ https://www.bilibili.com/read/cv4516916 å‡ºå¤„ï¼šbilibili\nä¾‹å­ code å‘ç½‘é¡µæ³¨å…¥videoæ ‡ç­¾ 1 \u0026lt;video src=\u0026#34;https://alist.leecq.cn/d/onedrive/1_1_48ed6325509e3d97c2b6eed7eabd821dc61c7518.mp4\u0026#34; controls width=100% \u0026gt;ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒvideoæ ‡ç­¾,æ˜¯æ—¶å€™æ¢æµè§ˆå™¨äº†\u0026lt;/video\u0026gt; ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒvideoæ ‡ç­¾æ˜¯æ—¶å€™æ¢æµè§ˆå™¨äº†\n","date":"2021-06-20T00:33:55+08:00","permalink":"https://blog-g.leecq.cn/p/hugo%E6%97%A0%E6%B3%95%E8%A7%A3%E6%9E%90md%E4%B8%ADhtml%E4%BB%A3%E7%A0%81/","title":"Hugoæ— æ³•è§£æmdä¸­HTMLä»£ç "},{"content":" The worldâ€™s fastest framework for building websites. Hugoæ˜¯æœ€æµè¡Œçš„å¼€æºé™æ€ç«™ç‚¹ç”Ÿæˆå™¨ä¹‹ä¸€ã€‚å‡­å€Ÿå…¶æƒŠäººçš„é€Ÿåº¦å’Œçµæ´»æ€§ï¼ŒHugoä½¿æ„å»ºç½‘ç«™å†æ¬¡å˜å¾—æœ‰è¶£ã€‚\n===\nå®‰è£… â€‹\tHugoæ˜¯ç”±Goè¯­è¨€å¼€å‘çš„è½¯ä»¶, ä½ å¯ä»¥åœ¨ GitHub æˆ–è€… é•œåƒåœ°å€ä¸Šè·å–åˆ°å®ƒçš„æºç , è‡ªè¡Œç¼–è¯‘; æˆ–è€…åœ¨ Releases Â· gohugoio/hugo Â· GitHub è·å–åˆ°é¢„ç¼–è¯‘ç‰ˆæœ¬ .\nâ€‹\tæˆ–è€…ä½¿ç”¨ä¸‹é¢çš„æŒ‡ä»¤ä¸€é”®å®‰è£…\n1. Windows ```powershell\r# 1. å®‰è£…åŒ…ç®¡ç†å·¥å…· choco\rSet-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))\r# 2. å®‰è£… Hugo\rchoco install hugo -confirm\r# å¦‚æœä½ éœ€è¦å®‰è½¬æ‹“å±•çš„ Sass/SCSS ç‰ˆæœ¬æ‰§è¡Œ:\rchoco install hugo-extended -confirm\r```\r2. Mac OS ```shell\r# 1. å®‰è£…åŒ…ç®¡ç†å·¥å…· Brew\r/bin/bash -c \u0026quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026quot;\r# 2. å®‰è£…hugo\rbrew install hugo\r```\r3. Linux ```shell\r# Debian / Armbian / Ubuntu\rapt install hugo\r# CentOS\ryum install hugo\r```\rå¿«é€Ÿå¼€å§‹ â€‹\tå¿«é€Ÿçš„å»ºç«‹ä¸€ä¸ªhugoæ„å»ºçš„blog.\n1. **åˆå§‹åŒ–: ** hugo new site \u0026lt;BlogName\u0026gt; æ‰§è¡Œæ­¤æ­¥éª¤åä¼šåœ¨å·¥ä½œç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º BlogNameçš„ç›®å½•, å…¶ä¸­åŒ…å«äº†ç«™ç‚¹çš„åŸºæœ¬å…ƒç´ ;\n```sh\r\u0026lt;BlogName\u0026gt;\r| config.toml # é¡¹ç›®é…ç½®æ–‡ä»¶\r+-+-archetypes # | \\-- default.md\r+---content # å†…å®¹, åˆ›ä½œçš„blogæ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹\r+---data # +---layouts\r+---static # é™æ€æ–‡ä»¶\r\\---themes # ä¸»é¢˜æ–‡ä»¶\r```\r2. æ·»åŠ ä¸»é¢˜: \u0026gt; æ¨èçš„ä¸»é¢˜: [Next](https://leecq.lanzoui.com/ijqbUpki8vc )\rä½ å¯ä»¥æŸ¥çœ‹[themes.gohugo.io](themes.gohugo.io)ä¸Šçš„ä¸»é¢˜åˆ—è¡¨ã€‚æˆ–è€…åœ¨ç¤¾åŒºä¸­æœç´¢ä½ å–œæ¬¢çš„ä¸»é¢˜æ ·å¼.\ræŠŠä¸»é¢˜ä¸‹è½½ä¸‹æ¥åæ·»åŠ åˆ°é¡¹ç›®çš„`themes`ç›®å½•\ræœ€åä¿®æ”¹é¡¹ç›®ç›®å½•ä¸‹çš„ `config.toml` ä½¿å…¶`theme=\u0026lt;ä½ ä¸‹è½½çš„ä¸»é¢˜åå­—\u0026gt;`\r3. **æ·»åŠ å†…å®¹: ** hugo new posts/my-first-post.md\n\u0026gt; æ³¨æ„: ä»–éœ€è¦å½“å‰å·¥ä½œç›®å½•æ˜¯ä½ çš„é¡¹ç›®ç›®å½•, å¦åˆ™ä¼šæŠ¥é”™. æ‰¾ä¸åˆ°config.toml\ræ‰§è¡Œæ­¤æ­¥éª¤ä¼šåœ¨`content/` ä¸‹åˆ›å»º `posts/my-first-post.md` æ–‡ä»¶ä½œä¸ºä¸€ç¯‡æ–‡ç« .\rä½¿ç”¨`MarkDown`æ ‡è®°è¯­æ³•æ„å»º.\r4. ç¼–è¾‘å’Œä¿®æ”¹ä½ çš„æ–‡ç«  å¦‚æœä½ æƒ³ç¼–è¾‘æ–°åˆ›å»ºçš„å†…å®¹æ–‡ä»¶ï¼Œå®ƒä¼šåƒè¿™æ ·å¼€å§‹:\r1 2 3 4 5 6 7 --- title: \u0026#34;My First Post\u0026#34; date: 20121-05-29T08:47:11+08:00 draft: true --- # è‰ç¨¿ä¸ä¼šè¢«éƒ¨ç½²;ä¸€æ—¦ä½ å®Œæˆäº†ä¸€ç¯‡æ–‡ç« ï¼Œæ›´æ–°æ–‡ç« æ ‡é¢˜ï¼Œå†™ä¸Šdraft: false 5. **å¯åŠ¨HugoæœåŠ¡å™¨ ** `hugo server -D`\rç°åœ¨ï¼Œå¯åŠ¨HugoæœåŠ¡å™¨å¹¶å¯ç”¨è‰ç¨¿:\ræ–°ç½‘ç«™ä¸€èˆ¬ä¼šè¢«éƒ¨ç½²åœ¨ `http://localhost:1313/`ã€‚\r6. è‡ªå®šä¹‰ä¸»é¢˜ æ‰“å¼€å¹¶ç¼–è¾‘`config.toml`æ–‡ä»¶.\r1 2 3 4 baseURL = \u0026#34;https://example.org/\u0026#34; languageCode = \u0026#34;en-us\u0026#34; title = \u0026#34;My New Hugo Site\u0026#34; theme = \u0026#34;ananke\u0026#34; ç”¨ä¸€è‡ªå·±çš„ä¸œè¥¿æ›¿æ¢ä¸Šé¢çš„æ ‡é¢˜ã€‚\rå¦å¤–ï¼Œå¦‚æœæ‚¨å·²ç»å‡†å¤‡å¥½äº†ä¸€ä¸ªåŸŸåï¼Œé‚£ä¹ˆè®¾ç½®baseURLã€‚æ³¨æ„ï¼Œè¿è¡Œæœ¬åœ°å¼€å‘æœåŠ¡å™¨æ—¶ä¸éœ€è¦è¿™ä¸ªå€¼ã€‚\r\u0026gt; æç¤º:\r\u0026gt;\r\u0026gt; â€‹\tå½“HugoæœåŠ¡å™¨è¿è¡Œæ—¶ï¼Œå¯¹ç«™ç‚¹é…ç½®æˆ–ç«™ç‚¹ä¸­çš„ä»»ä½•å…¶ä»–æ–‡ä»¶è¿›è¡Œæ›´æ”¹ï¼Œæ‚¨å°†ç«‹å³åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°æ›´æ”¹ï¼Œä½†æ‚¨å¯èƒ½éœ€è¦æ¸…ç©ºç¼“å­˜ã€‚\r*æœ‰å…³ç‰¹å®šäºä¸»é¢˜çš„é…ç½®é€‰é¡¹ï¼Œè¯·å‚é˜…[ä¸»é¢˜ç«™ç‚¹](https://github.com/theNewDynamic/gohugo-theme-ananke)ã€‚*\r7. æ„å»ºé™æ€é¡µé¢ hugo -D é»˜è®¤æƒ…å†µä¸‹è¾“å‡ºå°†åœ¨`./public/ `ç›®å½•ä¸‹.\rä½ å¯ä»¥ä½¿ç”¨ `-d / --destination `æ ‡è®°æ¥æ˜¾ç¤ºçš„æŒ‡å®šè¾“å‡ºä½ç½®.\r","date":"2021-05-29T00:33:55+08:00","image":"https://blog-g.leecq.cn/img/hugo-hone-page.png","permalink":"https://blog-g.leecq.cn/p/hugo-%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/","title":"Hugo å¿«é€Ÿå¼€å§‹"},{"content":"ç»ˆäºæœ‰äº†ä¸€ä¸ªå±äºè‡ªå·±çš„ç½‘ç«™ ç½‘ç«™å»ºç«‹çš„è¿‡ç¨‹ 1ã€åŸŸåç”³è¯· åœ¨é˜¿é‡Œäº‘(aliyun.com)ç”³è¯·äº†è‡ªå·±çš„åŸŸå(leech.xyz)ä¸€å¹´ï¼ŒèŠ±äº†6å…ƒRMBã€‚\n2ã€ç©ºé—´ï¼ˆäº‘ä¸»æœºï¼‰çš„ç”³è¯· åœ¨å¼ºäººç½‘ç»œï¼ˆhttps://www.qiangren.net/ï¼‰è´­ä¹°äº†å…è´¹çš„äº‘ç©ºé—´ï¼Œä¸»æœºä½äºåŠ æ‹¿å¤§ï¼Œå»¶è¿Ÿä¸€èˆ¬ã€‚\n4ã€å¹³å°ä¸Šä¼  å°†å‡†å¤‡å¥½çš„wordpresså¹³å°ä¸Šä¼ åˆ°ç©ºé—´ã€‚å¹¶è§£å‹åˆ°/æ ¹ç›®å½•\n5ã€Wordpressåˆå§‹åŒ– é…ç½®æ•°æ®åº“ï¼ˆå‚æ•°åœ¨ç©ºé—´æä¾›å•†ç»™çš„é‚®ä»¶ä¸­ï¼‰ã€‚\n6ã€è°ƒè¯• ä¿®æ”¹ä¸»é¢˜ã€é…ç½®ç”¨æˆ·ç­‰ã€‚\næ„Ÿè°¢ï¼šè‹æ°´é…±å‘Šè¯‰æˆ‘å…è´¹çš„ç©ºé—´æä¾›å•†ã€‚\nè…¾è®¯è¯¾å ‚ï¼šå‘¨çº¢å·è€å¸ˆçš„30minå­¦ä¼šç½‘ç«™æ­å»ºè¯¾ç¨‹\n","date":"2019-08-25T21:00:57+08:00","permalink":"https://blog-g.leecq.cn/p/%E7%BB%88%E4%BA%8E%E6%9C%89%E4%BA%86%E4%B8%80%E4%B8%AA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84%E7%BD%91%E7%AB%99/","title":"ç»ˆäºæœ‰äº†ä¸€ä¸ªå±äºè‡ªå·±çš„ç½‘ç«™"},{"content":"è“è‰²å¤§é—¨-æ¼”è®²ç¨¿ v1.1 å¼€åœº ã€Šè“è‰²å¤§é—¨ã€‹è¿™éƒ¨ç”µå½±ä¸­ï¼Œæˆ‘å°è±¡æœ€æ·±åˆ»çš„æœ‰ä¸¤å¥è¯ã€‚\nä¸€å¥ï¼Œæ˜¯ï¼šæˆ‘çœ‹ä¸åˆ°ã€æˆ‘çœ‹ä¸åˆ°ã€æˆ‘çœ‹ä¸åˆ°å•¦ã€‚å®ƒåœ¨å½±ç‰‡çš„æœ€å¼€å¤´ï¼Œè¯´ç€è¿™è¯çš„æ—¶å€™éƒ½è¿˜æ²¡æœ‰ç”»é¢ï¼Œæˆ‘å°±å¼€å§‹ç–‘æƒ‘ï¼Œä»–çœ‹ä¸è§çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿèƒ½è®°ä½è¿™æ ·ä¸€å¥è¯ä¸€æ˜¯å¥¹å¾ˆç®€å•ï¼ŒäºŒæ˜¯å®ƒçœŸçš„é‡å¤äº†å¾ˆå¤šå¾ˆå¤šéï¼Œå°±åƒæˆ‘ä»¬è®°abandonä¸€æ ·ï¼Œåˆæ€ä¹ˆä¼šè®°ä¸ä½å‘¢ï¼Ÿ\nç¬¬äºŒå¥æ˜¯ï¼šâ€œè™½ç„¶æˆ‘é—­ç€çœ¼ç›ä¹Ÿçœ‹ä¸è§è‡ªå·±ï¼Œä½†æ˜¯å´å¯ä»¥çœ‹è§ä½ ã€‚â€è¿™å¥è¯å¾ˆç¾ã€‚æƒ³æƒ³å¦‚æœåœ¨æœªæ¥çš„æŸä¸€å¤©èƒ½æŠŠè¿™æ ·ä¸€å¥è¯å†™ç»™è‡ªå·±çš„å¥³æœ‹å‹æ˜¯å¤šä¹ˆç¾å¦™çš„ä¸€ä»¶äº‹æƒ…ï¼Œå¯¹å§ï¼Ÿ è‡ªç„¶å°±è®°å¾—ç‰¢é äº†ã€‚è¿™å¥è¯æŠŠå¯¹æœªæ¥çš„é‚£ä¸€ç§æ†§æ†¬ï¼Œå‘å¾€ï¼Œè¿·æ‹å’Œæ·±æ·±çš„å¯¹ä½ çš„çˆ±éƒ½è¡¨ç°çš„æ·‹æ¼“å°½è‡´ã€‚\næ•´ä¸ªå½±ç‰‡ä¹Ÿå°±æ˜¯åœ¨æç»˜ç€ä¸€ä¸ªï¼Œæˆ‘çœ‹ä¸è§ï¼Œåˆ°ï¼Œæˆ‘çœ‹èƒ½çœ‹è§ä½ ï¼Œçš„è¿™ä¹ˆä¸€ä¸ªè¿‡ç¨‹ã€‚çœ‹è¿‡è¿™éƒ¨ç”µå½±çš„äººå‘¢ï¼Ÿéƒ½åº”è¯¥çŸ¥é“è¿™ä¸¤å¥è¯å‡ºè‡ªåŒä¸€ä¸ªäººä¹‹å£ï¼Œä¸€åœ¨ç‰‡å¤´ä¸€åœ¨ç‰‡å°¾ï¼Œå¾ˆéš¾æƒ³è±¡ä¸€ä¸ªäººå¯¹æœªæ¥çš„æ€åº¦ä¼šæœ‰å¦‚æ­¤å¤§çš„æ”¹å˜ï¼Œè¿™ç§æ”¹å˜åˆæ˜¯å› ä½•è€Œèµ·å‘¢ã€‚â€”â€”é‚£éƒ½æ˜¯å› ä¸ºçˆ±æƒ…ï¼Œåœ¨çˆ±çš„è¿‡ç¨‹ä¸­ï¼Œä»–ä»¬éƒ½é‡è§äº†å¥½çš„å¯¹æ–¹ï¼Œä¹Ÿé‡è§äº†æ›´å¥½çš„è‡ªå·±ã€‚\nå…³äºçˆ±æƒ…â€”â€”å­Ÿå…‹æŸ” åœ¨å½±ç‰‡ä¸­ï¼Œè™½ç„¶å­Ÿå…‹æŸ”å¯¹å¼ ä¸–è±ªè¯´è‡ªå·±æ˜¯åŒæ€§æ‹ï¼Œä½†æ˜¯åœ¨ç”µå½±ä¸­ã€‚ä»–ä¸€ç›´åœ¨å¢™ä¸Šå†™ä¸‹ï¼šâ€œæˆ‘æ˜¯å¥³ç”Ÿï¼Œæˆ‘å–œæ¬¢ç”·ç”Ÿã€‚â€ä»¥åŠåœ¨å½±ç‰‡çš„æœ«å°¾ï¼Œå¥¹æ‰€è¯´çš„é‚£å¥è¯â€œè™½ç„¶æˆ‘é—­ç€çœ¼ç›ä¹Ÿçœ‹ä¸è§è‡ªå·±ï¼Œä½†æ˜¯å´å¯ä»¥çœ‹è§ä½ ã€‚â€è¿˜æœ‰æœ€åã€‚é‚£ç”œç¾çš„å‘è‡ªå†…å¿ƒçš„ç¬‘å®¹ï¼Œå”¯ä¸€çš„ä¸è¡¨è¾¾äº†ä»–å·²ç»çˆ±ä¸Šäº†ä¸€åç”·ç”Ÿï¼Œå¥¹å·²ç»ä¸å†æ˜¯åŒæ€§æ‹ï¼Œçˆ±å·²ç»æ”¹å˜äº†ä»–çš„çˆ±æƒ…è§‚ï¼ŒåŒæ—¶ä¹Ÿæ”¹å˜äº†å¥¹å¯¹äººç”Ÿçš„æ€åº¦ï¼›çŸ¥é“è¿™æ„å‘³ç€ä»€ä¹ˆå—ï¼Ÿçˆ±æƒ…æœ‰æ—¶å€™æ˜¯å¯ä»¥æ¯æ‰ä½ çš„ä¸‰è§‚çš„ï¼å½“ç„¶äº†ï¼Œåœ¨æ¯æ‰çš„åŒæ—¶ä¹Ÿä¼šåœ¨å»ºç«‹èµ·ä¸€ä¸ªæ›´å¥½çš„ä¸‰è§‚ã€‚è®©è‡ªå·±æ›´å¿«ä¹ï¼Œæ›´å¹¸ç¦ï¼Œæ›´è‡ªåœ¨ï¼Œæ›´äº†è§£è‡ªå·±çš„å¿ƒã€‚\nå¦‚æœæˆ‘ä»¬ä»”ç»†è§‚å¯Ÿå­Ÿå…‹æŸ”çš„å˜´è§’ï¼Œä½ ä¼šå‘ç°ç”µå½±çš„å‰åŠæ®µå‡ ä¹çœ‹ä¸åˆ°å¥¹çš„ç¬‘å®¹ï¼Œä¸€ç›´æ¿ç€è„¸ï¼Œåªæœ‰å¶å°”ä¸æ—æœˆçç›¸å¤„æ—¶æ‰ä¼šæœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹çš„ç•¥å¾®ä¸ºéš¾çš„ç¬‘å®¹ã€‚ä¸ºä»€ä¹ˆï¼Ÿä¸ç¬‘ï¼Œä¸å°±æ˜¯æ„å‘³ç€ã€‚å¥¹ä¸å¿«ä¹ï¼Œä¸å¹¸ç¦å—ï¼Ÿå› ä¸ºæ²¡æœ‰äººèƒ½å¤Ÿç†è§£å¥¹ï¼Œå¥¹ä¹Ÿæ²¡æœ‰ä¸€ä¸ªèƒ½å¤Ÿå€¾è¯‰çš„å¯¹è±¡ï¼Œæœ€å¥½çš„æœ‹å‹æ˜¯æ—æœˆçï¼Œä½†ä¸èƒ½å¯¹ä»–è¯´æˆ‘çˆ±ä½ ã€‚ä¹Ÿæ²¡æœ‰äººçˆ±ç€å¥¹ã€‚åªèƒ½ä¸€ä¸ªäººç‹¬è‡ªæ‰¿å—é‚£ä¸€ä»½å­¤å¯‚å‹æŠ‘ã€‚ä¹Ÿè®¸ã€‚è¿˜æœ‰é‚£ä¸€ç§è¿ä»–è‡ªå·±éƒ½æ²¡æœ‰å¯Ÿè§‰åˆ°çš„å¯¹ç”·ç”Ÿçš„ä¸€ç‚¹ç‚¹å¥½æ„Ÿï¼Œå´æ˜¯æ— æ ¹ä¹‹èï¼Œåœ¨æ…Œä¹±ä¸ææƒ§ä¸­è¢«è—çš„ä¸¥ä¸¥å®å®ã€‚ç›´åˆ°å¼ å£«è±ªå¯¹å¥¹é”²è€Œä¸èˆçš„çˆ±æ‰æ…¢æ…¢èåŒ–äº†å¥¹å¿ƒä¸­çš„åšå†°ã€‚ç›´åˆ°å¥¹æŠ—æ‹’ä½“è‚²è€å¸ˆæ‰¾å¥¹æ—¶ï¼Œå¥¹ä¸»åŠ¨æ‹‰èµ·äº†å¼ å£«è±ªçš„æ‰‹ã€åæŒ‡ç›¸æ‰£çš„æ—¶å€™ï¼Œå¥¹çš„å¿ƒæ‰å‡ºç°äº†ç‚¹ç‚¹ç©ºéš™ã€‚\nè€Œåˆ°äº†å½±ç‰‡çš„åæœŸï¼Œä½ ä¼šçœ‹åˆ°ï¼šå¥¹ä¸€ç›´ä¸ç¬‘å®¹åŒè¡Œã€‚å°¤å…¶æ˜¯åœ¨æœ€åéª‘å•è½¦çš„æ—¶å€™ï¼Œè„‘è¢‹è½»è½»æŠ¬èµ·ï¼Œå˜´è§’å¾®å¾®ä¸Šæ‰¬ï¼Œéœ²å‡ºäº†é˜³å…‰ã€å¼€æœ—åˆè‡ªåœ¨çš„è‡ªä¿¡çš„ç¬‘ï¼Œè¿™éƒ½æ˜¯å› ä¸ºå¥¹çˆ±ä¸Šäº†ä¸€ä¸ªé˜³å…‰å¼€æœ—åˆè‡ªåœ¨çš„ç”·å­©å„¿â€”â€”å¼ å£«è±ªã€‚å› ä¸ºå¥¹å¿ƒä¸­æœ‰é‚£ä¸€ä»½çœŸæ­£çš„çˆ±å˜å¾—å¤šä¹ˆå¿«ä¹ï¼Œå¹¸ç¦ï¼Œè‡ªåœ¨ã€‚çˆ±æƒ…è§‚çš„æ”¹å˜ä½¿å¥¹è‡ªå·±ç»ˆäºæ•¢ç›´é¢è¿™ä¸ªå¹¿é˜”çš„ä¸–ç•Œã€‚ä¹Ÿåªæœ‰åœ¨é‚£æ—¶å¥¹æ‰å¯ä»¥è¯´å‡ºï¼Œâ€œè™½ç„¶æˆ‘é—­ç€çœ¼ç›ä¹Ÿçœ‹ä¸è§è‡ªå·±ï¼Œä½†æ˜¯å´å¯ä»¥çœ‹è§ä½ ã€‚â€è¿™æ ·ä¸€å¥ç¾å¦™çš„è¯ã€‚\nä»å¦ä¸€ç§è§’åº¦çœ‹ï¼Œæœ‰æ²¡æœ‰å¯èƒ½å­Ÿå…‹æŸ”å¹¶ä¸æ˜¯çœŸæ­£çš„åŒæ€§æ‹å‘¢ï¼Ÿ\nåŒæ€§æ‹Â·ã€èŒƒè¹è¹ã€‘ é‚£æœ‰æ²¡æœ‰å¯èƒ½å¥¹å¹¶ä¸æ˜¯ä¸å–œæ¬¢ç”·ç”Ÿï¼Ÿå•Šï¼Ÿè€Œæ˜¯å‡ºäºæŸäº›åŸå› çš„æ’æ–¥å‘¢ï¼Ÿå¯¹æ—æœˆççš„çˆ±ã€‚ä¼šä¸ä¼šä»…ä»…æ˜¯ä¸€ç§å¯¹æœ‹å‹çš„ä¾æ‹å‘¢ï¼Ÿæœ‰å¯èƒ½å§ã€‚\nå¤§å®¶éƒ½çŸ¥é“ï¼Œå­Ÿå…‹æŸ”ï¼Œç”Ÿé•¿åœ¨ä¸€ä¸ªå•äº²å®¶åº­ã€‚ä»–çš„çˆ¶äº²ç¦»å¼€äº†ï¼Œè‡³äºä¸ºä½•ç¦»å¼€æ˜¯ç”Ÿæ˜¯æ­»ã€æ˜¯ç¦»å¼‚ã€è¿˜æ˜¯å…¶ä»–çš„ç§ç§åŸå› ï¼Œå½±ç‰‡ä¸­æ²¡æœ‰è®²ï¼Œæˆ‘ä»¬ä¹Ÿéƒ½ä¸çŸ¥é“ï¼Œä½†è¿™ä¸é‡è¦ã€‚é‡è¦çš„æ˜¯ã€‚ä»–å»é—®äº†ä»–å¦ˆå¦ˆè¿™æ ·ä¸€å¥è¯ï¼šâ€œçˆ¸ç¦»å¼€çš„æ—¶å€™ï¼Œä½ æ˜¯æ€ä¹ˆæ´»è¿‡æ¥çš„ï¼Ÿâ€è¿™å¥è¯è¯´æ˜äº†ï¼Œè¿™ä¸ªç”·äººçš„ç¦»å¼€å¯¹å¥¹å’Œå¥¹çš„å¦ˆå¦ˆçš„ç”Ÿæ´»éƒ½äº§ç”Ÿäº†å·¨å¤§çš„å½±å“â€”â€”å¤§åˆ°è¦â€œæ´»è¿‡æ¥â€è¿™ä¸‰ä¸ªå­—æ‰èƒ½è¡¨è¾¾å‡ºå½“æ—¶çš„é‚£ç§ç—›è‹¦ä¸­èµ°å‡ºçš„è¿‡ç¨‹ã€‚è¿™å¥è¯ç¬é—´ç»™äººä¸€ç§ï¼Œå“€è«å¤§äºå¿ƒæ­»çš„æ„Ÿè§‰ã€‚çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬åº”è¯¥æ˜ç™½äº†ã€‚å­Ÿå…‹æŸ”ä¸å–œæ¬¢ç”·ç”Ÿçš„æ ¹æœ¬åŸå› ï¼Œå¯èƒ½æ˜¯åœ¨äºå¥¹å’Œå¥¹æ¯äº²æ›¾ç»è¢«ç”·äººä¼¤è¿‡ã€‚å¥¹å®³æ€•ï¼Œå¥¹çˆ¶äº²ç¦»å¼€çš„é˜´å½±åœ¨å¥¹çš„è„‘ä¸­å§‹ç»ˆæ— æ³•æŠ¹å»ã€‚è¿™æ˜¯å¥¹å¯¹æ¥è¿‘å¥¹çš„ç”·ç”Ÿçš„ä¸€ç§æ’æ–¥æ ¹æœ¬åŸå› ã€‚ç›´åˆ°å¼ å£«è±ªå¯¹å¥¹é”²è€Œä¸èˆçš„çˆ±æ‰æ…¢æ…¢èåŒ–äº†å¥¹å¿ƒä¸­çš„åšå†°ã€‚\næ‰€ä»¥ä¹‹å‰å¥¹æ€•çˆ±ä¸Šç”·ç”Ÿï¼Œäºæ˜¯å¥³ç”Ÿæ˜¯å¥¹å”¯ä¸€çš„é€‰æ‹©ï¼Œé‚£æ—¶å¥¹å¼€å§‹ç»™è‡ªå·±è´´ä¸Šæ ‡ç­¾ï¼Œäºæ˜¯å°±çœŸçš„ä»¥ä¸ºè‡ªå·±å–œæ¬¢å¥³ç”Ÿæœ‰äº†è¿™æ ·ä¸€ä¸ªé”™è¯¯çš„çˆ±æƒ…è§‚ã€‚è¿™æ ·ä¸€ä¸ªé”™è¯¯çš„çˆ±æƒ…è§‚ï¼Œè®©å¥¹åªæ•¢æ´»åœ¨è‡ªå·±æƒ³è±¡ä¸­çš„ç‹­çª„ä¸–ç•Œä¹‹ä¸­ï¼Œè€Œä¸æ•¢æ´»åœ¨ç°å®çš„å¹¿é˜”ä¸–ç•Œä¸­ã€‚è¿™æ ·çš„äººç”Ÿè§‚è®©å¥¹çš„ç”Ÿæ´»å˜å¾—ç‹­çª„ï¼Œå˜å¾—å‹æŠ‘ï¼Œå˜å¾—ä¸å¹¸ç¦ï¼Œé¡¾å°‘è§ç¬‘å®¹ã€‚æ‰€ä»¥å½“å¥¹è¯´çœ‹ä¸è§çš„æ—¶å€™ã€‚æœ‰å¯èƒ½æ˜¯å¥¹ä¸æ•¢çœ‹è§ã€‚æˆ–è€…è¯´å¥¹ä¸æ•¢æŠŠè‡ªå·±çœ‹è§çš„å†…å®¹è¯´å‡ºæ¥ï¼Œå¥¹ä¸€ç›´åœ¨é€ƒé¿ã€‚\nè€Œåˆ°äº†å½±ç‰‡çš„åæœŸï¼Œå¥¹ä¸€ç›´ä¸ç¬‘å®¹åŒè¡Œã€‚å°¤å…¶æ˜¯åœ¨æœ€åéª‘å•è½¦çš„æ—¶å€™ï¼Œè„‘è¢‹è½»è½»æŠ¬èµ·ï¼Œå˜´è§’å¾®å¾®ä¸Šæ‰¬ï¼Œéœ²å‡ºäº†é˜³å…‰ã€å¼€æœ—åˆè‡ªåœ¨çš„è‡ªä¿¡çš„ç¬‘ï¼Œè¿™éƒ½æ˜¯å› ä¸ºå¥¹çˆ±ä¸Šäº†ä¸€ä¸ªé˜³å…‰å¼€æœ—åˆè‡ªåœ¨çš„ç”·å­©å„¿â€”â€”å¼ ä¸–è±ªã€‚å› ä¸ºå¥¹å¿ƒä¸­æœ‰é‚£ä¸€ä»½çœŸæ­£çš„çˆ±å˜å¾—å¤šä¹ˆå¿«ä¹ï¼Œå¹¸ç¦ï¼Œè‡ªåœ¨ã€‚çˆ±æƒ…è§‚çš„æ”¹å˜ä½¿å¥¹è‡ªå·±ç»ˆäºæ•¢ç›´é¢è¿™ä¸ªå¹¿é˜”çš„ä¸–ç•Œã€‚ä¹Ÿåªæœ‰åœ¨é‚£æ—¶å¥¹æ‰å¯ä»¥è¯´å‡ºï¼Œâ€œè™½ç„¶æˆ‘é—­ç€çœ¼ç›ä¹Ÿçœ‹ä¸è§è‡ªå·±ï¼Œä½†æ˜¯å´å¯ä»¥çœ‹è§ä½ ã€‚â€è¿™æ ·ä¸€å¥ç¾å¦™çš„è¯ã€‚\nåˆšæ‰å‘¢ï¼Œæˆ‘ä¸€ç›´åœ¨æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œå‡å¦‚å­Ÿå…‹æŸ”å¯¹æ—æœˆçå’Œå¼ å£«è±ªéƒ½æ˜¯çœŸçˆ±ï¼Œä¹‹å‰å¥¹çˆ±ç€æ—æœˆçï¼Œä¹‹åå¥¹çˆ±ä¸Šäº†å¼ å£«è±ªï¼Œå‰ä¸€ä¸ªæ˜¯å¥³ç”Ÿã€åä¸€ä¸ªæ˜¯ç”·ç”Ÿï¼Œé‚£ä¹ˆèƒ½å¦è¯æ˜ï¼ŒçœŸçˆ±ä¸æ€§åˆ«æ— å…³è¿™ä¸€è®ºç‚¹å‘¢ï¼Ÿå½“ç„¶è¿™ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯çˆ±å¯¹å­Ÿå…‹æŸ”çš„æ”¹å˜æ˜¯æœ‰ç›Šçš„ã€‚\nåŒæ ·çš„æ—æœˆçã€å¼ å£«è±ªå› ä¸ºçˆ±ï¼Œä¹Ÿæˆ–å¤šæˆ–å°‘æœ‰ä¸€å®šçš„æ”¹å˜ï¼Œä½†ä¸å¤ªæ˜æ˜¾ï¼Œæˆ‘ä»¬å°±ä¸åœ¨å¤šè¯´ã€‚\nç”µå½±ä¸­è¡¨ç°çš„çˆ±æƒ…å›ºç„¶éå¸¸ç¾å¥½ï¼Œä½†æ˜¯åœ¨å…¶ä»–æ–¹é¢ä¹Ÿå¤¹æ‚è¿™ä¸€ç‚¹ç‚¹çš„ä¸çº¯æ´ï¼Œæ¯”å¦‚è¯´æœ‹å‹é—´çš„æ¬ºéª—ã€å’Œä¸€æ®µä¸‰è§’çš„çˆ±æ‹ã€‚ä¸‹é¢æˆ‘ä»¬è¯·ä¸æµ©æ¥ åŒå­¦è®²ä¸€ä¸‹ä»–å¯¹ç”µå½±ä¸­çš„ä¸‰è§’æ‹çš„çœ‹æ³•ã€‚\nä¸‰è§’æ‹Â·ã€ä¸æµ©æ¥ ã€‘ å…³äºæˆé•¿ åˆšæ‰æˆ‘ä»¬è°ˆè®ºäº†é‚£ä¹ˆå¤šçš„çˆ±æƒ…ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬å°±å€Ÿæ­¤è¯´è¿™ä»…ä»…æ˜¯ä¸€éƒ¨è®²è¿°â€œé’æ˜¥èŒåŠ¨ï¼Œå¹»æƒ³çˆ±æƒ…â€çš„ç”µå½±ï¼›å¦‚æœæˆ‘ä»¬å°±è®¤ä¸ºâ€œçœ‹ä¸è§è‡ªå·±ï¼Œå´å¯ä»¥çœ‹è§ä½ â€åªæ˜¯ä¸€å¥å¯¹çˆ±æƒ…çš„å‘¢å–ƒçš„è¯ï¼Ÿé‚£ä¹ˆä½ å°±å¤§é”™ç‰¹é”™äº†ã€‚å‰é¢æˆ‘ä»¬ä¹Ÿæ›¾æåˆ°è¿™éƒ¨ç”µå½±æ˜¯åœ¨è®²æœ€åˆçš„â€œæˆ‘çœ‹ä¸è§â€åˆ°â€œæˆ‘çœ‹è§ä½ â€çš„è¿‡ç¨‹ã€‚\né‚£ä¹ˆæˆ‘çœ‹ä¸è§ä»£è¡¨ç€ä»€ä¹ˆï¼Ÿä»£è¡¨ç€å¯¹äººç”Ÿæœªæ¥çš„å›°æƒ‘ï¼Œè¿·èŒ«ã€‚\næˆ‘çœ‹è§ä½ åˆæ˜¯ä¸€ç§ä»€ä¹ˆæ ·çš„è¿‡ç¨‹å’ŒçŠ¶æ€å‘¢ï¼Ÿæƒ³ä¸€æƒ³ã€‚ä½ åœ¨çå¼€çœ¼ç›çš„æ—¶å€™ï¼Œä»€ä¹ˆæƒ…å†µä¸‹èƒ½çœ‹è§è‡ªå·±åˆåœ¨ä»€ä¹ˆæƒ…å†µä¸‹çœ‹ä¸è§è‡ªå·±ï¼Ÿæ˜¯ä¸æ˜¯ä½ ä½å¤´é©»è¶³æ—¶èƒ½çœ‹è§ä½ è‡ªå·±åˆåœ¨ã€‚æŠ¬å¤´èµ°è·¯çš„æ—¶å€™çœ‹ä¸è§ä½ è‡ªå·±ï¼Œé‚£ä¹ˆåŒæ ·çš„ï¼Œå½“æˆ‘ä»¬é—­ç€çœ¼ç›ä¹Ÿçœ‹ä¸è§è‡ªå·±çš„æ—¶å€™ï¼Œè¯´æ˜äº†ä»€ä¹ˆï¼Ÿè¯´æ˜äº†æˆ‘ä»¬çš„å¿ƒä¸å†ä½å¤´ï¼Œæˆ‘ä»¬çš„å¿ƒä»°æœ›å¤©ç©ºï¼Œæˆ‘çš„å¿ƒä»¥ä½ ä¸ºæ ‡æ¦œï¼Œå…±åŒèµ°å‘æˆ‘ä»¬æœŸå¾…çš„å—å±±è“è‰²çš„å¤§é—¨ã€‚æ‰€ä»¥è¿™ä¹Ÿæ˜¯ä¸€éƒ¨è®²è¿°äººç”Ÿçš„å›°æƒ‘å’Œèµ°å‘æˆç†Ÿçš„ç”µå½±ã€‚\nå­Ÿå…‹æŸ”å†è¯´çœ‹ä¸è§çš„æ—¶å€™ï¼Œè¿·èŒ«ç€ä»€ä¹ˆï¼Ÿæ—æœˆçåœ¨æƒ³å»çš„è¡¨ç™½çš„æ—¶å€™çŠ¹è±«ç€ä»€ä¹ˆã€‚å¼ ä¸–è±ªæƒ³è¦åœ¨é‚£ä¸ªå¤å¤©ç•™ä¸‹çš„åˆæ˜¯ä»€ä¹ˆï¼Ÿ\næ‰€ä»¥ä½ ä¼šçœ‹è§ï¼Œå­Ÿå…‹æŸ”ï¼Œä¼šåœ¨åŠå¤œé‡Œè·‘åˆ°å¥¹å¦ˆçš„æˆ¿é—´é‡Œé—®ï¼šâ€œçˆ¸ç¦»å¼€çš„æ—¶å€™ï¼Œä½ æ˜¯æ€ä¹ˆæ´»è¿‡æ¥çš„ã€‚â€å¥¹ä¼šè®¤ä¸ºåœ¨æ¥å—äº†ä¸€ä¸ªç”·äººçš„å»ä¹‹åï¼Œå°±ä¼šçˆ±ä¸Šç”·ç”Ÿå„¿å»é—®ä½“è‚²è€å¸ˆå’Œå¼ ä¸–è±ªï¼Œâ€œä½ ä¼šå»æˆ‘å—ï¼Ÿâ€ä½†å½“ä½“è‚²è€å¸ˆæ‰¾æ¥çš„æ—¶å€™ï¼Œå¥¹åˆå¼€å§‹æƒ§æ€•ã€‚ä¹Ÿå°±åœ¨é‚£æ—¶ï¼Œå¥¹ç¬¬ä¸€æ¬¡ä¸»åŠ¨çš„æ‹‰èµ·äº†å¼ ä¸–è±ªçš„æ‰‹ï¼ŒåæŒ‡ç›¸æ‰£ã€‚è¿™æ˜¯å­Ÿå…‹æŸ”çš„è¿·èŒ«å’Œè·µè¡Œã€‚\nåŒæ ·çš„ï¼Œæ—æœˆçå’Œå¼ å£«è±ªéƒ½æœ‰ä»–ä»¬å„è‡ªçš„è¿·èŒ«å’Œå¯¹åº”çš„è·µè¡Œï¼Œä¸”å¬å¼ æ˜¥æœˆå’Œç‹å®‡çº¯åŒå­¦ä¸ºæˆ‘ä»¬ä¸€ä¸€é“æ¥ã€‚\nå…³äºæˆé•¿â€”â€”æ—æœˆçÂ·ã€å¼ æ˜¥æœˆã€‘ å…³äºæˆé•¿â€”â€”å¼ ä¸–è±ªÂ·ã€ç‹å®‡çº¯ã€‘ æ‰€ä»¥ä½ ä¼šçœ‹åˆ°æ—æœˆçä¼šå› ä¸ºçˆ±å»æ”¶é›†å¼ ä¸–è±ªä¸¢æ‰çš„ä¸œè¥¿ã€‚ä¼šè¯´å‡ºå¦‚æœæˆ‘ç”¨å¥¹çš„åŸå­ç¬”å†™å¥¹çš„åå­—å†™é“ï¼Œè«å¹²ï¼Œæ˜¯ä¸æ˜¯å¥¹å°±ä¼šçˆ±ä¸Šæˆ‘ï¼Ÿå¥¹ä¼šåœ¨è¢«æ‹’ç»ï¼Œè¢«è¯´å‡ºâ€œå¯¹ä¸èµ·â€ä¹‹åï¼Œä¸€ä¸ªäººå«ç€æ³ªåˆ°å¤©å°ä¸Šï¼Œåˆä¸¢æ‰ï¼Œçƒ§æ‰é‚£äº›æ›¾ç»æ— æ¯”åœ¨æ„çš„ä¸œè¥¿ï¼Œç„¶åçªç„¶èˆä¸å¾—ï¼Œå†æ¡å›æ¥ã€‚åœ¨å¥½æœ‹å‹é¢å‰ï¼Œå¥¹è¿˜æ•…ä½œåšå¼ºåœ°å¹»æƒ³ç€å¥¹ä¸å¼ ä¸–è±ªä¸å¯èƒ½çš„ç¾å¥½æœªæ¥ã€‚å¯æ˜¯ã€‚æœ€ç»ˆã€‚å¥¹è¿˜æ˜¯ä¸å¾—ä¸åœ¨æœ¬å­ä¸Šå˜äº†åå­—ï¼Œå¼€å§‹å“­ç€å†™ä¸Šäº†æœ¨æ‘æ‹“å“‰ã€‚\næ‰€ä»¥å¼ ä¸–è±ªä¼šä¸€éä¸€éçš„å¯¹å­Ÿå…‹æŸ”è¯´ï¼Œæˆ‘å«å¼ å£«è±ªå‹ï¼Œæ¸¸æ³³é˜Ÿå‰ä»–ç¤¾ï¼Œé•¿å¾—è¿˜ä¸é”™ã€‚ä¼šæ¯å¤©æ™šä¸Šåˆ°å¥¹å®¶çš„åº—é‡Œåƒæ°´é¥ºï¼Œèµ°çš„æ—¶å€™è¿˜ä¼šè¯´ä¸€å£°ä¸€å¥æˆ‘åƒé¥±å›å®¶å–½ï¼ä¼šå¯¹è‡ªå·±å–œæ¬¢çš„äººè¯´å‡ºè‡ªå·±çš„ç§˜å¯†ã€‚å­Ÿå…‹æŸ”å¸¦æ—æœˆçå»è§ä»–ä¹‹åï¼Œä»–ä¼šä¸€éåˆä¸€éçš„è¿½é—®å­Ÿå…‹æŸ”ï¼Œä½ æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿåœ¨æœ€åä»–ä¼šå¯¹å¥¹è¯´ï¼šâ€œå¦‚æœæœ‰ä¸€å¤©ï¼Œæˆ–è®¸ä¸€å¹´ï¼Œæˆ–è®¸ä¸‰å¹´ï¼Œå¦‚æœä½ å¼€å§‹å–œæ¬¢ç”·ç”Ÿï¼Œä½ ä¸€å®šè¦ç¬¬ä¸€ä¸ªå‘Šè¯‰æˆ‘å“¦ã€‚â€ï¼ˆç¬‘å±å•Šï¼ï¼‰\nè¿™äº›éƒ½æ˜¯ä»–ä»¬å¯¹çˆ±çš„è¯•æ¢ï¼Œå¯¹é’æ˜¥çš„è·µè¡Œä¹Ÿæ˜¯å¯¹æˆç†Ÿä¹‹è·¯çš„è¿·èŒ«ã€‚åªæœ‰ç»è¿‡äº†è¿™äº›è¯•æ¢ï¼Œè·µè¡Œæˆ‘ä»¬æ‰å¯ä»¥çœ‹å¾—æ¸…è‡ªå·±ï¼Œæ‰èƒ½çœ‹å¾—è§ä½ \nä¹Ÿè®¸åªæœ‰è¿™æ ·ï¼Œæˆ‘ä»¬æ‰èƒ½åœ¨ä¸‰å¹´ï¼Œäº”å¹´ï¼Œç”šè‡³æ›´ä¹…ä¹‹åï¼Œå›é¦–æ—¶çœ‹è§é‚£ä¸€æ‰‡è“è‰²çš„å¤§é—¨å’Œé—¨å‰çš„ä½ ã€‚\nç»“è¯­\u0026amp;è“è‰²çš„å¤§é—¨ ç”µå½±çš„åå­—å«åšã€Šè“è‰²å¤§é—¨ã€‹ã€‚ä½†æ˜¯åœ¨ç”µå½±ä¸­ä½ çœ‹ä¸åˆ°ä»»ä½•ä¸€æ‰‡é—¨æ˜¯è“è‰²çš„ã€‚ä¹Ÿè®¸ä½ ä¼šç–‘æƒ‘ä¼šå»å¯»æ‰¾ï¼Œç›´åˆ°ä½ å¬åˆ°æœ€åé‚£ä¸€æ®µç‹¬ç™½çš„æ—¶å€™ï¼Œâ€œæˆ‘åœ¨æƒ³ä¸€å¹´ï¼Œä¸‰å¹´ï¼Œäº”å¹´ä¹‹åï¼Œæˆ‘ä»¬ä¼šå˜æˆä»€ä¹ˆæ ·å­å‘¢ï¼Ÿç”±äºä½ å–„è‰¯ï¼Œå¼€æœ—åˆè‡ªåœ¨ï¼Œä½ åº”è¯¥æ›´å¸…å§ï¼äºæ˜¯æˆ‘ä¼¼ä¹çœ‹åˆ°ã€‚å¾ˆå¤šå¹´ã€‚ä»¥åã€‚ä½ ç«™åœ¨ä¸€æ‰‡è“è‰²çš„å¤§é—¨å‰ã€‚ä¸‹åˆä¸‰ç‚¹çš„é˜³å…‰ï¼Œä¸€ä¸¤é¢—é’æ˜¥ç—˜ã€‚ä½ ç¬‘ç€ï¼Œæˆ‘è·‘å‘ä½ é—®ä½ å¥½ä¸å¥½ï¼Œä½ ç‚¹ç‚¹å¤´ã€‚ä¸‰å¹´äº”å¹´ä»¥åï¼Œç”šè‡³æ›´ä¹…ã€æ›´ä¹…ä»¥åæˆ‘ä»¬ä¼šå˜æˆä»€ä¹ˆæ ·çš„å¤§äººå‘¢ï¼Ÿæ˜¯ä½“è‚²è€å¸ˆè¿˜æ˜¯æˆ‘å¦ˆï¼Ÿè™½ç„¶æˆ‘é—­ç€çœ¼ç›ä¹Ÿçœ‹ä¸è§è‡ªå·±ï¼Œä½†æ˜¯å´å¯ä»¥çœ‹è§ä½ ã€‚â€ä½ æ‰ä¼šå‘ç°ï¼Œæ•´éƒ¨ç”µå½±å°±åº”è¯¥åœ¨ä¸€æ‰‡è“è‰²çš„å¤§é—¨ä¹‹å†…ã€‚ä½ ç«™åœ¨é—¨å£çœ‹ç€å…¶ä¸­çš„ç‚¹ç‚¹æ»´æ»´ï¼Œæ‰€ä»¥å¿˜è®°äº†å®ƒçš„æœ¬èº«ã€‚è“è‰²åœ¨è‰ºæœ¯ä¸­ä»£è¡¨ç€æ°¸æ’é’æ˜¥åœ¨æˆ‘ä»¬å¿ƒä¸­æ°¸å­˜ï¼Œæ‰€ä»¥ã€‚ã€Šè“è‰²å¤§é—¨ã€‹å°±æ˜¯æˆ‘ä»¬é’æ˜¥æ°¸æ’çš„å¤§é—¨ã€‚å½“ç„¶ï¼Œä¹Ÿæœ‰äººè¯´è¿™æ˜¯è“è‰²çš„å¤§é—¨ï¼Œåªæ˜¯å°åŒ—å¸ˆå¤§é™„ä¸­çš„ä¸€æ‰‡å¤§é—¨ã€‚æˆ‘è®¤ä¸ºè¿™ä¸é‡è¦ï¼Œé‚£ä¹Ÿåªæ˜¯é’æ˜¥çš„ä¸€ä¸ªç¼©å½±è€Œå·²ã€‚\nåœ¨æœ€åã€‚è¿™ç”µå½±è¿˜ç»™æˆ‘ä»¬å¸¦æ¥äº†å¾ˆå¤šå›å¿†ã€‚å› ä¸ºæ­¤æ—¶çš„æˆ‘ä»¬ç›¸æ¯”ï¼Œä»–ä»¬ä¸‰å¹´äº”å¹´éƒ½å·²ç»å¿«è¿‡å»äº†ã€‚æˆ‘ä»¬å°±è¦æˆä¸ºä»–ä»¬å£ä¸­çš„å¤§äººäº†ã€‚åœ¨çœ‹åˆ°æœ€åé‚£ä¸€ä¸ªçˆ±å¦¹å„¿çš„æ—¶å€™ã€‚æˆ‘ä»¬éƒ½èƒ½æ·±åˆ»çš„æ„Ÿè§‰åˆ°é’æ˜¥æˆ‘æ¥è¿‡ã€‚å°±åœ¨è¿™æ—¶ï¼Œä½ çš„å¿ƒä¸­ã€‚å°±ä¼šå‘ç°é‚£ä¸€å•å±äºä½ è‡ªå·±çš„è“è‰²çš„å¤§é—¨ï¼Œæ°¸æ’æ°”åŠ›ã€‚æ­¤æ—¶ã€‚æˆ‘ä»¬åœ¨è‡ªå·±çš„è“è‰²å¤§é—¨ä¸­çœ‹åˆ°äº†ä»€ä¹ˆï¼Ÿæˆ‘ä»¬å°±å·²ç»æˆä¸ºäº†ä»€ä¹ˆæ ·å­çš„å¤§äººã€‚\n","date":"2018-12-11T00:00:00Z","image":"https://blog-g.leecq.cn/cover_%E8%93%9D%E8%89%B2%E5%A4%A7%E9%97%A8.jpg","permalink":"https://blog-g.leecq.cn/p/%E8%A7%82%E5%90%8E%E6%84%9F-%E8%93%9D%E8%89%B2%E5%A4%A7%E9%97%A8/","title":"è§‚åæ„Ÿ - è“è‰²å¤§é—¨"},{"content":"ç›®æ ‡ ç¼–å†™ä¸€ä¸ªç®€æ´çš„Lokié…ç½®æ–‡ä»¶ï¼Œè¦æ±‚ï¼š\nå•ä¸€éƒ¨ç½²ï¼Œ(=target=all) ä½¿ç”¨æœ¬æ¬¡ç£ç›˜ä½œä¸ºå­˜å‚¨(æ•°æ®æ ¹ç›®å½•ï¼š/opt/app/loki/data) ç›‘å¬åœ¨ç«¯å£3100ä¸Š ä½¿ç”¨ç®€å•çš„ç”¨æˆ·åå¯†ç è®¤è¯(ç”±Nginxå®ç°ï¼ŒLokiä¸åŒ…å«è®¤è¯æœåŠ¡) é…ç½®æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 # loki-config.yaml auth_enabled: false server: http_listen_port: 3100 common: path_prefix: /opt/app/loki/data storage: filesystem: chunks_directory: /opt/app/loki/data/chunks rules_directory: /opt/app/loki/data/rules replication_factor: 1 ring: instance_addr: localhost kvstore: store: inmemory query_scheduler: # the TSDB index dispatches many more, but each individually smaller, requests. # We increase the pending request queue sizes to compensate. max_outstanding_requests_per_tenant: 32768 schema_config: configs: - from: 2000-07-01 store: tsdb object_store: filesystem schema: v13 index: prefix: index_ period: 24h storage_config: filesystem: directory: /opt/app/loki/data å¯åŠ¨å‘½ä»¤ å•èŠ‚ç‚¹å¯åŠ¨ï¼šnohup loki-linux-amd64 -target=all -config.file=loki-config.yaml\n","date":"0001-01-01T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/","title":""},{"content":"","date":"0001-01-01T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/","title":""},{"content":"https://github.com/greenbone https://hub.docker.com/r/virsacer/gvm\n","date":"0001-01-01T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/","title":""},{"content":"","date":"0001-01-01T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/","title":""},{"content":"","date":"0001-01-01T00:00:00Z","permalink":"https://blog-g.leecq.cn/p/","title":""}]